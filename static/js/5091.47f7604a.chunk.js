"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[5091,6349,2959,6874,7567],{7567:(e,a,s)=>{s.r(a),s.d(a,{default:()=>o,loadEvidence:()=>c,loadImage:()=>v});var l=s(2791),i=s(2647),d=s(2350),n=s(5232),t=s(184);(0,i.PU)();const r=(0,i.tW)(),o=e=>{var a,s,i,o,v;let{ImgS3Url:u,imgId:h,urlBasic:p,clickHandle:m}=e;const[,g]=(0,l.useState)(1),[x,b]=(0,l.useState)(""),j=()=>{g((0,d.M5)())};(0,l.useEffect)((()=>{p?b(p):u?f(u):h&&N(h)}),[u,h,p]);const N=async e=>{var a;let s={...null===(a=(0,d.bh)((0,d.hQ)()))||void 0===a?void 0:a.id_img_loc};s.params={imgLocId:e};const l=(0,d.I7)(s),i=await l;console.log(i)},f=async e=>{var a;let s={...null===(a=(0,d.bh)((0,d.hQ)()))||void 0===a?void 0:a.id_img_loc};s.params={imgLocId:e};const l=(0,d.I7)(s);await l};(0,l.useEffect)((()=>{var e;!x||null!==(e=(0,d.bh)("loadedImages"))&&void 0!==e&&e[x]||(setTimeout((()=>{var e,a;null!==(e=(0,d.bh)("loadedImagesMetadata"))&&void 0!==e&&null!==(a=e[x])&&void 0!==a&&a.w2hRel&&j()}),1800),setTimeout((()=>{var e,a;null!==(e=(0,d.bh)("loadedImagesMetadata"))&&void 0!==e&&null!==(a=e[x])&&void 0!==a&&a.w2hRel&&j()}),1200),c([x]))}),[x]);let y=156.25;var _,k;null!==(a=(0,d.bh)("loadedImagesMetadata"))&&void 0!==a&&null!==(s=a[x])&&void 0!==s&&s.w2hRel&&(y=250/(null===(_=(0,d.bh)("loadedImagesMetadata"))||void 0===_||null===(k=_[x])||void 0===k?void 0:k.w2hRel));const w=async(e,a)=>{var s=await(0,d.Em)(e,a);window.open(s)};return(0,t.jsx)("div",{className:" ",children:x?null!==(i=(0,d.bh)("loadedImagesMetadata"))&&void 0!==i&&null!==(o=i[x])&&void 0!==o&&o.w2hRel?(0,t.jsx)("div",{className:"_dsplFlx ",children:(0,t.jsx)("div",{className:"prev_document ",onClick:async()=>{if(m)m();else{let a=(0,d.LH)(x);var e=await(0,n.v8)(x);w(e.url,a)}},children:(0,t.jsx)("img",{src:null===(v=(0,d.bh)("loadedImages"))||void 0===v?void 0:v[x],alt:x,style:{width:250,height:y}})})}):(0,t.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,t.jsx)("div",{className:"lbl_saving prev_document ",children:"getting Image ..."}),(0,t.jsx)(r,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):null})},c=async e=>{let a=(0,d.bh)("loadedImages")||{};const s=e.map((async e=>{e&&(a[e]=await v(e),(0,d.lK)(e,a[e]))}));await Promise.all(s);return(0,d.Rz)("loadedImages",a),!0},v=async e=>{let a=(0,d.LH)(e);var s=await(0,n.v8)(e);return(null===s||void 0===s?void 0:s.url)&&await(0,d.Em)(null===s||void 0===s?void 0:s.url,a)}},6349:(e,a,s)=>{s.d(a,{Z:()=>r});var l=s(9760),i=s(2647),d=s(2350),n=s(184);const t=(0,i.LA)(),r=e=>{let{init:a,label:s,updDate:i}=e;const r=e=>{i(e.initDate+800)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"label",children:s||"Fecha"}),(0,n.jsx)("div",{className:"date2Upd",onClick:()=>{let e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,n.jsx)(t,{onConfirm:r,init:a}),(0,l.OpenModal)(e)},children:a?(0,d.sG)(a):(0,d.sG)((new Date).getTime())})]})}},5091:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var l=s(2791),i=s(9760),d=s(2647),n=s(2350),t=s(6349),r=s(1479),o=s(3196),c=s(4237),v=s(1439),u=s(7567),h=s(184);const p=(0,d.YZ)(),m=(0,d.A5)(),g=(0,d.Np)(),x=e=>{var a,s,d,x,b,j,N,f,y,_,k,w,I,C,P,F,A,D,S,T,L,R,K,O,M,W,H,E,B,z,Q,U,Z;let{data:q,confirm:Y}=e,G=["lastName1","lastName2","currentAddressId","currentKvaAddressId","signature","requestDate","hasBirthCertificate","tomo","folio","civilRegister","cid","dateLetf","isEmigrado","hasPassport","passportNumberOld","expirationDate","issuePlace","highestDegree","signatureOnPassport","documentType","hiddeLines","hasSignature","referenceName","serviceFee"];const J="cubanPassportFrm",V=(0,l.useRef)(!1),[,X]=(0,l.useState)(1),[$,ee]=(0,l.useState)({}),[ae,se]=(0,l.useState)(!1),le=e=>{X((0,n.M5)())},ie=async(e,a)=>{var s;let l={...null===(s=(0,n.bh)((0,n.hQ)()))||void 0===s?void 0:s.doc_struct};l.params={type:"passportkva_struct"};const i=(0,n.I7)(l),d=await i;d&&!d.error&&((0,n.Rz)("passportkva_struct",d),(0,n.KI)(e,a))};(0,l.useEffect)((()=>{if(!V.current)return V.current=!0,setTimeout((()=>{var e;de("documentType","cubanPassport"),X((0,n.M5)()),(0,n.bh)("passportkva2.pdf")||(e=>{let a=(0,n.bh)("passportkva_last")||0;Date.now()>a&&((0,n.Rz)("passportkva_last",Date.now()+490),ie(e,le))})("passportkva2.pdf");let a=(null===(e=(0,n.bh)((0,n.Ks)()))||void 0===e?void 0:e.residences)||{},s=[],l=[];if(a){let e={};(0,n._2)(a).map((i=>{var d,n;(console.log(i,a[i].country),"USA"===a[i].country)&&(s.push({label:null===(d=a[i])||void 0===d?void 0:d.addressLineOne,id:i}),e[i]=a[i]);"CUB"===a[i].country&&(l.push({label:null===(n=a[i])||void 0===n?void 0:n.addressLineOne,id:i}),e[i]=a[i])}))}(0,n.Rz)("addressListPick",s),(0,n.Rz)("addressCubaListPick",l)}),50),()=>{}}));const de=(e,a)=>{let s=(0,n.bh)(J)||{};s[e]=a,(0,n.Rz)(J,s),X((0,n.M5)())},ne=async(e,a,s,l)=>{var i;let d=null===(i=(0,n.bh)("loadedImages"))||void 0===i?void 0:i[l.signatureOnPassport];var t;d||(d=null===(t=(0,n.bh)("imageSignatures"))||void 0===t?void 0:t[l.signatureOnPassport]);l.hasSignature||(d=null);let o=await(0,r.wO)(e,a,!0,"passportkva2.pdf",s,d,l.signatureOnPassport);window.open(o)},te=()=>{(null===q||void 0===q?void 0:q.modalID)&&(0,i.CloseModal)({id:null===q||void 0===q?void 0:q.modalID})};let re=(0,n.vy)(G,(0,n.bh)(J),(0,n.bh)(J+"_bck"));return(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"820px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"form_title",children:"Cuban Passport"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"card",children:(0,h.jsx)(v.N,{color:"#007bfc",icon:"printer",label:"Imprimir",clickHandler:async()=>{var e;let a={...(0,n.bh)((0,n.Ks)())},s=Object.assign({},(0,n.bh)(J),a),l=(0,n.fY)(null===a||void 0===a?void 0:a.firstName)+(0,n.fY)(null===a||void 0===a?void 0:a.middleName)+(0,n.fY)(null===a||void 0===a?void 0:a.lastName),i="".concat(l,"_").concat("Cuban Passport"),{result:d,struct:t}=(0,o.P)(s),r=s.signatureOnPassport,c=null===(e=(0,n.bh)("loadedImages"))||void 0===e?void 0:e[r];var v;c||(c=null===(v=(0,n.bh)("imageSignatures"))||void 0===v?void 0:v[r]);console.log((0,n.bh)("loadedImages")),console.log(r,c),(0,n.lK)(s.signatureOnPassport,c),console.log(c),setTimeout((()=>{ne(d,t,i,s)}),400)}})})]}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)(g,{init:null===(a=(0,n.bh)(J))||void 0===a?void 0:a.lastName1,label:"Apellido 1",width:190,updChanges:e=>de("lastName1",e)}),(0,h.jsx)(g,{init:null===(s=(0,n.bh)(J))||void 0===s?void 0:s.lastName2,label:"Apellido 2",width:190,updChanges:e=>de("lastName2",e)})]}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)("div",{style:{margin:"9px 1px 0 25px",minWidth:380},children:(0,h.jsx)(m,{init:null===(d=(0,n.bh)(J))||void 0===d?void 0:d.currentAddressId,lbl_empty:"Address",list:(0,n.bh)("addressListPick")||[],onSelect:e=>de("currentAddressId",e.id),background:"var(--dark-900)",color:"var(--light-200)",direction:"right",width:"380px"})}),(0,h.jsx)("div",{style:{margin:"9px 1px 0 25px",minWidth:380},children:(0,h.jsx)(m,{init:null===(x=(0,n.bh)(J))||void 0===x?void 0:x.currentKvaAddressId,lbl_empty:"Address Cuba",list:(0,n.bh)("addressCubaListPick")||[],onSelect:e=>de("currentKvaAddressId",e.id),background:"var(--dark-900)",color:"var(--light-200)",direction:"right",width:"380px"})})]}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround flxWrp",style:{margin:"10px 0px 30px 0"},children:(0,h.jsx)("div",{style:{margin:"9px 1px 0 25px"},children:(0,h.jsx)(m,{init:null===(b=(0,n.bh)(J))||void 0===b?void 0:b.highestDegree,lbl_empty:"Highest Degree",list:[{label:"Secundaria",id:"525"},{label:"12 grado sin Titulo",id:"526"},{label:"diploma 12 grado, GED",id:"527"},{label:"1 or more years of college credit, no degree",id:"528"},{label:"Bachelor's degree",id:"530"},{label:"Master's degree",id:"531"},{label:"Doctorate degree",id:"533"}],onSelect:e=>de("highestDegree",e.id),background:"var(--dark-900)",color:"var(--light-200)",direction:"left",width:"320px"})})}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)(g,{init:null===(j=(0,n.bh)(J))||void 0===j?void 0:j.cid,label:"Carnet",width:190,updChanges:e=>de("cid",e)}),(0,h.jsx)("div",{children:(0,h.jsx)(t.Z,{init:null===(N=(0,n.bh)(J))||void 0===N?void 0:N.dateLetf,label:"Last Left Date",updDate:e=>de("dateLetf",e)})}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(f=(0,n.bh)(J))||void 0===f?void 0:f.isEmigrado,keyCode:57,updChange:e=>de("isEmigrado",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Emigrado"})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",style:{marginTop:20},children:[(0,h.jsx)(g,{init:null===(y=(0,n.bh)(J))||void 0===y?void 0:y.referenceName,label:"Referencia",width:640,updChanges:e=>de("referenceName",e)}),(0,h.jsxs)("div",{className:"center_align lengthReference ".concat((null===(_=(0,n.bh)(J))||void 0===_||null===(k=_.referenceName)||void 0===k?void 0:k.length)>128?"error":""),children:[null===(w=(0,n.bh)(J))||void 0===w||null===(I=w.referenceName)||void 0===I?void 0:I.length,"/128"]})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(C=(0,n.bh)(J))||void 0===C?void 0:C.hasPassport,keyCode:57,updChange:e=>de("hasPassport",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Has Passport"})]}),null!==(P=(0,n.bh)(J))&&void 0!==P&&P.hasPassport?(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(F=(0,n.bh)(J))||void 0===F?void 0:F.passportNumberOld,label:"Passport Number",width:130,updChanges:e=>de("passportNumberOld",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(t.Z,{init:null===(A=(0,n.bh)(J))||void 0===A?void 0:A.expirationDate,label:"Expiration Date",updDate:e=>de("expirationDate",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(D=(0,n.bh)(J))||void 0===D?void 0:D.issuePlace,label:"Issue Place",width:320,updChanges:e=>de("issuePlace",e)})})]}):null,(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(S=(0,n.bh)(J))||void 0===S?void 0:S.hasBirthCertificate,keyCode:57,updChange:e=>de("hasBirthCertificate",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Has Birth Certificate"})]}),null!==(T=(0,n.bh)(J))&&void 0!==T&&T.hasBirthCertificate?(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(L=(0,n.bh)(J))||void 0===L?void 0:L.tomo,label:"Tomo",width:100,updChanges:e=>de("tomo",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(R=(0,n.bh)(J))||void 0===R?void 0:R.folio,label:"Folio",width:100,updChanges:e=>de("folio",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(K=(0,n.bh)(J))||void 0===K?void 0:K.civilRegister,label:"Civil Register",width:320,updChanges:e=>de("civilRegister",e)})})]}):null,(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(O=(0,n.bh)(J))||void 0===O?void 0:O.hasSignature,keyCode:57,updChange:e=>de("hasSignature",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Has Signature"})]}),(0,h.jsx)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:(null===(M=(0,n.bh)((0,n.Ks)()))||void 0===M?void 0:M.signatures)&&(0,n._2)(null===(W=(0,n.bh)((0,n.Ks)()))||void 0===W?void 0:W.signatures).map((e=>{var a,s,l;let i=null===(a=(0,n.bh)((0,n.Ks)()))||void 0===a||null===(s=a.signatures)||void 0===s?void 0:s[e];return console.log("imgSign",i),console.log("flnNm",e),(0,h.jsx)("div",{className:"signBx ".concat((null===(l=(0,n.bh)(J))||void 0===l?void 0:l.signatureOnPassport)===e?"active":""),children:(0,h.jsx)(c.SignatureImage,{flnNm:e,imgSign:i,onHandle:e=>de("signatureOnPassport",e)})},e)}))}),(0,h.jsx)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:(0,h.jsx)("div",{className:"signBx ".concat((null===(E=(0,n.bh)(J))||void 0===E?void 0:E.signatureOnPassport)===(null===(B=(0,n.bh)((0,n.Ks)()))||void 0===B?void 0:B.panama_visa_signature)?"active":""),children:(0,h.jsx)("div",{className:"prev_signature ",children:(0,h.jsx)(u.default,{clickHandle:()=>{var e;console.log("selectSign"),de("signatureOnPassport",null===(e=(0,n.bh)((0,n.Ks)()))||void 0===e?void 0:e.panama_visa_signature)},urlBasic:null===(z=(0,n.bh)((0,n.Ks)()))||void 0===z?void 0:z.panama_visa_signature})})},null===(H=(0,n.bh)((0,n.Ks)()))||void 0===H?void 0:H.panama_visa_signature)}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9,marginTop:20},children:[(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,h.jsx)(t.Z,{init:null===(Q=(0,n.bh)(J))||void 0===Q?void 0:Q.requestDate,label:"Fecha de solicitud",updDate:e=>de("requestDate",e)})}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(U=(0,n.bh)(J))||void 0===U?void 0:U.signature,keyCode:57,updChange:e=>de("signature",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Require Signature"})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(Z=(0,n.bh)(J))||void 0===Z?void 0:Z.hiddeLines,keyCode:57,updChange:e=>de("hiddeLines",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Mostrar Lineas"})]})]}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:null!==re&&void 0!==re&&re.hasChange?(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"card",children:(0,h.jsx)(v.N,{color:"#feb200",icon:"printer",label:"Actualizar",clickHandler:async()=>{let e=(0,n.bh)(J),a={};if(e.caseId){var s,l;let i=(0,n.vy)(G,(0,n.bh)(J),(0,n.bh)(J+"_bck"));a={...null===(s=(0,n.bh)((0,n.hQ)()))||void 0===s?void 0:s.upd_notry_case},a.params={customerId:null===(l=(0,n.bh)((0,n.Ks)()))||void 0===l?void 0:l.clientNotaryId,caseId:e.caseId},a.data2update=i.data}else{var i,d;e.customerId=(0,n.bh)((0,n.Ks)()).clientNotaryId,e.documentType="cubanPassport",e.caseId=(0,n.M5)(),e.date?e.date=new Date(e.date).getTime():e.date=(new Date).getTime()+800,a={...null===(i=(0,n.bh)((0,n.hQ)()))||void 0===i?void 0:i.add_notry_case},a.params={customerId:null===(d=(0,n.bh)((0,n.Ks)()))||void 0===d?void 0:d.clientNotaryId},a.form=e}const t=(0,n.I7)(a),r=await t;r&&!r.error&&te()}})})]}):(0,h.jsx)("div",{className:"card"})}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20}})]})}}}]);
//# sourceMappingURL=5091.47f7604a.chunk.js.map