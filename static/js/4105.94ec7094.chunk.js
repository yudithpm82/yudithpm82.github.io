"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[4105],{4105:(e,s,l)=>{l.r(s),l.d(s,{default:()=>f});var t=l(2791),d=(l(9760),l(2647)),i=l(2350),a=l(5232),n=l(1439),o=(l(254),l(184));const r=(0,d.Np)(),c=(0,d.PU)(),m=(0,d.tW)();const u="add_dlR",v=e=>{let{frmNm3:s,updObs:l}=e;return(0,o.jsxs)("div",{children:[(0,o.jsxs)("div",{className:"",children:[(0,o.jsx)(N,{title:"DL Number:",frmNm:s,keyfld:"dlNumber",updObs:l}),(0,o.jsx)(N,{title:"Type of Document:",frmNm:s,keyfld:"typeDocument",updObs:l}),(0,o.jsx)(N,{title:"State:",frmNm:s,keyfld:"stateOfIssuance",updObs:l}),(0,o.jsx)(N,{title:"Class:",frmNm:s,keyfld:"class",updObs:l}),(0,o.jsx)(x,{title:"Expiration Date:",frmNm:s,keyfld:"expirationDate",updObs:l}),(0,o.jsx)(x,{title:"Issue Date:",frmNm:s,keyfld:"issueDate",updObs:l}),(0,o.jsx)(x,{title:"Date of Birth:",frmNm:s,keyfld:"dob",updObs:l}),(0,o.jsx)(N,{title:"Last Name:",frmNm:s,keyfld:"lastName",updObs:l}),(0,o.jsx)(N,{title:"First Name:",frmNm:s,keyfld:"firstName",updObs:l}),(0,o.jsx)(N,{title:"Middle Name:",frmNm:s,keyfld:"middleName",updObs:l})]}),(0,o.jsxs)("div",{children:[(0,o.jsx)(N,{title:"Address:",frmNm:s,keyfld:"address",updObs:l}),(0,o.jsx)(N,{title:"City:",frmNm:s,keyfld:"city",updObs:l}),(0,o.jsx)(N,{title:"County:",frmNm:s,keyfld:"county",updObs:l}),(0,o.jsx)(N,{title:"State:",frmNm:s,keyfld:"state",updObs:l}),(0,o.jsx)(N,{title:"Zipcode:",frmNm:s,keyfld:"zipCode",updObs:l}),(0,o.jsx)(N,{title:"Sexo:",frmNm:s,keyfld:"genre",updObs:l}),(0,o.jsx)(N,{title:"Height:",frmNm:s,keyfld:"height",updObs:l}),(0,o.jsx)(N,{title:"Ojos:",frmNm:s,keyfld:"eyesColor",updObs:l})]})]})},p=e=>{var s;let{frmNm3:l,updObs:t,handleSubmit:d}=e,a={expirationDate:1,issueDate:1,dob:1};return(0,o.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{paddingTop:"35px"},children:[(0,o.jsx)("div",{className:"",style:{padding:"15px"},children:(0,o.jsx)(r,{init:null===(s=(0,i.bh)(l))||void 0===s?void 0:s.backBarcode,width:540,updChanges:e=>t("backBarcode",e)})}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(n.N,{color:"#007bfc",label:"Read Bar Code",clickHandler:e=>{var s;let d=null===(s=(0,i.bh)(l))||void 0===s?void 0:s.backBarcode;setTimeout((()=>{let e=(0,i.qh)(d);e.typeDocument="DRIVER'S LICENSE",(0,i._2)(a).map((s=>{if(e[s]){let l=e[s].slice(0,2),t=e[s].slice(2,4),d=e[s].slice(4,8);e[s]=new Date(l+"/"+t+"/"+d).getTime()}})),(0,i.Rz)(l,e),t()}),200)}})})]})},N=e=>{var s;let{title:l,keyfld:d,updObs:a,frmNm:n}=e;const[m,u]=(0,t.useState)(!1),[v,p]=(0,t.useState)(1),N=()=>{a&&a(),u(!1)};let x=null===(s=(0,i.bh)(n))||void 0===s?void 0:s[d];return(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:m?8:1},children:l}),m?(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(r,{init:x,width:240,updChanges:e=>((e,s)=>{let l=(0,i.bh)(n)||{};l[e]=s,(0,i.Rz)(n,l),p((0,i.M5)())})(d,e),onEnter:N})}),(0,o.jsx)("div",{className:"icon_image ",onClick:N,children:(0,o.jsx)(c,{name:"success",color:"var(--success)"})})]}):(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>u(!0),children:x||"click to type"})]})},x=e=>{var s,l;let{title:d,keyfld:a,updObs:n,frmNm:m}=e;const[u,v]=(0,t.useState)(!1),[p,N]=(0,t.useState)(1),[x,f]=(0,t.useState)(""),b=()=>{((e,s)=>{let l=(0,i.bh)(m)||{},t=new Date(s).getTime();l[e]=t,(0,i.Rz)(m,l),N((0,i.M5)())})(a,x),n&&n(),v(!1)};let h=null===(s=(0,i.bh)(m))||void 0===s?void 0:s[a],j=x||(0,i.sJ)(null===(l=(0,i.bh)(m))||void 0===l?void 0:l[a])||"";return(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:u?8:1},children:d}),u?(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(r,{init:j,width:240,updChanges:f,onEnter:b})}),(0,o.jsx)("div",{className:"icon_image ",onClick:b,children:(0,o.jsx)(c,{name:"success",color:"var(--success)"})})]}):(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>v(!0),children:(0,i.sG)(h)||"click to type"})]})},f=e=>{let{frmNm3:s,updObs:l,updFrm:d,item:r,image:c,confirm:N,close:x}=e;const[,f]=(0,t.useState)(1),[b,h]=(0,t.useState)(!1),[j,y]=(0,t.useState)(!1),k=e=>{if(null!==e&&void 0!==e&&e.IdentityDocuments){let t=(0,a.Wy)(null===e||void 0===e?void 0:e.IdentityDocuments);(0,i.Rz)(s,t),l()}},g=async e=>{let s=await(0,a.IH)(e);k(s),I(null===s||void 0===s?void 0:s.IdentityDocuments[0])},_=async e=>{let s=await(0,a.DO)(e+"_idDoc.json");if(s){var l=await fetch(s);if(200===l.status){var t=await l.json();null!==t&&void 0!==t&&t.IdentityDocuments?(k(t),I(null===t||void 0===t?void 0:t.IdentityDocuments[0])):g(e)}else g(e)}else g(e)},O=async e=>{var s,l;let t={};t.clientNotaryId=e.clientNotaryId,t.passportImage=e.passportImage,t.dob=e.dob,t.dateOfBirth=e.dob,t.genre=e.genre,t.lastName=(0,i.kC)(e.name1)+" "+(0,i.kC)(e.name2),t.firstName=(0,i.kC)(e.name3),e.name4&&(t.middleName=(0,i.kC)(e.name4)),t.businessId=null===(s=(0,i.bh)((0,i.nc)()))||void 0===s?void 0:s.businessId;let d={},a={...e};delete a.clientNotaryId,d[(0,i.M5)()]=a,t.passportRecord=d;let n={...null===(l=(0,i.bh)((0,i.hQ)()))||void 0===l?void 0:l.add_notary};n.form=t;const o=(0,i.I7)(n),c=await o;if(c&&c.clientNotaryId){var m;let s={...null===(m=(0,i.bh)((0,i.hQ)()))||void 0===m?void 0:m.upd_img_loc};s.params={imgLocId:r.b64NM},s.data2update={linked:e.clientNotaryId};const l=(0,i.I7)(s),t=await l;t&&t.imgLocId}},I=e=>{var t,d,n;if(null!==e&&void 0!==e&&e.Blocks)if(null!==e&&void 0!==e&&null!==(t=e.error)&&void 0!==t&&t.message)y(null===e||void 0===e||null===(n=e.error)||void 0===n?void 0:n.message),h(!1);else if((null===e||void 0===e||null===(d=e.Blocks)||void 0===d?void 0:d.length)>0){(0,i.Rz)("image_text",null===e||void 0===e?void 0:e.Blocks);let l=(0,a.s)(null===e||void 0===e?void 0:e.Blocks);(0,i.Rz)(s,l),y(""),h(!1)}else y("No se pudo leer la imagen intentelo de nuevo"),h(!1);(0,i.Rz)("loading_image_text",!1),l()};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[b?(0,o.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_saving ",children:"Trying to read the image ..."}),(0,o.jsx)(m,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)(n.N,{color:"#007bfc",label:"Redraw form",clickHandler:()=>(e=>{h(!0),y("");let s=(null===r||void 0===r?void 0:r.s3Path)||(null===r||void 0===r?void 0:r.fileName);(0,i.CO)(s)&&_(s)})()}),j?(0,o.jsx)("div",{className:"msg_alert red",children:(0,o.jsx)("div",{className:"msg_alert_title",children:j})}):null]}),(0,o.jsx)("div",{className:"flexSpace"}),(0,o.jsx)("div",{className:"",children:(0,o.jsx)(n.N,{color:"#007bfc",label:"Save",clickHandler:()=>{let e={...(0,i.bh)(u)},l=Object.assign({},e);(0,i._2)((0,i.bh)(s)).map((e=>{(0,i.UE)((0,i.bh)(s)[e])&&(l[e]=(0,i.bh)(s)[e])})),l.clientNotaryId=(0,i.M5)(),l.passportImage=null===r||void 0===r?void 0:r.fileName,l.passportTempImageCluster=null===r||void 0===r?void 0:r.clientNotaryId,console.log(l),(0,i.Rz)(u,l),O(l)}})})]}),(0,o.jsx)(v,{frmNm3:s,updObs:l}),(0,o.jsx)(p,{frmNm3:s,updObs:d,handleSubmit:()=>{let e=(0,i.bh)(s)||{};(0,i.Rz)(s,e),f((0,i.M5)())}})]})}}}]);
//# sourceMappingURL=4105.94ec7094.chunk.js.map