"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[3565,2539],{2539:(l,i,e)=>{e.d(i,{Fm:()=>m,NV:()=>c,SO:()=>u,he:()=>p,pl:()=>r});var d=e(2791),t=e(2647),s=e(2350),o=e(184);const n=(0,t.Np)(),a=((0,t.tW)(),(0,t.PU)()),r=l=>{let{image:i,dmz:e}=l,d=e||(0,s.bh)("preview_dmz"),{KEY_VALUE_SET:t,WORD:n,LINE:a}=f((0,s.bh)("image_text"));return(0,o.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===d||void 0===d?void 0:d.w," ").concat(null===d||void 0===d?void 0:d.h),preserveAspectRatio:"xMidYMid meet",children:[(0,o.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,o.jsx)("rect",{width:null===d||void 0===d?void 0:d.w,height:null===d||void 0===d?void 0:d.h,fill:"#ffffff"}),(0,o.jsx)("image",{width:null===d||void 0===d?void 0:d.w,height:null===d||void 0===d?void 0:d.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:i}),null===t||void 0===t?void 0:t.map(((l,i)=>(0,o.jsx)(v,{idKey:i+"_tann",item:l,index:i},i+"_tann"))),null===a||void 0===a?void 0:a.map(((l,i)=>(0,o.jsx)(v,{idKey:i+"_tann",item:l,index:i},i+"_tann")))]})},v=l=>{let{item:i,index:e,idKey:d}=l;const{Text:t,Geometry:n,boundingPoly:a,BlockType:r,Id:v}=i;let u="transparent";if("PAGE"===r)return null;var m;("LINE"===r&&(u="rgba(168, 199, 250,1)"),"KEY_VALUE_SET"===r)&&(u="KEY"===(null===i||void 0===i||null===(m=i.EntityTypes)||void 0===m?void 0:m[0])?"#BB021E":"#8110F1");if("WORD"===r)return null;"WORD"===r&&(u="#646cff",u="#8b949e");let c=null===a||void 0===a?void 0:a.vertices,p=t,f=n.BoundingBox,x=(0,s.bh)("preview_dmz"),h=(null===f||void 0===f?void 0:f.Height)*x.h,g=(null===f||void 0===f?void 0:f.Width)*x.w,_=(null===f||void 0===f?void 0:f.Left)*x.w,y=(null===f||void 0===f?void 0:f.Top)*x.h;return 0===e||null===c||void 0===c||c[1],(0,o.jsxs)(o.Fragment,{children:[null,(0,o.jsx)("rect",{onClick:l=>{l.stopPropagation(),l.preventDefault(),(0,s.vQ)(p)},onContextMenu:l=>{l.stopPropagation(),l.preventDefault()},width:g,height:h,fill:u,fillOpacity:"50%",x:_,y:y})]})},u=l=>{var i;let{title:e,keyfld:t,updObs:r,frmNm:v}=l;const[u,m]=(0,d.useState)(!1),[c,p]=(0,d.useState)(1),f=()=>{r&&r(),m(!1)};let x=null===(i=(0,s.bh)(v))||void 0===i?void 0:i[t];return(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:u?8:1},children:e}),u?(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(n,{init:x,width:240,updChanges:l=>((l,i)=>{let e=(0,s.bh)(v)||{};e[l]=i,(0,s.Rz)(v,e),p((0,s.M5)())})(t,l),onEnter:f})}),(0,o.jsx)("div",{className:"icon_image ",onClick:f,children:(0,o.jsx)(a,{name:"success",color:"var(--success)"})})]}):(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>m(!0),children:x||"click to type"})]})},m=l=>{var i,e;let{title:t,keyfld:r,updObs:v,frmNm:u}=l;const[m,c]=(0,d.useState)(!1),[p,f]=(0,d.useState)(1),[x,h]=(0,d.useState)(""),g=()=>{((l,i)=>{let e=(0,s.bh)(u)||{},d=new Date(i).getTime();e[l]=d,(0,s.Rz)(u,e),f((0,s.M5)())})(r,x),v&&v(),c(!1)};let _=null===(i=(0,s.bh)(u))||void 0===i?void 0:i[r],y=x||(0,s.sJ)(null===(e=(0,s.bh)(u))||void 0===e?void 0:e[r])||"";return(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:m?8:1},children:t}),m?(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(n,{init:y,width:240,updChanges:h,onEnter:g})}),(0,o.jsx)("div",{className:"icon_image ",onClick:g,children:(0,o.jsx)(a,{name:"success",color:"var(--success)"})})]}):(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>c(!0),children:(0,s.sG)(_)||"click to type"})]})},c=l=>{let{label:i,value:e}=l;return e?"object"===typeof e?null:(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",children:i}),(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>{return l=e,void(0,s.vQ)(null===l||void 0===l?void 0:l.trim());var l},children:e})]}):null},p=l=>{let{label:i,value:e}=l;return e?"object"===typeof e?null:(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",children:i}),(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>{return l=e,void(0,s.vQ)(null===l||void 0===l?void 0:l.trim());var l},children:"*******"})]}):null},f=l=>{let i=[],e=[],d=[];return null===l||void 0===l||l.map((l=>{let{BlockType:t}=l;"WORD"===t&&e.push(l),"LINE"===t&&d.push(l),"KEY_VALUE_SET"===t&&i.push(l)})),{KEY_VALUE_SET:i,WORD:e,LINE:d}}},3565:(l,i,e)=>{e.r(i),e.d(i,{default:()=>_});var d=e(2791),t=e(9760),s=e(2647),o=e(2350),n=e(5232),a=e(1439),r=e(2539),v=e(184);const u=(0,s.tW)(),m="marriage_certificate",c=l=>{let{frmNm3:i,updObs:e}=l;return(0,v.jsxs)("div",{children:[(0,v.jsx)(r.SO,{title:"Id:",frmNm:i,keyfld:"registrationId",updObs:e}),(0,v.jsx)(r.SO,{title:"Tomo:",frmNm:i,keyfld:"tomo",updObs:e}),(0,v.jsx)(r.SO,{title:"Folio:",frmNm:i,keyfld:"folio",updObs:e}),(0,v.jsx)(r.Fm,{title:"Registration Date:",frmNm:i,keyfld:"dom",updObs:e}),(0,v.jsx)(r.SO,{title:"Registration City:",frmNm:i,keyfld:"city_registration",updObs:e}),(0,v.jsx)(r.SO,{title:"Registration State:",frmNm:i,keyfld:"state_registration",updObs:e}),(0,v.jsx)(r.SO,{title:"Marriage Registration Officer:",frmNm:i,keyfld:"marriage_registration_officer",updObs:e}),(0,v.jsx)(r.Fm,{title:"Request Date:",frmNm:i,keyfld:"dop",updObs:e}),(0,v.jsx)(r.SO,{title:"Prepared By:",frmNm:i,keyfld:"prepared_by",updObs:e}),(0,v.jsx)(r.SO,{title:"Revised By:",frmNm:i,keyfld:"revised_by",updObs:e}),(0,v.jsx)(r.SO,{title:"Registration Officer:",frmNm:i,keyfld:"registration_officer",updObs:e}),(0,v.jsx)(r.SO,{title:"Codigo Caso:",frmNm:"generated_form_btc",keyfld:"caseCode",updObs:e}),(0,v.jsx)(r.SO,{title:"Pin:",frmNm:"generated_form_btc",keyfld:"casePin",updObs:e}),(0,v.jsx)("div",{style:{padding:20}})]})},p=l=>{let{frmNm3:i,updObs:e,updFrm:t,item:s,image:r,confirm:p,close:x}=l;const[,h]=(0,d.useState)(1),[g,_]=(0,d.useState)(!1),[y,b]=(0,d.useState)(!1),j=l=>{if(null!==l&&void 0!==l&&l.Blocks){let d=f(l);(0,o.Rz)(i,d),e()}},N=async l=>{let i=await(0,n.ln)(l);j(i),E(i)},O=async l=>{let i=await(0,n.DO)(l+".json");if(i){var e=await fetch(i);if(200===e.status){var d=await e.json();null!==d&&void 0!==d&&d.Blocks?(j(d),E(d)):N(l)}else N(l)}else N(l)},E=l=>{var i,d,t;null!==l&&void 0!==l&&l.Blocks&&(null!==l&&void 0!==l&&null!==(i=l.error)&&void 0!==i&&i.message?(b(null===l||void 0===l||null===(t=l.error)||void 0===t?void 0:t.message),_(!1)):(null===l||void 0===l||null===(d=l.Blocks)||void 0===d?void 0:d.length)>0?((0,o.Rz)("image_text",null===l||void 0===l?void 0:l.Blocks),b(""),_(!1)):(b("No se pudo leer la imagen intentelo de nuevo"),_(!1)));(0,o.Rz)("loading_image_text",!1),e()};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[g?(0,v.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,v.jsx)("div",{className:"lbl_saving ",children:"Trying to read the image ..."}),(0,v.jsx)(u,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,v.jsxs)("div",{className:"_dsplFlx",children:[(0,v.jsx)(a.N,{color:"#007bfc",label:"Redraw form",clickHandler:()=>(l=>{_(!0),b("");let i=(null===s||void 0===s?void 0:s.s3Path)||(null===s||void 0===s?void 0:s.fileName);(0,o.CO)(i)&&O(i)})()}),y?(0,v.jsx)("div",{className:"msg_alert red",children:(0,v.jsx)("div",{className:"msg_alert_title",children:y})}):null]}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"",children:(0,v.jsx)(a.N,{color:"#007bfc",label:"Save",clickHandler:()=>{let l={...(0,o.bh)(m)},e=Object.assign({},l);(0,o._2)((0,o.bh)(i)).map((l=>{(0,o.UE)((0,o.bh)(i)[l])&&(e[l]=(0,o.bh)(i)[l])})),e.clientNotaryId=(0,o.M5)(),(0,o.Rz)(m,e),p(e)}})})]}),(0,v.jsx)(c,{frmNm3:i,updObs:e})]})},f=l=>{var i;let e=[],d={},t={},s=[];null===l||void 0===l||null===(i=l.Blocks)||void 0===i||i.map((l=>{let{BlockType:i,Id:o}=l;var n;("WORD"===i&&(d[o]=l),"LINE"===i&&e.push(l),"KEY_VALUE_SET"===i)&&("KEY"===(null===l||void 0===l||null===(n=l.EntityTypes)||void 0===n?void 0:n[0])&&s.push(l),t[o]=l)}));let o={},n={};return null===s||void 0===s||s.map((l=>{var i;if("KEY"===(null===l||void 0===l||null===(i=l.EntityTypes)||void 0===i?void 0:i[0])){let i={},E=null===l||void 0===l?void 0:l.Relationships;var e,s,a,r,v,u,m,c,p,f,g;if(null===E||void 0===E||E.map((l=>{var e;i.KEY="",null===(e=l.Ids)||void 0===e||e.map((e=>{var s,o,n,a;"CHILD"===l.Type?i.KEY+=(null===(s=d[e])||void 0===s?void 0:s.Text)+" ":(i[l.Type]="",null===t||void 0===t||null===(o=t[e])||void 0===o||null===(n=o.Relationships)||void 0===n||null===(a=n[0].Ids)||void 0===a||a.map((e=>{var t;i[l.Type]+=(null===(t=d[e])||void 0===t?void 0:t.Text)+" "})))}))})),i.KEY.indexOf("Folio")>=0)o.folio=null===(e=i.VALUE)||void 0===e?void 0:e.trim();if(i.KEY.indexOf("Tomo")>=0)o.tomo=null===(s=i.VALUE)||void 0===s?void 0:s.trim();if(i.KEY.indexOf("solicitud de par")>=0){var _,y,b;let l=null===(_=i.VALUE)||void 0===_?void 0:_.trim(),e=null===l||void 0===l||null===(y=l.split("expide la presente a")[1])||void 0===y||null===(b=y.split(". ")[0])||void 0===b?void 0:b.toLowerCase();o.dop=h(e)}if(i.KEY.indexOf("ugar de formalizac")>=0){var j,N;let l=null===(j=i.VALUE)||void 0===j?void 0:j.trim(),e=null===l||void 0===l||null===(N=l.split(" de ")[1])||void 0===N?void 0:N.split(". ")[0];o.marriage_registration_officer=e}if(i.KEY.indexOf("echa de formalizac")>=0){var O;let l=null===(O=i.VALUE)||void 0===O?void 0:O.trim();o.dom=h(l)}if(i.KEY.indexOf("Hecho")>=0)o.prepared_by=null===(a=i.VALUE)||void 0===a||null===(r=a.split("or: ")[1])||void 0===r?void 0:r.split(". ")[0];if(i.KEY.indexOf("rovincia")>=0)o.state_registration=null===(v=i.VALUE)||void 0===v?void 0:v.trim(),o.state_office=null===(u=i.VALUE)||void 0===u?void 0:u.trim();if(i.KEY.indexOf("unicipio")>=0)o.city_registration=null===(m=i.VALUE)||void 0===m?void 0:m.trim(),o.city_office=null===(c=i.VALUE)||void 0===c?void 0:c.trim();if(i.KEY.indexOf("D\xeda")>=0)n.day=x(null===(p=i.VALUE)||void 0===p?void 0:p.trim());if(i.KEY.indexOf("Mes")>=0)n.month=x(null===(f=i.VALUE)||void 0===f?void 0:f.trim());if(i.KEY.indexOf("A\xf1o")>=0)n.year=x(null===(g=i.VALUE)||void 0===g?void 0:g.trim())}})),null!==o&&void 0!==o&&o.dop||null===e||void 0===e||e.map((l=>{let i=null===l||void 0===l?void 0:l.Text;if(i.indexOf("solicitud de par")>=0){var e,d;let l=null===i||void 0===i?void 0:i.trim(),t=null===l||void 0===l||null===(e=l.split("expide la presente a")[1])||void 0===e||null===(d=e.split(". ")[0])||void 0===d?void 0:d.toLowerCase();o.dop=h(t)}var t,s,n,a;i.indexOf("Hecho")>=0&&(o.prepared_by=null===i||void 0===i||null===(t=i.split("or: ")[1])||void 0===t?void 0:t.split(". ")[0]);i.indexOf("onfrontado po")>=0&&(o.revised_by=null===i||void 0===i||null===(s=i.split("or: ")[1])||void 0===s?void 0:s.split(". ")[0]);i.indexOf("tilizando el")>=0&&(o.caseCode=null===i||void 0===i||null===(n=i.split("go de Caso ")[1])||void 0===n?void 0:n.split(" ")[0],o.casePin=null===i||void 0===i||null===(a=i.split("el PIN ")[1])||void 0===a?void 0:a.split(". ")[0])})),o.dor=new Date(n.month+"/"+n.day+"/"+n.year).getTime(),o},x=l=>l>9?l:"0"+l,h=l=>{let i={},e=null===l||void 0===l?void 0:l.split(" ");o.U3.map(((e,d)=>{var t;(null===l||void 0===l||null===(t=l.toLowerCase())||void 0===t?void 0:t.indexOf(null===e||void 0===e?void 0:e.toLowerCase()))>=0&&(i.mm=x(d+1))})),e&&e.map((l=>{let e=1*l;isNaN(e)||(e>31?i.yy=x(e):e>0&&(i.dd=x(e)))}));let d=null;return i.mm&&i.yy&&i.dd&&(d=new Date(i.mm+"/"+i.dd+"/"+i.yy).getTime()),d};(0,s.Np)(),(0,s.tW)(),(0,s.PU)();const g="generated_form_mtc",_=l=>{var i;let{data:e,s3Path:s,image:n,item:a,confirm:u}=l;const[,m]=(0,d.useState)(1);(0,d.useEffect)((()=>{var l;null!==(l=(0,o.bh)("preview_dmz"))&&void 0!==l&&l.w||f(n)}),[n]);const c=l=>{m((0,o.M5)())},f=l=>{var i=new Image;i.onload=function(){let l={oh:i.height,ow:i.width,h:i.height,w:i.width};(0,o.Rz)("preview_dmz",l),c()},l&&(i.src=l)};return(0,v.jsx)("div",{style:{maxHeight:"93vh",width:"1080px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px 25px"},children:(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,v.jsx)("div",{style:{width:500,height:"90vmin",padding:"5px!important"},children:(0,v.jsx)(p,{frmNm3:g,updObs:c,updFrm:(l,i)=>{let e=(0,o.bh)(g)||{};e[l]=i,(0,o.Rz)(g,e),m((0,o.M5)())},item:a,confirm:()=>{(null===e||void 0===e?void 0:e.modalID)&&(0,t.CloseModal)({id:null===e||void 0===e?void 0:e.modalID})},s3Path:s,image:n})}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{style:{height:"86vmin",padding:"5px!important"},children:null!==(i=(0,o.bh)("preview_dmz"))&&void 0!==i&&i.w?(0,v.jsx)(r.pl,{image:n,dmz:(0,o.bh)("preview_dmz")}):null})]})})}}}]);
//# sourceMappingURL=3565.43df61ba.chunk.js.map