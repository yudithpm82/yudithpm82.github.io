"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[2395,6349,2959,6874],{6349:(e,t,a)=>{a.d(t,{Z:()=>d});var i=a(9760),o=a(2647),s=a(2350),n=a(184);const l=(0,o.LA)(),d=e=>{let{init:t,label:a,updDate:o}=e;const d=e=>{o(e.initDate+800)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"label",children:a||"Fecha"}),(0,n.jsx)("div",{className:"date2Upd",onClick:()=>{let e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,n.jsx)(l,{onConfirm:d,init:t}),(0,i.OpenModal)(e)},children:t?(0,s.sG)(t):(0,s.sG)((new Date).getTime())})]})}},2395:(e,t,a)=>{a.r(t),a.d(t,{default:()=>N});var i=a(2791),o=a(9760),s=a(2647),n=a(2350),l=a(6349),d=a(1479),r=a(5232),p=a(1439),x=a(6963),c=a(4e3);let u={firstName:{type:"text",text:"",x:205,y:187,size:11,font:"gSans",pageNo:0},middleName:{type:"text",text:"",x:410,y:187,font:"gSans",size:11,pageNo:0},lastName1:{type:"text",text:"",x:205,y:228,size:11,font:"gSans",pageNo:0},lastName2:{type:"text",text:"",x:410,y:228,size:11,font:"gSans",pageNo:0},usualName:{type:"text",text:"",x:145,y:284,size:10,font:"gSans",pageNo:0},legalName:{type:"text",text:"",x:365,y:284,size:10,font:"gSans",pageNo:0},dob:{type:"text",text:"",x:225,y:325,size:13,font:"Lexend_700",pageNo:0},countryCitizenship:{type:"text",text:"Cuba",x:420,y:325,size:11,font:"gSans",pageNo:0},passportNumber:{type:"text",text:"Cuba",x:190,y:366,size:13,font:"Lexend_700",pageNo:0},countryOfIssuance:{type:"text",text:"Cuba",x:430,y:366,size:11,font:"gSans",pageNo:0},expirationDate:{type:"text",text:"Cuba",x:240,y:399,size:13,font:"Lexend_700",pageNo:0},weight:{type:"text",text:"",x:367,y:523,size:11,pageNo:0},height:{type:"text",text:"",x:240,y:523,size:11,pageNo:0},gender_male:{type:"text",text:"",x:60,y:392.5,size:11,pageNo:0},gender_female:{type:"text",text:"",x:60,y:404.5,size:11,pageNo:0},ms_Divorced:{type:"text",text:"",x:398,y:439,size:11,font:"Lexend_700",pageNo:0},ms_Single:{type:"text",text:"",x:238.6,y:439,size:11,font:"Lexend_700",pageNo:0},ms_Widowed:{type:"text",text:"",x:478,y:439,size:11,font:"Lexend_700",pageNo:0},ms_Married:{type:"text",text:"",x:163,y:439,size:11,font:"Lexend_700",pageNo:0},ms_Separated:{type:"text",text:"",x:318,y:439,size:11,font:"Lexend_700",pageNo:0},spouse_fullName:{type:"text",text:"",x:230,y:481,size:11,font:"gSans",pageNo:0},spouse_countryCitizenship:{type:"text",text:"",x:230,y:515,font:"gSans",size:11,pageNo:0},spouse_dob:{type:"text",text:"",x:480,y:515,size:11,font:"Lexend_700",pageNo:0},street:{type:"text",text:"",x:80,y:615,size:10,font:"gSans",pageNo:0},city:{type:"text",text:"",x:450,y:580,size:11,font:"gSans",pageNo:0},state:{type:"text",text:"",x:220,y:580,size:11,font:"gSans",pageNo:0},country:{type:"text",text:"",x:80,y:580,size:11,font:"gSans",pageNo:0},zipcode:{type:"text",text:"",x:430,y:659,size:11,font:"Lexend_700",pageNo:0},phoneNumber:{type:"text",text:"",x:150,y:659,size:11,font:"Lexend_700",pageNo:0},email:{type:"text",text:"",x:230,y:703,size:11,font:"gSans",pageNo:0},trav_before:{type:"text",text:"",x:363,y:195,size:11,font:"Lexend_700",pageNo:1},342:{type:"text",text:"",x:373.8,y:347,size:11,font:"Lexend_700",pageNo:1},343:{type:"text",text:"",x:395.4,y:488,size:11,font:"Lexend_700",pageNo:1},p2_12:{type:"text",text:"",x:260,y:51,size:11,font:"gSans",pageNo:1},p2_13:{type:"text",text:"",x:270,y:84,size:11,font:"gSans",pageNo:1},p2_14:{type:"text",text:"",x:290,y:126,size:11,font:"gSans",pageNo:1},p2_14b:{type:"text",text:"",x:505,y:126,size:11,font:"gSans",pageNo:1},p2_15:{type:"text",text:"",x:265,y:172,size:11,font:"gSans",pageNo:1},p2_16:{type:"text",text:"",x:370,y:217,size:11,font:"gSans",pageNo:1},p2_17:{type:"text",text:"",x:210,y:282,size:11,font:"gSans",pageNo:1},p2_22:{type:"text",text:"",x:320,y:315,size:11,font:"gSans",pageNo:1},p2_24:{type:"text",text:"",x:200,y:384,size:11,font:"gSans",pageNo:1},p2_25:{type:"text",text:"",x:220,y:448,size:11,font:"gSans",pageNo:1},p2_27:{type:"text",text:"",x:390,y:527,size:11,font:"gSans",pageNo:1},todayDate:{type:"text",text:"",x:140,y:735,size:11,font:"Lexend_700",pageNo:1}};var y=a(184);(0,s.Np)();const g=(0,s.PU)(),v=((0,s.A5)(),(0,s.YZ)()),m="TouristVisaPanama_form",N=e=>{var t,a;let{data:s,confirm:N}=e,f=["previous","present","documentType","signature","todayDate"];const[h,_]=(0,i.useState)(!1),[z,b]=(0,i.useState)(1),[S,w]=(0,i.useState)({}),I=()=>{b((0,n.M5)())};(0,i.useEffect)((()=>{var e;if(!h)return _(!0),b((0,n.M5)()),null!==(e=(0,n.bh)("print_structure"))&&void 0!==e&&e.ar11_struct||(0,r.pw)(I),j("documentType","TouristVisaPanama"),setTimeout((()=>{var e;let t=(null===(e=(0,n.bh)((0,n.Ks)()))||void 0===e?void 0:e.residences)||{};if(t){let e={};(0,n._2)(t).map((a=>{"USA"===t[a].country&&(e[a]=t[a])})),w(e)}}),300),()=>{}}));const j=(e,t)=>{let a=(0,n.bh)(m)||{};a[e]=t,(0,n.Rz)(m,a),b((0,n.M5)())},D=()=>{(null===s||void 0===s?void 0:s.modalID)&&(0,o.CloseModal)({id:null===s||void 0===s?void 0:s.modalID})},A=async(e,t)=>{(0,r.Rh)(e,t,(a=>{(0,r.F2)(a,e,(()=>(async e=>{var t,a;let i=null===(t=(0,n.bh)((0,n.Ks)()))||void 0===t?void 0:t.clientNotaryId,o={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.upd_notary};o.params={clientNotaryId:i},o.data2update=e;const s=(0,n.I7)(o),l=await s;l&&!l.error&&(await(0,r.uB)(i),I())})({panama_visa_signature:t})))}))};let T=(0,n.vy)(f,(0,n.bh)(m),(0,n.bh)(m+"_bck"));const L=async(e,t)=>{var a=await(0,n.Em)(e,t);window.open(a)};return(0,y.jsxs)("div",{style:{maxHeight:"80vh",width:"820px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,y.jsxs)("div",{className:"_dsplFlx ",children:[(0,y.jsx)("p",{className:"form_title",children:"Tourist Visa to Panama"}),(0,y.jsx)("div",{className:"flexSpace"}),(0,y.jsx)("div",{className:"card",children:(0,y.jsxs)("div",{className:"_dsplFlx ",children:[(0,y.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,y.jsx)(v,{initvalue:null===(t=(0,n.bh)(m))||void 0===t?void 0:t.signature,keyCode:57,updChange:e=>j("signature",e)}),(0,y.jsx)("span",{className:"checklabel",children:"Require Signature"})]}),(0,y.jsx)(p.Z,{label:"Upload file",onChange:e=>{const t=e.target.files[0],a=new FileReader;let i=(0,n.M5)()+"_"+t.name;A(t,i),a.addEventListener("load",(()=>{(0,n.Rz)("preview_src",a.result)}),!1),t&&a.readAsDataURL(t)},color:"#007bfc"}),(0,n.bh)((0,n.Ks)()).panama_visa_signature?(0,y.jsx)("div",{className:"icon_image ",onClick:async()=>{let e=(0,n.bh)((0,n.Ks)()).panama_visa_signature,t=(0,n.LH)(e);var a=await(0,r.Id)(e,(0,n.bh)((0,n.Ks)()).clientNotaryId);L(a,t)},children:(0,y.jsx)(g,{name:"image_outline",color:"var(--partial-success)"})}):null]})}),(0,y.jsx)("div",{className:"card",children:(0,y.jsx)(p.N,{color:"#007bfc",label:"Imprimir",clickHandler:async()=>{var e,t,a,i,o;let s={...(0,n.bh)((0,n.Ks)())},l=(0,n.bh)(m);s.dateOfBirth&&(l.dob=(0,n.jc)(s.dateOfBirth));let p=null===(e=s.passportRecord)||void 0===e?void 0:e[s.currentPassport];l.passportNumber=null===p||void 0===p?void 0:p.passportNumber,l.countryOfIssuance=n.Yi[null===p||void 0===p?void 0:p.countryOfIssuance],l.expirationDate=(0,n.jc)(p.expirationDate);let y=(0,n.fY)(null===s||void 0===s?void 0:s.firstName)+(0,n.fY)(null===s||void 0===s?void 0:s.middleName)+(0,n.fY)(null===s||void 0===s?void 0:s.lastName),g=(0,d.E_)(s.maritalStatus,l,{},"ms_",["Single","Married","Divorced","Widowed"]);l=g.ffm,console.log(g),l.firstName=s.firstName,l.phoneNumber=s.phoneNumber,l.email=s.email,l.usualName=y,l.legalName=y,l.middleName=s.middleName,l.lastName1=null===(t=s.lastName)||void 0===t||null===(a=t.split(" "))||void 0===a?void 0:a[0],l.lastName2=null===(i=s.lastName)||void 0===i||null===(o=i.split(" "))||void 0===o?void 0:o[1];let v=s.spouseInfo;if(v){let e=(0,n.fY)(null===v||void 0===v?void 0:v.firstName)+(0,n.fY)(null===v||void 0===v?void 0:v.middleName)+(0,n.fY)(null===v||void 0===v?void 0:v.lastName);l.spouse_dob=null!==v&&void 0!==v&&v.dateOfBirth?(0,n.jc)(null===v||void 0===v?void 0:v.dateOfBirth):"",l.spouse_fullName=e,l.spouse_countryCitizenship=n.Yi[null===v||void 0===v?void 0:v.countryOfCitizenship]}let N=(0,n.jQ)(s.residences),f=(0,r.UC)(N,(e=>{var t,a;return(null!==e&&void 0!==e&&null!==(t=e.toDate)&&void 0!==t&&t.year?"present"===e.toDate.year?99999:e.toDate.year:"0")+""+((null===e||void 0===e||null===(a=e.toDate)||void 0===a?void 0:a.month)||"0")})),h=null===f||void 0===f?void 0:f[0];l.street=h.addressLineOne,h.addressLineTwo&&(l.aptoX="X",l.apto=h.addressLineTwo),l.city=h.city,l.state=h.state,l.zipcode=h.zipcode,l.country=n.Yi[null===h||void 0===h?void 0:h.country],l.todayDate=(0,n.jc)(l.todayDate),l.trav_before="X",l[342]="X",l[343]="X",l.p2_12="N/A",l.p2_13="N/A",l.p2_14="N/A",l.p2_14b="N/A",l.p2_15="Nicaragua",l.p2_16="N/A",l.p2_17="N/A",l.p2_22="N/A",l.p2_24=n.Yi[null===h||void 0===h?void 0:h.country],l.p2_25="N/A",l.p2_27="N/A",l.p2_27="N/A";let _=(0,n.bh)((0,n.Ks)()).panama_visa_signature,z=(0,n.LH)(_);var b=await(0,r.Id)(_,(0,n.bh)((0,n.Ks)()).clientNotaryId),S=await(0,n.Em)(b,z);let w=await async function(e,t,a){var i;let o=(0,n._I)(u);(0,n._2)(e).map((t=>{o[t]&&e[t]?o[t].text=e[t]:delete o[t]}));const s=await fetch("https://qvamarkets.com/gql_api/getStatic?fileName=panama_vt.pdf").then((e=>e.arrayBuffer())),l=await x.PDFDocument.load(s,{ignoreEncryption:!0});l.registerFontkit(c.Z);const r=l.getPages(),p=r[0],{width:y,height:g}=p.getSize();(0,n.Rz)("pdfSize",{width:y,height:g,pages:r.length});const v=await(0,d.h2)(l);let m=null;if(a){const e=await fetch(a).then((e=>e.arrayBuffer()));m=await l.embedPng(e)}let N=null===r||void 0===r||null===(i=r[1])||void 0===i?void 0:i.getSize();if(e.signature&&m&&r[1].drawImage(m,{x:270,y:N.height-710,width:300,height:40}),o&&(0,n._2)(o).map((e=>{let t=o[e];if(t){var a;let e=t.pageNo,o=null===r||void 0===r||null===(a=r[e])||void 0===a?void 0:a.getSize();var i;if("text"===t.type)null===(i=r[e])||void 0===i||i.drawText(t.text?t.text.toString():"",{x:t.x,y:o.height-t.y,size:t.size||10,font:v[t.font]||v.TimesRomanItalic,color:t.color?(0,x.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,x.rgb)(0,0,0)});else if("textboxn"===t.type){let a=(t.text?t.text.toString():t.id.toString()).split("");null===a||void 0===a||a.map(((a,i)=>{var s;null===(s=r[e])||void 0===s||s.drawText(a,{x:t.x+i*t.space,y:o.height-t.y,size:t.size||10,font:v[t.font]||v.TimesRomanItalic,color:t.color?(0,x.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,x.rgb)(0,0,0)})}))}}})),l.setTitle("REQUESTING A VISA AS A TRANSIT"),l.setAuthor("HRM finance"),l.setCreator(""),l.setCreationDate(new Date),l.setModificationDate(new Date),t){const e=await l.save();return(0,n.ou)(e)}return l.saveAsBase64({dataUri:!0})}(l,!0,S);window.open(w)}})})]}),(0,y.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,y.jsx)(l.Z,{init:null===(a=(0,n.bh)(m))||void 0===a?void 0:a.todayDate,label:"Fecha del documento",updDate:e=>j("todayDate",e)})}),(0,y.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:null!==T&&void 0!==T&&T.hasChange?(0,y.jsxs)("div",{className:"_dsplFlx ",children:[(0,y.jsx)("div",{className:"flexSpace"}),(0,y.jsx)("div",{className:"card",children:(0,y.jsx)(p.N,{color:"#007bfc",label:"Actualizar",clickHandler:async()=>{let e=(0,n.bh)(m),t={};if(e.caseId){var a,i;let o=(0,n.vy)(f,(0,n.bh)(m),(0,n.bh)(m+"_bck"));t={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.upd_notry_case},t.params={customerId:null===(i=(0,n.bh)((0,n.Ks)()))||void 0===i?void 0:i.clientNotaryId,caseId:e.caseId},t.data2update=o.data}else{var o,s;e.customerId=(0,n.bh)((0,n.Ks)()).clientNotaryId,e.documentType="TouristVisaPanama",e.caseId=(0,n.M5)(),e.date?e.date=new Date(e.date).getTime():e.date=(new Date).getTime()+800,t={...null===(o=(0,n.bh)((0,n.hQ)()))||void 0===o?void 0:o.add_notry_case},t.params={customerId:null===(s=(0,n.bh)((0,n.Ks)()))||void 0===s?void 0:s.clientNotaryId},t.form=e}const l=(0,n.I7)(t),d=await l;d&&!d.error&&D()}})})]}):(0,y.jsx)("div",{className:"card"})})]})}}}]);
//# sourceMappingURL=2395.c3b52899.chunk.js.map