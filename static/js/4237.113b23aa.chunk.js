"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[4237],{4237:(e,t,a)=>{a.r(t),a.d(t,{SignatureImage:()=>m,default:()=>p,loadEvidence:()=>v,printDriverLicenseFrame:()=>x,printGreenCardFrame:()=>u});var i=a(2791),n=(a(9760),a(2647)),l=a(2350),o=a(5232),r=a(4529),s=a(1439),d=a(184);const c=(0,n.PU)(),g=(0,n.tW)(),p=e=>{var t,a;let{tabs:n,active:r,updTab:s}=e;const[,g]=(0,i.useState)(1),[p,w]=(0,i.useState)(!1),y=()=>{g((0,l.M5)())};(0,i.useEffect)((()=>{p||(f(),w(1))}));const f=async()=>{let e=(0,l.bh)("loadKeysEv_last")||0;if(Date.now()>e){(0,l.Rz)("loadKeysEv_last",Date.now()+990);await v();y()}},_=async(e,t,a)=>{(0,o.Rh)(e,t,(i=>{(0,o.F2)(i,e,(()=>(async(e,t)=>{var a,i;let n=null===(a=(0,l.bh)((0,l.Ks)()))||void 0===a?void 0:a.clientNotaryId,r={...null===(i=(0,l.bh)((0,l.hQ)()))||void 0===i?void 0:i.upd_notary};r.params={clientNotaryId:n},r.data2update=e;const s=(0,l.I7)(r),d=await s;if(d&&!d.error){let e=(0,l.bh)("loadedImages")||{};e[t]=null,(0,l.Rz)("loadedImages",e),await(0,o.uB)(n),y()}})({[a]:t},a)))}))},b=(e,t)=>{const a=e.target.files[0],i=new FileReader;let n=(0,l.M5)()+"_"+a.name;_(a,n,t),i.addEventListener("load",(()=>{(0,l.Rz)("preview_src",i.result)}),!1),a&&i.readAsDataURL(a)},I=async()=>{let e=(0,l.bh)((0,l.Ks)()).paroleImage,t=(0,l.LH)(e);var a=await(0,o.Id)(e,(0,l.bh)((0,l.Ks)()).clientNotaryId);N(a,t)},N=async(e,t)=>{var a=await(0,l.Em)(e,t);window.open(a)};return(0,d.jsxs)("div",{style:{maxHeight:"80vh",width:"820px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,d.jsxs)("div",{className:" ",children:[(0,d.jsx)("div",{className:"iMTYiw card",style:{marginTop:"8px"},children:"Evidence"}),(0,d.jsxs)("div",{className:"_dsplFlx card",children:[(0,d.jsxs)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:[(0,d.jsx)(h,{fld:"greenCardFrontImage",importCSV:b,openImage:I,label:"Upload Green Card front"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)(h,{fld:"greenCardBackImage",label:"Upload Green Card back",importCSV:b,openImage:I})]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"icon_image ",onClick:()=>(async()=>{let e=await u();window.open(e)})(),children:(0,d.jsx)(c,{name:"printer",color:"var(--danger-hover)"})})]}),(0,d.jsxs)("div",{className:"_dsplFlx card",children:[(0,d.jsxs)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:[(0,d.jsx)(h,{fld:"dlFrontImage",importCSV:b,openImage:I,label:"Upload Driver License front"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)(h,{fld:"dlBackImage",importCSV:b,openImage:I,label:"Upload Driver License back"})]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"icon_image ",onClick:()=>(async()=>{let e=await x();window.open(e)})(),children:(0,d.jsx)(c,{name:"printer",color:"var(--danger-hover)"})})]}),(0,d.jsxs)("div",{className:"_dsplFlx card",children:[(0,d.jsxs)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:[(0,d.jsx)(h,{docType:!0,fld:"I589_receiptNotice_proof",importCSV:b,openImage:I,label:"I-589 Receipt Notice"}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)(h,{docType:!0,fld:"I589_ASC_proof",importCSV:b,openImage:I,label:"I-589 ASC"})]}),(0,d.jsx)("div",{className:"flexSpace"}),(0,d.jsx)("div",{className:"icon_image ",onClick:()=>x(),children:(0,d.jsx)(c,{name:"printer",color:"var(--danger-hover)"})})]})]}),(0,d.jsx)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:(null===(t=(0,l.bh)((0,l.Ks)()))||void 0===t?void 0:t.signatures)&&(0,l._2)(null===(a=(0,l.bh)((0,l.Ks)()))||void 0===a?void 0:a.signatures).map((e=>{var t,a;let i=null===(t=(0,l.bh)((0,l.Ks)()))||void 0===t||null===(a=t.signatures)||void 0===a?void 0:a[e];return(0,d.jsx)(m,{flnNm:e,imgSign:i},e)}))})]})},m=e=>{var t,a;let{flnNm:n,imgSign:r,onHandle:s}=e;const[,c]=(0,i.useState)(1),g=async(e,t)=>{if(e){const t=await fetch(e),a=await t.text();let i=(0,l.bh)("imageSignatures")||{};i[n]=a,(0,l.Rz)("imageSignatures",i),c((0,l.M5)())}};return(0,i.useEffect)((()=>{(async e=>{let t=e;(0,l.LH)(t);var a=await(0,o.Id)(t,(0,l.bh)((0,l.Ks)()).clientNotaryId);g(a)})(n)}),[n]),null!==(t=(0,l.bh)("imageSignatures"))&&void 0!==t&&t[n]?(0,d.jsx)("div",{className:"_dsplFlx ",onClick:()=>s(n),children:(0,d.jsx)("div",{className:"prev_signature ",children:(0,d.jsx)("img",{src:null===(a=(0,l.bh)("imageSignatures"))||void 0===a?void 0:a[n],alt:n})})},n):null},h=e=>{var t,a,i,n,o;let{fld:r,imgUrl:c,importCSV:p,openImage:m,label:h,docType:u}=e,x=250,v=156.25;var w,y;null!==(t=(0,l.bh)("loadedImagesMetadata"))&&void 0!==t&&null!==(a=t[r])&&void 0!==a&&a.w2hRel&&(v=x/(null===(w=(0,l.bh)("loadedImagesMetadata"))||void 0===w||null===(y=w[r])||void 0===y?void 0:y.w2hRel));return(0,d.jsxs)("div",{className:" ",children:[(0,d.jsx)(s.Z,{label:h,onChange:e=>p(e,r),width:x,color:"#040404"}),null!==(i=(0,l.bh)((0,l.Ks)()))&&void 0!==i&&i[r]?null!==(n=(0,l.bh)("loadedImages"))&&void 0!==n&&n[r]?(0,d.jsx)("div",{className:"_dsplFlx ",children:(0,d.jsx)("div",{className:"prev_document ",onClick:m,children:(0,d.jsx)("img",{src:null===(o=(0,l.bh)("loadedImages"))||void 0===o?void 0:o[r],alt:r,style:{width:x,height:v}})})}):(0,d.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,d.jsx)("div",{className:"lbl_saving prev_document ",children:"getting Image ..."}),(0,d.jsx)(g,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):null]})},u=async()=>{var e,t,a,i;let n=(0,l.LH)(null===(e=(0,l.bh)((0,l.Ks)()))||void 0===e?void 0:e.greenCardFrontImage),o=null===(t=(0,l.bh)("loadedImages"))||void 0===t?void 0:t.greenCardFrontImage,s=(0,l.LH)(null===(a=(0,l.bh)((0,l.Ks)()))||void 0===a?void 0:a.greenCardBackImage),d=null===(i=(0,l.bh)("loadedImages"))||void 0===i?void 0:i.greenCardBackImage;if(o&&o){return await(0,r.sR)(o,n,d,s)}return null},x=async()=>{var e,t,a,i;let n=(0,l.LH)(null===(e=(0,l.bh)((0,l.Ks)()))||void 0===e?void 0:e.dlFrontImage),o=null===(t=(0,l.bh)("loadedImages"))||void 0===t?void 0:t.dlFrontImage,s=(0,l.LH)(null===(a=(0,l.bh)((0,l.Ks)()))||void 0===a?void 0:a.dlBackImage),d=null===(i=(0,l.bh)("loadedImages"))||void 0===i?void 0:i.dlBackImage;if(o&&o){return await(0,r.sR)(o,n,d,s)}return null},v=async()=>{let e=(0,l.bh)("loadedImages")||{};const t=["greenCardFrontImage","greenCardBackImage","dlFrontImage","dlBackImage","I589_receiptNotice_proof","I589_ASC_proof"].map((async t=>{var a,i;null!==(a=(0,l.bh)((0,l.Ks)()))&&void 0!==a&&a[t]&&(e[t]=await w(null===(i=(0,l.bh)((0,l.Ks)()))||void 0===i?void 0:i[t]),(0,l.lK)(t,e[t]))}));await Promise.all(t);return(0,l.Rz)("loadedImages",e),!0},w=async e=>{let t=(0,l.LH)(e);var a=await(0,o.Id)(e,(0,l.bh)((0,l.Ks)()).clientNotaryId);return await(0,l.Em)(a,t)}},4529:(e,t,a)=>{a.d(t,{Is:()=>r,QU:()=>s,Tq:()=>m,sR:()=>d,vF:()=>c});var i=a(6963),n=a(2350),l=a(4e3),o=a(1479);async function r(e,t,a){const n=[612,792];var r=null;(r=await i.PDFDocument.create()).registerFontkit(l.Z);await(0,o.h2)(r);const s=await fetch(e).then((e=>e.arrayBuffer()));let d=null;console.log(t),d="image/jpg"===t||"image/jpeg"===t?await r.embedJpg(s):await r.embedPng(s);var c=null;c=r.addPage(n);const{width:g,height:p}=c.getSize();d&&c.drawImage(d,{x:146,y:p-641,width:320,height:490});let m=a?a.split(" ").join("_")+"_passportFrame_EN":"_passportFrame";r.setTitle(m),r.setAuthor("Stephanie Solution Group"),r.setCreator("Stephanie Solution Group"),r.setCreationDate(new Date),r.setModificationDate(new Date);{const e=await r.save();return(0,o.ou)(e)}}async function s(e,t,a){const n=await i.PDFDocument.create(),l=n.addPage([612,792]),{width:r,height:s}=l.getSize(),d=await fetch(e).then((e=>e.arrayBuffer()));let c=null;"image/jpg"===t||"image/jpeg"===t?c=await n.embedJpg(d):"image/png"===t&&(c=await n.embedPng(d));let g=c.size();(g.width>r||g.height>s)&&(g=c.scaleToFit(r,s)),l.drawImage(c,{x:r/2-g.width/2,y:s/2-g.height/2,width:g.width,height:g.height});const p=await n.save();return(0,o.ou)(p)}async function d(e,t,a,n,r){const s=[612,792];var d=null;(d=await i.PDFDocument.create()).registerFontkit(l.Z);await(0,o.h2)(d);const c=await fetch(e).then((e=>e.arrayBuffer()));let g=null;g="image/jpg"===t||"image/jpeg"===t?await d.embedJpg(c):await d.embedPng(c);const p=await fetch(a).then((e=>e.arrayBuffer()));let m=null;m="image/jpg"===n||"image/jpeg"===n?await d.embedJpg(p):await d.embedPng(p);var h=null;h=d.addPage(s);const{width:u,height:x}=h.getSize();g&&h.drawImage(g,{x:175,y:x-300,width:260,height:170}),m&&h.drawImage(m,{x:175,y:x-600,width:260,height:170});let v=r?r.split(" ").join("_")+"_idsFrame_EN":"_idsFrame";d.setTitle(v),d.setAuthor("Stephanie Solution Group"),d.setCreator("Stephanie Solution Group"),d.setCreationDate(new Date),d.setModificationDate(new Date);{const e=await d.save();return(0,o.ou)(e)}}async function c(e,t,a,n,r,s,d){const c=[612,792];var g=null;(g=await i.PDFDocument.create()).registerFontkit(l.Z);await(0,o.h2)(g);const p=await fetch(e).then((e=>e.arrayBuffer()));let m=null;m="image/jpg"===t||"image/jpeg"===t?await g.embedJpg(p):await g.embedPng(p);const h=await fetch(a).then((e=>e.arrayBuffer()));let u=null;u="image/jpg"===n||"image/jpeg"===n?await g.embedJpg(h):await g.embedPng(h);const x=await fetch(r).then((e=>e.arrayBuffer()));let v=null;v="image/jpg"===s||"image/jpeg"===s?await g.embedJpg(x):await g.embedPng(x);var w=null;w=g.addPage(c);const{width:y,height:f}=w.getSize();m&&w.drawImage(v,{x:175,y:f-220,width:260,height:170}),m&&w.drawImage(m,{x:175,y:f-490,width:260,height:170}),u&&w.drawImage(u,{x:175,y:f-730,width:260,height:170});let _=d?d.split(" ").join("_")+"_idsFrame_EN":"_idsFrame";g.setTitle(_),g.setAuthor("Stephanie Solution Group"),g.setCreator("Stephanie Solution Group"),g.setCreationDate(new Date),g.setModificationDate(new Date);{const e=await g.save();return(0,o.ou)(e)}}let g=8.5,p={cid:{type:"text",text:"",x:190,y:68,size:9.5,color:[104,104,104],font:"Harting_plain",pageNo:0},class:{type:"text",text:"",x:203,y:58,size:9.5,color:[104,104,104],font:"Harting_plain",pageNo:0},fisrtnameU:{type:"text",text:"",x:95,y:105,size:11,color:[104,104,104],font:"Harting_plain",pageNo:0},lastNameU:{type:"text",text:"",x:95,y:117,size:11,color:[104,104,104],font:"Harting_plain",pageNo:0},backCode:{type:"text",text:"57292",x:446,y:183,size:14,color:[41,41,41],font:"roboto_regular",pageNo:0},f_code:{type:"text",text:"57292",x:94,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},iss_yy:{type:"text",text:"",x:138,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},exp_yy:{type:"text",text:"",x:191,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},exp_mm:{type:"text",text:"",x:168,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},dob_yy:{type:"text",text:"",x:21,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},dob_mm:{type:"text",text:"",x:44,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},dob_dd:{type:"text",text:"",x:63,y:178,size:g,color:[104,104,104],font:"Harting_plain",pageNo:0},limitante:{type:"text",text:"NINGUNA",x:33,y:140,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0},CB_mm:{type:"text",text:"",x:383,y:100,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0},CB_yy:{type:"text",text:"",x:382,y:108,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0},CA1_mm:{type:"text",text:"",x:383,y:45,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0},CA1_yy:{type:"text",text:"",x:382,y:53,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0},CA_mm:{type:"",text:"",x:383,y:72,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0},CA_yy:{type:"text",text:"",x:382,y:80,size:7,color:[104,104,104],font:"Harting_plain",pageNo:0}};async function m(e,t){const a=[560,205];let r=182.5,s=266.5;var d=null;(d=await i.PDFDocument.create()).registerFontkit(l.Z);const c=await(0,o.h2)(d);let g=(0,n.bh)("DL_cuba_f.png");const m=await fetch(g).then((e=>e.arrayBuffer()));let h=null;h=await d.embedPng(m);let u=(0,n.bh)("DL_cuba_b.png");const x=await fetch(u).then((e=>e.arrayBuffer()));let v=null;v=await d.embedPng(x);var w=null;w=d.addPage(a);const{width:y,height:f}=w.getSize();h&&w.drawImage(h,{x:10,y:f-r-10,width:s,height:r}),v&&w.drawImage(v,{x:276.5,y:f-r-10,width:s,height:r});let _=(0,n._I)(p);const b=d.getPages();(0,n._2)(e).map((t=>{_[t]&&e[t]?_[t].text=e[t]:delete _[t]})),_&&(0,n._2)(_).map((async e=>{let t=_[e];if(t){var a;let e=t.pageNo,o=null===b||void 0===b||null===(a=b[e])||void 0===a?void 0:a.getSize();if("text"===t.type){var l;let a=t.text?t.text.toString():"";null===(l=b[e])||void 0===l||l.drawText(a,{x:t.x,y:o.height-t.y,size:t.size||10,font:(0,n.Pn)(t.font)||c.TimesRomanItalic,color:t.color?(0,i.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,i.rgb)(0,0,0)})}else if("multi_line"===t.type){let a=t.text?t.text.toString():"",l=t.lineHeight||10;const r=(0,i.layoutMultilineText)(a,{alignment:"left",font:(0,n.Pn)(t.font)||c.TimesRomanItalic,fontSize:t.size||9,lineHeight:l,bounds:{width:y-100,height:500}});let s=o.height-t.y;for(let o=0;o<r.lines.length;o++)b[e].drawText("".concat(r.lines[o].text),{x:t.x,y:s,size:t.size||9,maxWidth:y-100,font:(0,n.Pn)(t.font)||c.TimesRomanItalic,color:t.color?(0,i.rgb)(t.color[0]/255,t.color[1]/255,t.color[2]/255):(0,i.rgb)(0,0,0)}),s-=l;return s}}}));let I=t?t.split(" ").join("_")+"_idsFrame_EN":"_idsFrame";d.setTitle(I),d.setAuthor("Stephanie Solution Group"),d.setCreator("Stephanie Solution Group"),d.setCreationDate(new Date),d.setModificationDate(new Date);{const e=await d.save();return(0,o.ou)(e)}}}}]);
//# sourceMappingURL=4237.113b23aa.chunk.js.map