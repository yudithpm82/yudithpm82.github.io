"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[411],{411:(e,i,l)=>{l.r(i),l.d(i,{default:()=>w});var t=l(2791),s=(l(1512),l(9760),l(2647)),a=l(2350),d=l(6664),o=l(1439),n=l(184);const r=(0,s.PU)(),c=(0,s.Np)(),v=(0,d.f)(),h=e=>{var i,l;let{pageSize:s,photoType:d,urlImag:o,url2Imag:r,customGap:c}=e;const[v,h]=(0,t.useState)(1);let m="".concat(null===s||void 0===s?void 0:s[0],"X").concat(null===s||void 0===s?void 0:s[1]);const p=(e,i,l)=>{var t=new Image;let s=c||8;t.onload=function(){let i=t.width/l[0]*e[0],d=t.height/l[1]*e[1],o=Math.floor(i/t.width),n=Math.floor(d/t.height),r=i-o*t.width,c=d-n*t.height,v=(r-(o-1)*s)/2,x=c/(n+1),p=r>0?0:s/2,u=c>0?0:s/2,g=[];for(let e=0;e<n;e++)for(let i=0;i<o;i++){let l=0===i?v:v+i*s,a={x:i*t.width+l,y:e*t.height+x*(e+1),w:t.width-p,h:t.height-u};g.push(a)}let w={pgW:i,pgH:d};(0,a.Rz)("svgData_"+m,{dmz:w,imagesPosition:g}),h((0,a.M5)())},t.src=i};(0,t.useEffect)((()=>{p(s,o,d)}),[s,d,o]);let u=(0,a.bh)("svgData_"+m);return null!==u&&void 0!==u&&null!==(i=u.dmz)&&void 0!==i&&i.pgH?(0,n.jsxs)("svg",{id:m,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===u||void 0===u||null===(l=u.dmz)||void 0===l?void 0:l.pgW," ").concat(u.dmz.pgH),preserveAspectRatio:"xMidYMid meet",children:[(0,n.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,n.jsx)("rect",{width:u.dmz.pgW,height:u.dmz.pgH,fill:"#ffffff"}),u.imagesPosition.map(((e,i)=>(0,n.jsx)(x,{idKey:m,im:e,urlImag:r&&i%2?r:o},i+"_svg"+m)))]}):null},x=e=>{let{urlImag:i,im:l,idKey:s}=e;const[d,o]=(0,t.useState)(!0),[r,c]=(0,t.useState)(1);return(0,n.jsx)("image",{onClick:e=>{(0,a.bh)("activeFrame")},onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),(0,a.bh)("activeFrame")===s&&o(!d)},width:null===l||void 0===l?void 0:l.w,height:null===l||void 0===l?void 0:l.h,x:null===l||void 0===l?void 0:l.x,y:null===l||void 0===l?void 0:l.y,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:d?i:""})},m=e=>{var i=document.getElementById(e);console.log("svgElement",i);let l=i.cloneNode(!0).outerHTML,t=new Blob([l],{type:"image/svg+xml;charset=utf-8"});return(window.URL||window.webkitURL||window).createObjectURL(t)},p=(e,i)=>{console.log(e);var l=document.getElementById(e);console.log("svgElement",l);let t=l.cloneNode(!0).outerHTML,s=new Blob([t],{type:"image/svg+xml;charset=utf-8"});var a=window.URL||window.webkitURL||window,d=a.createObjectURL(s),o=new Image,n=document.createElement("canvas"),r=l.getBBox();n.width=r.width,n.height=r.height;var c=n.getContext("2d");c.clearRect(0,0,r.width,r.height),o.onload=function(){if(c.drawImage(o,0,0),a.revokeObjectURL(d),"undefined"!==typeof navigator&&navigator.msSaveOrOpenBlob){var e=n.msToBlob();navigator.msSaveOrOpenBlob(e,i)}else{!function(e,i){var l=new MouseEvent("click",{view:window,bubbles:!1,cancelable:!0}),t=document.createElement("a");t.setAttribute("download",i),t.setAttribute("href",e),t.setAttribute("target","_blank"),t.dispatchEvent(l)}(n.toDataURL("image/png").replace("image/png","image/octet-stream"),i)}document.removeChild(n)},o.src=d};const u=e=>{let{pageSize:i,url:l,url2:t,photoSize:s,title:d,updObs:r,customGap:c}=e,v="".concat(null===i||void 0===i?void 0:i[0],"X").concat(null===i||void 0===i?void 0:i[1]);return null!==i&&void 0!==i&&i[0]&&l?(0,n.jsx)("div",{className:"photo_frame ".concat((0,a.bh)("activeFrame")===v?"activeFrame":""),style:{margin:"10px 3px"},onClick:e=>{(0,a.bh)("activeFrame")!==v&&((0,a.Rz)("activeFrame",v),r())},children:(0,n.jsxs)(_,{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,n.jsx)(h,{pageSize:i,urlImag:l,url2Imag:t,photoType:s,customGap:c})}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"iMTYiw hiKoiM",children:d}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,a.bh)("activeFrame")===v?(0,n.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,n.jsx)(o.N,{color:"#24E070",icon:"pdf_box",label:"pdf",clickHandler:()=>{let e=m(v);console.log(e),window.open(e)}}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)(o.N,{color:"#FFA500",icon:"image",label:"Jpg",clickHandler:()=>{p(v,(0,a.M5)()+".jpg")}})]}):null]})}):null};let g={"8\xbd\u2033 x 11\u2033":[8.5,11],"5\u2033 x 7\u2033":[5,7],"4\u2033 x 6\u2033":[4,6]};const w=e=>{var i,l,s,d,h,x,m,p,w,f,j,y,N,S,z,F,k,R,M,I,E,L,G,H;let{title:U,updObPrnt:C}=e;const[D,O]=(0,t.useState)(1),[Y,A]=(0,t.useState)(!1);(0,t.useEffect)((()=>{Y||(A(!0),X("photoGapSpace",1),X("photoDimension","1.99,1.99"))}),[]);const B=e=>{O((0,a.M5)())},K=()=>{let e=(0,a.bh)("preview_src");(0,a.Rz)("image_2_template",null),(0,a.Rz)("error_image",null);var i=new Image;i.onload=function(){let l=W(),t=i.width/l[0],s=i.height/l[1],d=i.width>i.height?l[1]:l[0],o=i.width>i.height?i.width:i.height,n={oh:i.height,ow:i.width,h:i.height*d,w:i.width*d,rw:o*l[0]+30,rh:o*l[1]+30};(0,a.Rz)("preview_dmz",n),Math.floor(t)===Math.floor(s)?(0,a.Rz)("image_2_template",e):(0,a.Rz)("error_image",{dmz:i,error:409}),B()},e&&(i.src=e)},X=(e,i)=>{(0,a.Rz)([e],i),B()},W=()=>{var e,i;let l=[];return null===(e=(0,a.bh)("photoDimension"))||void 0===e||null===(i=e.split(","))||void 0===i||i.map((e=>{1*e&&l.push(e)})),l.length>1?l:null};return(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,n.jsx)("img",{id:"face_id_recognition22"}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)("div",{className:"_dsplFlx ",children:[(0,n.jsx)(c,{init:(0,a.bh)("photoDimension"),label:"Dimension Foto ( inch )",width:160,updChanges:e=>X("photoDimension",e)}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)(c,{init:(0,a.bh)("photoGapSpace"),label:"Espacio ( px )",width:160,type:"number",updChanges:e=>X("photoGapSpace",e)}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,n.jsx)(o.N,{icon:"image_outline",color:"#902EF2",label:"Recalcuar Imagen",clickHandler:K})}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,n.jsx)(o.Z,{icon:"image_outline",color:"#feb200",label:"Subir Imagen",onChange:e=>{const i=e.target.files[0],l=new FileReader;l.addEventListener("load",(()=>{(0,a.Rz)("preview_src",l.result),(0,a.Rz)("preview_src_before_upload",l.result),K(l.result)}),!1),i&&l.readAsDataURL(i)}})}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,n.jsx)(o.Z,{icon:"image_outline",color:"#feb200",label:"Subir Imagen 2",onChange:e=>{const i=e.target.files[0],l=new FileReader;l.addEventListener("load",(()=>{(0,a.Rz)("preview_src2",l.result),(0,a.Rz)("preview_src2_before_upload",l.result),setTimeout((()=>{B()}),400)}),!1),i&&l.readAsDataURL(i)}})}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,a.bh)("preview_src")?(0,n.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsxs)(_,{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===(i=(0,a.bh)("preview_dmz"))||void 0===i?void 0:i.rw," ").concat(null===(l=(0,a.bh)("preview_dmz"))||void 0===l?void 0:l.rh),preserveAspectRatio:"xMidYMid meet",children:[(0,n.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,n.jsx)("rect",{width:null===(s=(0,a.bh)("preview_dmz"))||void 0===s?void 0:s.rw,height:null===(d=(0,a.bh)("preview_dmz"))||void 0===d?void 0:d.rh,fill:"#171921",stroke:409===(null===(h=(0,a.bh)("error_image"))||void 0===h?void 0:h.error)?"#F7251A":"#fff",style:{strokeWidth:60}}),(0,n.jsx)("image",{width:null===(x=(0,a.bh)("preview_dmz"))||void 0===x?void 0:x.w,height:null===(m=(0,a.bh)("preview_dmz"))||void 0===m?void 0:m.h,x:15,y:15,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:(0,a.bh)("preview_src")})]})}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"iMTYiw hiKoiM",children:(0,n.jsxs)("div",{className:'"_dsplFlx  valid-image '.concat(409===(null===(p=(0,a.bh)("error_image"))||void 0===p?void 0:p.error)?"error":"valid"),children:[(0,n.jsx)("div",{children:(0,n.jsx)(r,{name:409===(null===(w=(0,a.bh)("error_image"))||void 0===w?void 0:w.error)?"alert":"success",size:32})}),(0,n.jsx)("span",{children:409===(null===(f=(0,a.bh)("error_image"))||void 0===f?void 0:f.error)?"La imagen no tiene las dimensiones correctas (".concat(null===(j=(0,a.bh)("preview_dmz"))||void 0===j?void 0:j.ow," X ").concat(null===(y=(0,a.bh)("preview_dmz"))||void 0===y?void 0:y.oh,")"):"Perfecto"})]})}),(0,n.jsx)("div",{className:"flexSpace"})]})]}),(0,a.bh)("preview_src2")?(0,n.jsxs)(_,{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,n.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===(N=(0,a.bh)("preview_dmz"))||void 0===N?void 0:N.rw," ").concat(null===(S=(0,a.bh)("preview_dmz"))||void 0===S?void 0:S.rh),preserveAspectRatio:"xMidYMid meet",children:[(0,n.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t\t}'}),(0,n.jsx)("rect",{width:null===(z=(0,a.bh)("preview_dmz"))||void 0===z?void 0:z.rw,height:null===(F=(0,a.bh)("preview_dmz"))||void 0===F?void 0:F.rh,fill:"#171921",stroke:409===(null===(k=(0,a.bh)("error_image"))||void 0===k?void 0:k.error)?"#F7251A":"#fff",style:{strokeWidth:60}}),(0,n.jsx)("image",{width:null===(R=(0,a.bh)("preview_dmz"))||void 0===R?void 0:R.w,height:null===(M=(0,a.bh)("preview_dmz"))||void 0===M?void 0:M.h,x:15,y:15,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:(0,a.bh)("preview_src2")})]})}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"iMTYiw hiKoiM",children:(0,n.jsxs)("div",{className:'"_dsplFlx  valid-image '.concat(409===(null===(I=(0,a.bh)("error_image"))||void 0===I?void 0:I.error)?"error":"valid"),children:[(0,n.jsx)("div",{children:(0,n.jsx)(r,{name:409===(null===(E=(0,a.bh)("error_image"))||void 0===E?void 0:E.error)?"alert":"success",size:32})}),(0,n.jsx)("span",{children:409===(null===(L=(0,a.bh)("error_image"))||void 0===L?void 0:L.error)?"La imagen no tiene las dimensiones correctas (".concat(null===(G=(0,a.bh)("preview_dmz"))||void 0===G?void 0:G.ow," X ").concat(null===(H=(0,a.bh)("preview_dmz"))||void 0===H?void 0:H.oh,")"):"Perfecto"})]})}),(0,n.jsx)("div",{className:"flexSpace"})]})]}):null,(0,n.jsx)("div",{className:"flexSpace"})]}):null,(0,n.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,n.jsx)("div",{className:"flexSpace"}),W()&&(0,a._2)(g).map((e=>(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(u,{pageSize:g[e],url:(0,a.bh)("image_2_template"),url2:(0,a.bh)("preview_src2"),photoSize:(0,a.bh)("photoDimension").split(","),title:e,customGap:(0,a.bh)("photoGapSpace"),updObs:B}),(0,n.jsx)("div",{className:"flexSpace"})]}))),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"flexSpace"}),W()?(0,n.jsx)(b,{urlImag:(0,a.bh)("image_2_template"),url2:(0,a.bh)("preview_src2"),idKey:"4X6X2",title:"4X6X2",updObs:B}):null]}),(0,n.jsx)(v,{})]})},f=e=>{let{idKey:i,urlImag:l,url2Imag:t}=e;return(0,n.jsxs)("svg",{id:i,xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 1206.0301507537688 1809.0452261306532",preserveAspectRatio:"xMidYMid meet",children:[(0,n.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\t\t\t\tfont-family: "Google Sans";\n\t\t\t\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t\t\t\t}'}),(0,n.jsx)("rect",{width:"1206.0301507537688",height:"1809.0452261306532",fill:"#ffffff"}),[{x:2,y:202,w:600,h:600},{x:602,y:202,w:600,h:600},{x:2,y:904,w:600,h:600},{x:602,y:904,w:600,h:600}].map(((e,s)=>(0,n.jsx)(j,{idKey:i,im:e,urlImag:t&&s%2?t:l,index:s},s+"_svg"+i)))]})},j=e=>{let{urlImag:i,im:l,idKey:s,index:d,showLines:o}=e;const[r,c]=(0,t.useState)(!0),[v,h]=(0,t.useState)(1);return r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("image",{onClick:e=>{(0,a.bh)("activeFrame")},onContextMenu:e=>{e.stopPropagation(),e.preventDefault(),(0,a.bh)("activeFrame")===s&&c(!r)},width:null===l||void 0===l?void 0:l.w,height:null===l||void 0===l?void 0:l.h,x:null===l||void 0===l?void 0:l.x,y:null===l||void 0===l?void 0:l.y,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:r?i:""}),o?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("line",{x1:null===l||void 0===l?void 0:l.x,y1:null===l||void 0===l?void 0:l.y,x2:(null===l||void 0===l?void 0:l.x)+(null===l||void 0===l?void 0:l.w),y2:null===l||void 0===l?void 0:l.y,stroke:"#bdbdbd"}),(0,n.jsx)("line",{x1:null===l||void 0===l?void 0:l.x,y1:(null===l||void 0===l?void 0:l.y)+(null===l||void 0===l?void 0:l.h),x2:null===l||void 0===l?void 0:l.y,y2:(null===l||void 0===l?void 0:l.y)+(null===l||void 0===l?void 0:l.h),stroke:"#bdbdbd"}),(0,n.jsx)("line",{x1:null===l||void 0===l?void 0:l.x,y1:null===l||void 0===l?void 0:l.y,x2:null===l||void 0===l?void 0:l.x,y2:(null===l||void 0===l?void 0:l.y)+(null===l||void 0===l?void 0:l.h),stroke:"#bdbdbd"}),d%2!==0?(0,n.jsx)("line",{x1:(null===l||void 0===l?void 0:l.x)+(null===l||void 0===l?void 0:l.w),y1:null===l||void 0===l?void 0:l.y,x2:(null===l||void 0===l?void 0:l.x)+(null===l||void 0===l?void 0:l.w),y2:(null===l||void 0===l?void 0:l.y)+(null===l||void 0===l?void 0:l.h),stroke:"#bdbdbd"}):null]}):null]}):null},b=e=>{let{idKey:i,title:l,updObs:s}=e;const[d,r]=(0,t.useState)(1);return(0,n.jsx)("div",{className:"photo_frame ".concat((0,a.bh)("activeFrame")===i?"activeFrame":""),style:{margin:"10px 3px"},onClick:e=>{(0,a.bh)("activeFrame")!==i&&((0,a.Rz)("activeFrame",i),s())},children:(0,n.jsxs)(_,{children:[(0,n.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{style:{maxWidth:360,height:"40vmin",padding:"5px!important"},children:(0,n.jsx)(f,{urlImag:(0,a.bh)("image_2_template"),url2Imag:(0,a.bh)("preview_src2"),idKey:i})}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,n.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)("div",{className:"iMTYiw hiKoiM",children:l}),(0,n.jsx)("div",{className:"flexSpace"})]}),(0,a.bh)("activeFrame")===i?(0,n.jsxs)("div",{className:"_dsplFlx ",style:{width:"100%"},children:[(0,n.jsx)(o.N,{color:"#24E070",icon:"pdf_box",label:"pdf",clickHandler:()=>{let e=m(i);window.open(e)}}),(0,n.jsx)("div",{className:"flexSpace"}),(0,n.jsx)(o.N,{color:"#FFA500",icon:"image",label:"Jpg",clickHandler:()=>{p(i,(0,a.M5)()+".jpg")}})]}):null]})})},_=e=>{let{title:i,children:l}=e;return(0,n.jsx)("div",{className:"jRutKh",children:(0,n.jsx)("div",{className:"jSvsvz",children:(0,n.jsx)("div",{className:"jzcvbPh",children:(0,n.jsx)("div",{className:" kfqEsq",children:l})})})})}},1512:()=>{}}]);
//# sourceMappingURL=411.d537ce41.chunk.js.map