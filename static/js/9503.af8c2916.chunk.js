"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[9503,2539],{2539:(l,i,e)=>{e.d(i,{Fm:()=>m,NV:()=>c,SO:()=>u,he:()=>p,pl:()=>r});var d=e(2791),t=e(2647),o=e(2350),s=e(184);const n=(0,t.Np)(),a=((0,t.tW)(),(0,t.PU)()),r=l=>{let{image:i,dmz:e}=l,d=e||(0,o.bh)("preview_dmz"),{KEY_VALUE_SET:t,WORD:n,LINE:a}=h((0,o.bh)("image_text"));return(0,s.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===d||void 0===d?void 0:d.w," ").concat(null===d||void 0===d?void 0:d.h),preserveAspectRatio:"xMidYMid meet",children:[(0,s.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,s.jsx)("rect",{width:null===d||void 0===d?void 0:d.w,height:null===d||void 0===d?void 0:d.h,fill:"#ffffff"}),(0,s.jsx)("image",{width:null===d||void 0===d?void 0:d.w,height:null===d||void 0===d?void 0:d.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:i}),null===t||void 0===t?void 0:t.map(((l,i)=>(0,s.jsx)(v,{idKey:i+"_tann",item:l,index:i},i+"_tann"))),null===a||void 0===a?void 0:a.map(((l,i)=>(0,s.jsx)(v,{idKey:i+"_tann",item:l,index:i},i+"_tann")))]})},v=l=>{let{item:i,index:e,idKey:d}=l;const{Text:t,Geometry:n,boundingPoly:a,BlockType:r,Id:v}=i;let u="transparent";if("PAGE"===r)return null;var m;("LINE"===r&&(u="rgba(168, 199, 250,1)"),"KEY_VALUE_SET"===r)&&(u="KEY"===(null===i||void 0===i||null===(m=i.EntityTypes)||void 0===m?void 0:m[0])?"#BB021E":"#8110F1");if("WORD"===r)return null;"WORD"===r&&(u="#646cff",u="#8b949e");let c=null===a||void 0===a?void 0:a.vertices,p=t,h=n.BoundingBox,f=(0,o.bh)("preview_dmz"),x=(null===h||void 0===h?void 0:h.Height)*f.h,_=(null===h||void 0===h?void 0:h.Width)*f.w,g=(null===h||void 0===h?void 0:h.Left)*f.w,y=(null===h||void 0===h?void 0:h.Top)*f.h;return 0===e||null===c||void 0===c||c[1],(0,s.jsxs)(s.Fragment,{children:[null,(0,s.jsx)("rect",{onClick:l=>{l.stopPropagation(),l.preventDefault(),(0,o.vQ)(p)},onContextMenu:l=>{l.stopPropagation(),l.preventDefault()},width:_,height:x,fill:u,fillOpacity:"50%",x:g,y:y})]})},u=l=>{var i;let{title:e,keyfld:t,updObs:r,frmNm:v}=l;const[u,m]=(0,d.useState)(!1),[c,p]=(0,d.useState)(1),h=()=>{r&&r(),m(!1)};let f=null===(i=(0,o.bh)(v))||void 0===i?void 0:i[t];return(0,s.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,s.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:u?8:1},children:e}),u?(0,s.jsxs)("div",{className:"_dsplFlx",children:[(0,s.jsx)("div",{className:"lbl_dtls",children:(0,s.jsx)(n,{init:f,width:240,updChanges:l=>((l,i)=>{let e=(0,o.bh)(v)||{};e[l]=i,(0,o.Rz)(v,e),p((0,o.M5)())})(t,l),onEnter:h})}),(0,s.jsx)("div",{className:"icon_image ",onClick:h,children:(0,s.jsx)(a,{name:"success",color:"var(--success)"})})]}):(0,s.jsx)("div",{className:"lbl_dtls",onClick:()=>m(!0),children:f||"click to type"})]})},m=l=>{var i,e;let{title:t,keyfld:r,updObs:v,frmNm:u}=l;const[m,c]=(0,d.useState)(!1),[p,h]=(0,d.useState)(1),[f,x]=(0,d.useState)(""),_=()=>{((l,i)=>{let e=(0,o.bh)(u)||{},d=new Date(i).getTime();e[l]=d,(0,o.Rz)(u,e),h((0,o.M5)())})(r,f),v&&v(),c(!1)};let g=null===(i=(0,o.bh)(u))||void 0===i?void 0:i[r],y=f||(0,o.sJ)(null===(e=(0,o.bh)(u))||void 0===e?void 0:e[r])||"";return(0,s.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,s.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:m?8:1},children:t}),m?(0,s.jsxs)("div",{className:"_dsplFlx",children:[(0,s.jsx)("div",{className:"lbl_dtls",children:(0,s.jsx)(n,{init:y,width:240,updChanges:x,onEnter:_})}),(0,s.jsx)("div",{className:"icon_image ",onClick:_,children:(0,s.jsx)(a,{name:"success",color:"var(--success)"})})]}):(0,s.jsx)("div",{className:"lbl_dtls",onClick:()=>c(!0),children:(0,o.sG)(g)||"click to type"})]})},c=l=>{let{label:i,value:e}=l;return e?"object"===typeof e?null:(0,s.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,s.jsx)("div",{className:"lbl_h_dtls",children:i}),(0,s.jsx)("div",{className:"lbl_dtls",onClick:()=>{return l=e,void(0,o.vQ)(null===l||void 0===l?void 0:l.trim());var l},children:e})]}):null},p=l=>{let{label:i,value:e}=l;return e?"object"===typeof e?null:(0,s.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,s.jsx)("div",{className:"lbl_h_dtls",children:i}),(0,s.jsx)("div",{className:"lbl_dtls",onClick:()=>{return l=e,void(0,o.vQ)(null===l||void 0===l?void 0:l.trim());var l},children:"*******"})]}):null},h=l=>{let i=[],e=[],d=[];return null===l||void 0===l||l.map((l=>{let{BlockType:t}=l;"WORD"===t&&e.push(l),"LINE"===t&&d.push(l),"KEY_VALUE_SET"===t&&i.push(l)})),{KEY_VALUE_SET:i,WORD:e,LINE:d}}},9503:(l,i,e)=>{e.r(i),e.d(i,{default:()=>_});var d=e(2791),t=e(9760),o=e(2350),s=e(2647),n=e(5232),a=e(1439),r=e(2539),v=e(184);const u=(0,s.tW)(),m=((0,s.Zg)(),(0,s.PU)(),"birth_certificate"),c=l=>{let{frmNm3:i,updObs:e}=l;return(0,v.jsxs)("div",{children:[(0,v.jsx)(r.SO,{title:"Id:",frmNm:i,keyfld:"registrationId",updObs:e}),(0,v.jsx)(r.SO,{title:"Tomo:",frmNm:i,keyfld:"tomo",updObs:e}),(0,v.jsx)(r.SO,{title:"Folio:",frmNm:i,keyfld:"folio",updObs:e}),(0,v.jsx)(r.Fm,{title:"Registration Date:",frmNm:i,keyfld:"dor",updObs:e}),(0,v.jsx)(r.SO,{title:"Registration City:",frmNm:i,keyfld:"city_registration",updObs:e}),(0,v.jsx)(r.SO,{title:"Registration State:",frmNm:i,keyfld:"state_registration",updObs:e}),(0,v.jsx)(r.SO,{title:"Abuelo Paterno:",frmNm:i,keyfld:"grandFather_FatherSide",updObs:e}),(0,v.jsx)(r.SO,{title:"Abuela Paterna:",frmNm:i,keyfld:"grandMother_FatherSide",updObs:e}),(0,v.jsx)(r.SO,{title:"Abuelo Materno:",frmNm:i,keyfld:"grandFather_MotherSide",updObs:e}),(0,v.jsx)(r.SO,{title:"Abuela Materna:",frmNm:i,keyfld:"grandMother_MotherSide",updObs:e}),(0,v.jsx)(r.Fm,{title:"Request Date:",frmNm:i,keyfld:"dop",updObs:e}),(0,v.jsx)(r.SO,{title:"Prepared By:",frmNm:i,keyfld:"prepared_by",updObs:e}),(0,v.jsx)(r.SO,{title:"Revised By:",frmNm:i,keyfld:"revised_by",updObs:e}),(0,v.jsx)(r.SO,{title:"Registration Officer:",frmNm:i,keyfld:"registration_officer",updObs:e}),(0,v.jsx)(r.SO,{title:"Codigo Caso:",frmNm:"generated_form_btc",keyfld:"caseCode",updObs:e}),(0,v.jsx)(r.SO,{title:"Pin:",frmNm:"generated_form_btc",keyfld:"casePin",updObs:e}),(0,v.jsx)("div",{style:{padding:20}})]})},p=l=>{let{frmNm3:i,updObs:e,item:t,confirm:s,close:r}=l;const[,p]=(0,d.useState)(1),[f,x]=(0,d.useState)(!1),[_,g]=(0,d.useState)(!1),y=l=>{if(null!==l&&void 0!==l&&l.Blocks){let d=h(l);(0,o.Rz)(i,d),e()}},b=async l=>{let i=await(0,n.ln)(l);y(i),N(i)},j=async l=>{let i=await(0,n.DO)(l+".json");if(i){var e=await fetch(i);if(200===e.status){var d=await e.json();null!==d&&void 0!==d&&d.Blocks?(y(d),N(d)):b(l)}else b(l)}else b(l)},N=l=>{var i,d,t;null!==l&&void 0!==l&&l.Blocks&&(null!==l&&void 0!==l&&null!==(i=l.error)&&void 0!==i&&i.message?(g(null===l||void 0===l||null===(t=l.error)||void 0===t?void 0:t.message),x(!1)):(null===l||void 0===l||null===(d=l.Blocks)||void 0===d?void 0:d.length)>0?((0,o.Rz)("image_text",null===l||void 0===l?void 0:l.Blocks),g(""),x(!1)):(g("No se pudo leer la imagen intentelo de nuevo"),x(!1)));(0,o.Rz)("loading_image_text",!1),e()};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[f?(0,v.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,v.jsx)("div",{className:"lbl_saving ",children:"Trying to read the image ..."}),(0,v.jsx)(u,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,v.jsxs)("div",{className:"_dsplFlx",children:[(0,v.jsx)(a.N,{color:"#007bfc",label:"Redraw form",clickHandler:()=>(l=>{x(!0),g("");let i=(null===t||void 0===t?void 0:t.s3Path)||(null===t||void 0===t?void 0:t.fileName);(0,o.CO)(i)&&j(i)})()}),_?(0,v.jsx)("div",{className:"msg_alert red",children:(0,v.jsx)("div",{className:"msg_alert_title",children:_})}):null]}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"",children:(0,v.jsx)(a.N,{color:"#007bfc",label:"Save",clickHandler:()=>{let l={...(0,o.bh)(m)},e=Object.assign({},l);(0,o._2)((0,o.bh)(i)).map((l=>{(0,o.UE)((0,o.bh)(i)[l])&&(e[l]=(0,o.bh)(i)[l])})),e.clientNotaryId=(0,o.M5)(),(0,o.Rz)(m,e),s(e)}})})]}),(0,v.jsx)(c,{frmNm3:i,updObs:e})]})},h=l=>{var i;let e=[],d={},t={},s=[];null===l||void 0===l||null===(i=l.Blocks)||void 0===i||i.map((l=>{let{BlockType:i,Id:o}=l;var n;("WORD"===i&&(d[o]=l),"LINE"===i&&e.push(l),"KEY_VALUE_SET"===i)&&("KEY"===(null===l||void 0===l||null===(n=l.EntityTypes)||void 0===n?void 0:n[0])&&s.push(l),t[o]=l)}));let n={},a={};return null===s||void 0===s||s.map((l=>{var i;if("KEY"===(null===l||void 0===l||null===(i=l.EntityTypes)||void 0===i?void 0:i[0])){let i={},L=null===l||void 0===l?void 0:l.Relationships;var e,s,r,v,u,m,c,p,h,_,g;if(null===L||void 0===L||L.map((l=>{var e;i.KEY="",null===(e=l.Ids)||void 0===e||e.map((e=>{var o,s,n,a;"CHILD"===l.Type?i.KEY+=(null===(o=d[e])||void 0===o?void 0:o.Text)+" ":(i[l.Type]="",null===t||void 0===t||null===(s=t[e])||void 0===s||null===(n=s.Relationships)||void 0===n||null===(a=n[0].Ids)||void 0===a||a.map((e=>{var t;i[l.Type]+=(null===(t=d[e])||void 0===t?void 0:t.Text)+" "})))}))})),i.KEY.indexOf("Folio")>=0)n.folio=null===(e=i.VALUE)||void 0===e?void 0:e.trim();if(i.KEY.indexOf("Tomo")>=0)n.tomo=null===(s=i.VALUE)||void 0===s?void 0:s.trim();if(i.KEY.indexOf("buelos mate")>=0){var y,b,j;let l=null===(y=i.VALUE)||void 0===y?void 0:y.trim();l=x(l),n.grandFather_MotherSide=null===(b=l)||void 0===b?void 0:b[0],n.grandMother_MotherSide=null===(j=l)||void 0===j?void 0:j[1]}if(i.KEY.indexOf("buelos pate")>=0){var N,O,E;let l=null===(N=i.VALUE)||void 0===N?void 0:N.trim();l=x(l),n.grandFather_FatherSide=null===(O=l)||void 0===O?void 0:O[0],n.grandMother_FatherSide=null===(E=l)||void 0===E?void 0:E[1]}if(i.KEY.indexOf("solicitud de par")>=0){var w,k,S;let l=null===(w=i.VALUE)||void 0===w?void 0:w.trim(),e=null===l||void 0===l||null===(k=l.split("expide la presente ")[1])||void 0===k||null===(S=k.split(". ")[0])||void 0===S?void 0:S.toLowerCase(),d={},t=null===e||void 0===e?void 0:e.split(" ");o.U3.map(((l,i)=>{e.toLowerCase().indexOf(l.toLowerCase())>=0&&(d.mm=f(i+1))})),t.map((l=>{let i=1*l;isNaN(i)||(i>31?d.yy=f(i):i>0&&(d.dd=f(i)))})),d.mm&&d.yy&&d.dd&&(n.dop=new Date(d.mm+"/"+d.dd+"/"+d.yy).getTime())}if(i.KEY.indexOf("Hecho")>=0)n.prepared_by=null===(r=i.VALUE)||void 0===r||null===(v=r.split("or: ")[1])||void 0===v?void 0:v.split(". ")[0];if(i.KEY.indexOf("rovincia")>=0)n.state_registration=null===(u=i.VALUE)||void 0===u?void 0:u.trim(),n.state_office=null===(m=i.VALUE)||void 0===m?void 0:m.trim();if(i.KEY.indexOf("unicipio")>=0)n.city_registration=null===(c=i.VALUE)||void 0===c?void 0:c.trim(),n.city_office=null===(p=i.VALUE)||void 0===p?void 0:p.trim();if(i.KEY.indexOf("D\xeda")>=0)a.day=f(null===(h=i.VALUE)||void 0===h?void 0:h.trim());if(i.KEY.indexOf("Mes")>=0)a.month=f(null===(_=i.VALUE)||void 0===_?void 0:_.trim());if(i.KEY.indexOf("A\xf1o")>=0)a.year=f(null===(g=i.VALUE)||void 0===g?void 0:g.trim())}})),null===e||void 0===e||e.map((l=>{let i=null===l||void 0===l?void 0:l.Text;if((null===n||void 0===n||!n.dop)&&i.indexOf("solicitud de par")>=0){var e,d;let l=null===i||void 0===i?void 0:i.trim(),t=null===l||void 0===l||null===(e=l.split("expide la presente ")[1])||void 0===e||null===(d=e.split(". ")[0])||void 0===d?void 0:d.toLowerCase(),s={},a=null===t||void 0===t?void 0:t.split(" ");o.U3.map(((l,i)=>{var e;(null===t||void 0===t||null===(e=t.toLowerCase())||void 0===e?void 0:e.indexOf(null===l||void 0===l?void 0:l.toLowerCase()))>=0&&(s.mm=f(i+1))})),null===a||void 0===a||a.map((l=>{let i=1*l;isNaN(i)||(i>31?s.yy=f(i):i>0&&(s.dd=f(i)))})),s.mm&&s.yy&&s.dd&&(n.dop=new Date(s.mm+"/"+s.dd+"/"+s.yy).getTime())}var t,s,a,r,v,u;null!==n&&void 0!==n&&n.prepared_by||i.indexOf("echo po")>=0&&(n.prepared_by=null===i||void 0===i||null===(t=i.split("or: ")[1])||void 0===t||null===(s=t.split(". ")[0])||void 0===s?void 0:s.split(",")[0]);null!==n&&void 0!==n&&n.revised_by||i.indexOf("onfrontado po")>=0&&(n.revised_by=null===i||void 0===i||null===(a=i.split("or: ")[1])||void 0===a||null===(r=a.split(". ")[0])||void 0===r?void 0:r.split(",")[0]);null!==n&&void 0!==n&&n.caseCode||i.indexOf("tilizando el")>=0&&(n.caseCode=null===i||void 0===i||null===(v=i.split("go de Caso ")[1])||void 0===v?void 0:v.split(" ")[0],n.casePin=null===i||void 0===i||null===(u=i.split("el PIN ")[1])||void 0===u?void 0:u.split(". ")[0])})),n.dor=new Date(a.month+"/"+a.day+"/"+a.year).getTime(),n},f=l=>l>9?l:"0"+l,x=l=>{let i=null===l||void 0===l?void 0:l.trim();return i=i.split(" V ").join("@@"),i=i.split(" v ").join("@@"),i=i.split(" y ").join("@@"),i=i.split(" Y ").join("@@"),i=i.split(".").join(""),i.split("@@")},_=l=>{var i;let{data:e,s3Path:s,image:n,item:a,confirm:u}=l;const[,m]=(0,d.useState)(1);(0,d.useEffect)((()=>{var l;null!==(l=(0,o.bh)("preview_dmz"))&&void 0!==l&&l.w||h(n)}),[n]);const c=l=>{m((0,o.M5)())},h=l=>{var i=new Image;i.onload=function(){let l={oh:i.height,ow:i.width,h:i.height,w:i.width};(0,o.Rz)("preview_dmz",l),c()},l&&(i.src=l)};return(0,v.jsx)("div",{style:{maxHeight:"88vh",width:"88vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px 25px"},children:(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,v.jsx)("div",{style:{width:"50%",height:"90vmin",padding:"5px!important"},children:(0,v.jsx)(p,{frmNm3:"generated_form_btc",updObs:c,item:a,confirm:()=>{(null===e||void 0===e?void 0:e.modalID)&&(0,t.CloseModal)({id:null===e||void 0===e?void 0:e.modalID})},s3Path:s,image:n})}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{style:{height:"86vmin",padding:"5px!important"},children:null!==(i=(0,o.bh)("preview_dmz"))&&void 0!==i&&i.w?(0,v.jsx)(r.pl,{image:n,dmz:(0,o.bh)("preview_dmz")}):null})]})})}}}]);
//# sourceMappingURL=9503.af8c2916.chunk.js.map