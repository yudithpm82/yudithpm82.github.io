"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[7773],{7773:(i,e,l)=>{l.r(e),l.d(e,{default:()=>p});var d=l(2791),t=(l(9760),l(2647)),o=l(2350),s=(l(9503),l(1439),l(7719)),n=l(4327),a=l(2539),r=l(184);const v=(0,t.A5)();let m=[{id:"PASSPORT",label:"PASSPORT"},{id:"EMPLOYMENT AUTHORIZATION",label:"EMPLOYMENT AUTHORIZATION"},{id:"PERMANENT RESIDENT",label:"PERMANENT RESIDENT"},{id:"DRIVER'S LICENSE",label:"DRIVER'S LICENSE"}];const u="generated_form_passport",p=i=>{var e;let{data:l,image:t,item:p,confirm:c}=i;const[,f]=(0,d.useState)(1);(0,d.useEffect)((()=>{var i;null!==(i=(0,o.bh)("preview_dmz"))&&void 0!==i&&i.w||x(t)}),[t]);const h=i=>{f((0,o.M5)())},x=i=>{var e=new Image;e.onload=function(){let i={oh:e.height,ow:e.width,h:e.height,w:e.width};(0,o.Rz)("preview_dmz",i),h()},i&&(e.src=i)},g=(i,e)=>{let l=(0,o.bh)(u)||{};l[i]=e,(0,o.Rz)(u,l),f((0,o.M5)())};return(0,r.jsx)("div",{style:{maxHeight:"88vh",width:"88vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px 25px"},children:(0,r.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,r.jsxs)("div",{style:{width:500,height:"90vmin",padding:"5px!important"},children:[(0,r.jsx)("div",{style:{margin:"9px 1px 0 25px",width:300},children:(0,r.jsx)(v,{init:(0,o.bh)("typeDocument"),lbl_empty:"Type of Document",list:m,onSelect:i=>{return e="typeDocument",l=i.id,(0,o.Rz)(e,l),void f((0,o.M5)());var e,l},background:"var(--dark-900)",color:"var(--light-200)",direction:"left",width:"280px"})}),"PASSPORT"===(0,o.bh)("typeDocument")?(0,r.jsx)(s.Z,{frmNm3:u,updObs:h,updFrm:g,item:p,confirm:c,image:t}):null,"DRIVER'S LICENSE"===(0,o.bh)("typeDocument")?(0,r.jsx)(n.BE,{frmNm3:u,updObs:h,updFrm:g,item:p,confirm:c,image:t}):null]}),(0,r.jsx)("div",{className:"flexSpace"}),(0,r.jsx)("div",{style:{height:"86vmin",padding:"5px!important"},children:null!==(e=(0,o.bh)("preview_dmz"))&&void 0!==e&&e.w?(0,r.jsx)(a.pl,{image:t,dmz:(0,o.bh)("preview_dmz")}):null})]})})}},9503:(i,e,l)=>{l.r(e),l.d(e,{default:()=>g});var d=l(2791),t=l(9760),o=l(2350),s=l(2647),n=l(5232),a=l(1439),r=l(2539),v=l(184);const m=(0,s.tW)(),u="birth_certificate",p=i=>{let{frmNm3:e,updObs:l}=i;return(0,v.jsxs)("div",{children:[(0,v.jsx)(r.SO,{title:"Id:",frmNm:e,keyfld:"registrationId",updObs:l}),(0,v.jsx)(r.SO,{title:"Tomo:",frmNm:e,keyfld:"tomo",updObs:l}),(0,v.jsx)(r.SO,{title:"Folio:",frmNm:e,keyfld:"folio",updObs:l}),(0,v.jsx)(r.Fm,{title:"Registration Date:",frmNm:e,keyfld:"dor",updObs:l}),(0,v.jsx)(r.SO,{title:"Registration City:",frmNm:e,keyfld:"city_registration",updObs:l}),(0,v.jsx)(r.SO,{title:"Registration State:",frmNm:e,keyfld:"state_registration",updObs:l}),(0,v.jsx)(r.SO,{title:"Abuelo Paterno:",frmNm:e,keyfld:"grandFather_FatherSide",updObs:l}),(0,v.jsx)(r.SO,{title:"Abuela Paterna:",frmNm:e,keyfld:"grandMother_FatherSide",updObs:l}),(0,v.jsx)(r.SO,{title:"Abuelo Materno:",frmNm:e,keyfld:"grandFather_MotherSide",updObs:l}),(0,v.jsx)(r.SO,{title:"Abuela Materna:",frmNm:e,keyfld:"grandMother_MotherSide",updObs:l}),(0,v.jsx)(r.Fm,{title:"Request Date:",frmNm:e,keyfld:"dop",updObs:l}),(0,v.jsx)(r.SO,{title:"Prepared By:",frmNm:e,keyfld:"prepared_by",updObs:l}),(0,v.jsx)(r.SO,{title:"Revised By:",frmNm:e,keyfld:"revised_by",updObs:l}),(0,v.jsx)(r.SO,{title:"Registration Officer:",frmNm:e,keyfld:"registration_officer",updObs:l}),(0,v.jsx)(r.SO,{title:"Codigo Caso:",frmNm:"generated_form_btc",keyfld:"caseCode",updObs:l}),(0,v.jsx)(r.SO,{title:"Pin:",frmNm:"generated_form_btc",keyfld:"casePin",updObs:l}),(0,v.jsx)("div",{style:{padding:20}})]})},c=i=>{let{frmNm3:e,updObs:l,item:t,confirm:s,close:r}=i;const[,c]=(0,d.useState)(1),[h,x]=(0,d.useState)(!1),[g,y]=(0,d.useState)(!1),b=i=>{if(null!==i&&void 0!==i&&i.Blocks){let d=f(i);(0,o.Rz)(e,d),l()}},O=async i=>{let e=await(0,n.ln)(i);b(e),N(e)},E=async i=>{let e=await(0,n.DO)(i+".json");if(e){var l=await fetch(e);if(200===l.status){var d=await l.json();null!==d&&void 0!==d&&d.Blocks?(b(d),N(d)):O(i)}else O(i)}else O(i)},N=i=>{var e,d,t;null!==i&&void 0!==i&&i.Blocks&&(null!==i&&void 0!==i&&null!==(e=i.error)&&void 0!==e&&e.message?(y(null===i||void 0===i||null===(t=i.error)||void 0===t?void 0:t.message),x(!1)):(null===i||void 0===i||null===(d=i.Blocks)||void 0===d?void 0:d.length)>0?((0,o.Rz)("image_text",null===i||void 0===i?void 0:i.Blocks),y(""),x(!1)):(y("No se pudo leer la imagen intentelo de nuevo"),x(!1)));(0,o.Rz)("loading_image_text",!1),l()};return(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[h?(0,v.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,v.jsx)("div",{className:"lbl_saving ",children:"Trying to read the image ..."}),(0,v.jsx)(m,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,v.jsxs)("div",{className:"_dsplFlx",children:[(0,v.jsx)(a.N,{color:"#007bfc",label:"Redraw form",clickHandler:()=>(i=>{x(!0),y("");let e=(null===t||void 0===t?void 0:t.s3Path)||(null===t||void 0===t?void 0:t.fileName);(0,o.CO)(e)&&E(e)})()}),g?(0,v.jsx)("div",{className:"msg_alert red",children:(0,v.jsx)("div",{className:"msg_alert_title",children:g})}):null]}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"",children:(0,v.jsx)(a.N,{color:"#007bfc",label:"Save",clickHandler:()=>{let i={...(0,o.bh)(u)},l=Object.assign({},i);(0,o._2)((0,o.bh)(e)).map((i=>{(0,o.UE)((0,o.bh)(e)[i])&&(l[i]=(0,o.bh)(e)[i])})),l.clientNotaryId=(0,o.M5)(),(0,o.Rz)(u,l),s(l)}})})]}),(0,v.jsx)(p,{frmNm3:e,updObs:l})]})},f=i=>{var e;let l=[],d={},t={},s=[];null===i||void 0===i||null===(e=i.Blocks)||void 0===e||e.map((i=>{let{BlockType:e,Id:o}=i;var n;("WORD"===e&&(d[o]=i),"LINE"===e&&l.push(i),"KEY_VALUE_SET"===e)&&("KEY"===(null===i||void 0===i||null===(n=i.EntityTypes)||void 0===n?void 0:n[0])&&s.push(i),t[o]=i)}));let n={},a={};return null===s||void 0===s||s.map((i=>{var e;if("KEY"===(null===i||void 0===i||null===(e=i.EntityTypes)||void 0===e?void 0:e[0])){let e={},R=null===i||void 0===i?void 0:i.Relationships;var l,s,r,v,m,u,p,c,f,g,y;if(null===R||void 0===R||R.map((i=>{var l;e.KEY="",null===(l=i.Ids)||void 0===l||l.map((l=>{var o,s,n,a;"CHILD"===i.Type?e.KEY+=(null===(o=d[l])||void 0===o?void 0:o.Text)+" ":(e[i.Type]="",null===t||void 0===t||null===(s=t[l])||void 0===s||null===(n=s.Relationships)||void 0===n||null===(a=n[0].Ids)||void 0===a||a.map((l=>{var t;e[i.Type]+=(null===(t=d[l])||void 0===t?void 0:t.Text)+" "})))}))})),e.KEY.indexOf("Folio")>=0)n.folio=null===(l=e.VALUE)||void 0===l?void 0:l.trim();if(e.KEY.indexOf("Tomo")>=0)n.tomo=null===(s=e.VALUE)||void 0===s?void 0:s.trim();if(e.KEY.indexOf("buelos mate")>=0){var b,O,E;let i=null===(b=e.VALUE)||void 0===b?void 0:b.trim();i=x(i),n.grandFather_MotherSide=null===(O=i)||void 0===O?void 0:O[0],n.grandMother_MotherSide=null===(E=i)||void 0===E?void 0:E[1]}if(e.KEY.indexOf("buelos pate")>=0){var N,_,j;let i=null===(N=e.VALUE)||void 0===N?void 0:N.trim();i=x(i),n.grandFather_FatherSide=null===(_=i)||void 0===_?void 0:_[0],n.grandMother_FatherSide=null===(j=i)||void 0===j?void 0:j[1]}if(e.KEY.indexOf("solicitud de par")>=0){var w,S,k;let i=null===(w=e.VALUE)||void 0===w?void 0:w.trim(),l=null===i||void 0===i||null===(S=i.split("expide la presente ")[1])||void 0===S||null===(k=S.split(". ")[0])||void 0===k?void 0:k.toLowerCase(),d={},t=null===l||void 0===l?void 0:l.split(" ");o.U3.map(((i,e)=>{l.toLowerCase().indexOf(i.toLowerCase())>=0&&(d.mm=h(e+1))})),t.map((i=>{let e=1*i;isNaN(e)||(e>31?d.yy=h(e):e>0&&(d.dd=h(e)))})),d.mm&&d.yy&&d.dd&&(n.dop=new Date(d.mm+"/"+d.dd+"/"+d.yy).getTime())}if(e.KEY.indexOf("Hecho")>=0)n.prepared_by=null===(r=e.VALUE)||void 0===r||null===(v=r.split("or: ")[1])||void 0===v?void 0:v.split(". ")[0];if(e.KEY.indexOf("rovincia")>=0)n.state_registration=null===(m=e.VALUE)||void 0===m?void 0:m.trim(),n.state_office=null===(u=e.VALUE)||void 0===u?void 0:u.trim();if(e.KEY.indexOf("unicipio")>=0)n.city_registration=null===(p=e.VALUE)||void 0===p?void 0:p.trim(),n.city_office=null===(c=e.VALUE)||void 0===c?void 0:c.trim();if(e.KEY.indexOf("D\xeda")>=0)a.day=h(null===(f=e.VALUE)||void 0===f?void 0:f.trim());if(e.KEY.indexOf("Mes")>=0)a.month=h(null===(g=e.VALUE)||void 0===g?void 0:g.trim());if(e.KEY.indexOf("A\xf1o")>=0)a.year=h(null===(y=e.VALUE)||void 0===y?void 0:y.trim())}})),null===l||void 0===l||l.map((i=>{let e=null===i||void 0===i?void 0:i.Text;if((null===n||void 0===n||!n.dop)&&e.indexOf("solicitud de par")>=0){var l,d;let i=null===e||void 0===e?void 0:e.trim(),t=null===i||void 0===i||null===(l=i.split("expide la presente ")[1])||void 0===l||null===(d=l.split(". ")[0])||void 0===d?void 0:d.toLowerCase(),s={},a=null===t||void 0===t?void 0:t.split(" ");o.U3.map(((i,e)=>{var l;(null===t||void 0===t||null===(l=t.toLowerCase())||void 0===l?void 0:l.indexOf(null===i||void 0===i?void 0:i.toLowerCase()))>=0&&(s.mm=h(e+1))})),null===a||void 0===a||a.map((i=>{let e=1*i;isNaN(e)||(e>31?s.yy=h(e):e>0&&(s.dd=h(e)))})),s.mm&&s.yy&&s.dd&&(n.dop=new Date(s.mm+"/"+s.dd+"/"+s.yy).getTime())}var t,s,a,r,v,m;null!==n&&void 0!==n&&n.prepared_by||e.indexOf("echo po")>=0&&(n.prepared_by=null===e||void 0===e||null===(t=e.split("or: ")[1])||void 0===t||null===(s=t.split(". ")[0])||void 0===s?void 0:s.split(",")[0]);null!==n&&void 0!==n&&n.revised_by||e.indexOf("onfrontado po")>=0&&(n.revised_by=null===e||void 0===e||null===(a=e.split("or: ")[1])||void 0===a||null===(r=a.split(". ")[0])||void 0===r?void 0:r.split(",")[0]);null!==n&&void 0!==n&&n.caseCode||e.indexOf("tilizando el")>=0&&(n.caseCode=null===e||void 0===e||null===(v=e.split("go de Caso ")[1])||void 0===v?void 0:v.split(" ")[0],n.casePin=null===e||void 0===e||null===(m=e.split("el PIN ")[1])||void 0===m?void 0:m.split(". ")[0])})),n.dor=new Date(a.month+"/"+a.day+"/"+a.year).getTime(),n},h=i=>i>9?i:"0"+i,x=i=>{let e=null===i||void 0===i?void 0:i.trim();return e=e.split(" V ").join("@@"),e=e.split(" v ").join("@@"),e=e.split(" y ").join("@@"),e=e.split(" Y ").join("@@"),e=e.split(".").join(""),e.split("@@")},g=i=>{var e;let{data:l,s3Path:s,image:n,item:a,confirm:m}=i;const[,u]=(0,d.useState)(1);(0,d.useEffect)((()=>{var i;null!==(i=(0,o.bh)("preview_dmz"))&&void 0!==i&&i.w||f(n)}),[n]);const p=i=>{u((0,o.M5)())},f=i=>{var e=new Image;e.onload=function(){let i={oh:e.height,ow:e.width,h:e.height,w:e.width};(0,o.Rz)("preview_dmz",i),p()},i&&(e.src=i)};return(0,v.jsx)("div",{style:{maxHeight:"88vh",width:"88vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px 25px"},children:(0,v.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,v.jsx)("div",{style:{width:"50%",height:"90vmin",padding:"5px!important"},children:(0,v.jsx)(c,{frmNm3:"generated_form_btc",updObs:p,item:a,confirm:()=>{(null===l||void 0===l?void 0:l.modalID)&&(0,t.CloseModal)({id:null===l||void 0===l?void 0:l.modalID})},s3Path:s,image:n})}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{style:{height:"86vmin",padding:"5px!important"},children:null!==(e=(0,o.bh)("preview_dmz"))&&void 0!==e&&e.w?(0,v.jsx)(r.pl,{image:n,dmz:(0,o.bh)("preview_dmz")}):null})]})})}}}]);
//# sourceMappingURL=7773.08104a51.chunk.js.map