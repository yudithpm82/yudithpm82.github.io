"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[449],{449:(e,a,s)=>{s.r(a),s.d(a,{default:()=>x});var t=s(2791),i=(s(1512),s(2647)),l=s(2350),r=s(6245),n=s(9138),o=s(5408),d=s(7984),c=s(1439),h=s(184);(0,i.PU)();const p=(0,i.Np)(),m=(0,i.tW)(),x=e=>{let{title:a,updObPrnt:s}=e;const[i,r]=(0,t.useState)(1),[n,o]=(0,t.useState)(!1),[x,v]=(0,t.useState)(!1);(0,t.useEffect)((()=>{n||o(!0)}),[]);const u=e=>{r((0,l.M5)())},b=(e,a)=>{(0,l.Rz)([e],a),u()},f=(e,a)=>{if((0,l.bh)("imageRzsRelation"))if("image2RzW"===e){(0,l.Rz)("image2RzW",a);let e=a/(0,l.bh)("image_relationW2H");(0,l.Rz)("image2RzH",e.toFixed(2))}else{(0,l.Rz)("image2RzH",a);let e=a*(0,l.bh)("image_relationW2H");(0,l.Rz)("image2RzW",e.toFixed(2))}else(0,l.Rz)([e],a);let s={height:(0,l.bh)("frame2RzW"),width:(0,l.bh)("frame2RzW"),top:(0,l.bh)("frameTop"),left:(0,l.bh)("frameLeft")};(0,l.Rz)("image2CropCordinates",s),u()};return(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,h.jsx)(c.Z,{icon:"image_outline",color:"#902EF2",label:"Subir Imagen",onChange:e=>{const a=e.target.files[0],s=new FileReader;s.addEventListener("load",(()=>{(0,l.Rz)("preview_src_before_upload",s.result),(e=>{var a=new Image;a.onload=function(){let e={oh:a.height,ow:a.width,h:a.height,w:a.width};(0,l.Rz)("image2RzW",a.width),(0,l.Rz)("image2RzH",a.height),(0,l.Rz)("image_relationW2H",a.width/a.height),(0,l.Rz)("preview_mov_dmz_add",e),(0,l.Rz)("loading_image_upload",!1),(0,l.Rz)("loading_upload_crop",!1),u()},e&&(a.src=e)})(s.result)}),!1),a&&s.readAsDataURL(a)}})}),(0,h.jsx)("div",{className:"flexSpace"})]}),(0,l.bh)("preview_src_before_upload")?(0,h.jsxs)("div",{className:"_dsplFlx ",style:{padding:9,width:"100%"},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,h.jsx)(c.N,{icon:(0,l.bh)("imageRzsRelation")?"lock-outline":"lock-open-variant-outline",color:"#feb200",label:"Relation",clickHandler:e=>b("imageRzsRelation",!(0,l.bh)("imageRzsRelation"))})}),(0,h.jsx)("div",{style:{margin:"0 17px"}}),(0,h.jsx)(p,{init:(0,l.bh)("image2RzW"),label:"Width",width:140,type:"number",updChanges:e=>f("image2RzW",e)}),(0,h.jsx)("div",{style:{margin:"0 17px"}}),(0,h.jsx)(p,{init:(0,l.bh)("image2RzH"),label:"Height",width:140,type:"number",updChanges:e=>f("image2RzH",e)}),(0,h.jsx)("div",{style:{margin:"0 17px"}}),(0,h.jsx)(p,{init:(0,l.bh)("image2Rzcompress"),label:"Compress",width:140,type:"number",updChanges:e=>b("image2Rzcompress",e)}),(0,h.jsx)("div",{style:{margin:"0 17px"}}),(0,h.jsx)("div",{className:"cont_algn",children:(0,h.jsx)(c.N,{color:"#007bfc",label:"Resize",clickHandler:()=>{let e=1*(0,l.bh)("image2RzW"),a=1*(0,l.bh)("image2RzH"),s=(0,l.bh)("image2Rzcompress")||.8,t=new Image,i=(0,l.bh)("preview_mov_dmz_add");t.src=(0,l.bh)("preview_src_before_upload"),t.onload=function(){var l=document.createElement("canvas"),r=l.getContext("2d");l.width=e,l.height=a,r.drawImage(t,0,0,i.w,i.h,0,0,e,a),l.toBlob((e=>{let a=URL.createObjectURL(e);window.open(a)}),"image/png",1*s)}}})}),(0,h.jsx)("div",{className:"flexSpace"})]}):null,(0,h.jsxs)("div",{className:"_dsplFlx",children:[(0,h.jsx)("div",{style:{width:"600px"},children:(0,h.jsx)(g,{handleChange:u})}),(0,h.jsx)("div",{children:(0,h.jsxs)("div",{className:" ",style:{padding:9,width:"300px"},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{style:{margin:"140px"}}),(0,h.jsx)(p,{init:(0,l.bh)("frame2RzW"),label:"Width",width:140,type:"number",updChanges:e=>f("frame2RzW",e)}),(0,h.jsx)("div",{style:{margin:"17px"}}),(0,h.jsx)(p,{init:(0,l.bh)("frameTop"),label:"Top",width:140,type:"number",updChanges:e=>f("frameTop",e)}),(0,h.jsx)("div",{style:{margin:"17px"}}),(0,h.jsx)(p,{init:(0,l.bh)("frameLeft"),label:"Left",width:140,type:"number",updChanges:e=>b("frameLeft",e)}),(0,h.jsx)("div",{style:{margin:"17px"}}),(0,h.jsx)("div",{className:"cont_algn",children:(0,h.jsx)(c.N,{color:"#007bfc",label:"Resize",clickHandler:()=>{(0,l.wt)("frame2Passport")}})}),(0,h.jsx)("div",{style:{margin:"17px"}}),(0,h.jsx)("div",{className:"cont_algn",children:(0,h.jsx)(c.N,{color:"#007bfc",label:"donwload 2X2",clickHandler:async e=>{window.open((0,l.bh)("preview_src_before_upload"))}})}),(0,h.jsx)("div",{style:{margin:"17px"}}),(0,h.jsx)("div",{className:"cont_algn",children:x?(0,h.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,h.jsx)("div",{className:"lbl_saving ",children:"compressing image ..."}),(0,h.jsx)(m,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):(0,h.jsx)(c.N,{color:"#007bfc",label:"donwload Compress",clickHandler:async()=>{let e=(0,l.bh)("preview_src_before_upload");v(!0);var a=await(0,l.Mi)(e,"image/png");const s={maxSizeMB:5,maxWidthOrHeight:2400};try{const e=await(0,d.Z)(a,s);console.log(e);let t=URL.createObjectURL(e);window.open(t),v(!1)}catch(t){console.log(t),v(!1)}}})}),(0,h.jsx)("div",{className:"flexSpace"})]})})]})]})},g=e=>{let{handleChange:a,width:s}=e;const[,i]=(0,t.useState)(1),[d,m]=(0,t.useState)(0),[x,g]=(0,t.useState)(""),u=(0,t.useRef)(null);(0,o.Z)("frame2Passport");let b=(0,r.Z)(x);(0,t.useEffect)((()=>(b&&(0,l.Ey)(a)&&a(b),()=>{})),[b]);const f=async()=>{(0,l.Rz)("canvas_cropping",!0),i((0,l.M5)());var e=(0,l.bh)("canvas_advanced-cropper").toDataURL(),a=await(0,l.Mi)(e,"application/png");let s=URL.createObjectURL(a);(0,l.Rz)("preview_src_before_upload",s),(0,l.Rz)("canvas_cropping",!1),setTimeout((()=>{(0,l.Rz)("canvas_advanced-cropper",null),i((0,l.M5)())}),750),i((0,l.M5)())};return(0,h.jsxs)("div",{className:"",children:[(0,l.bh)("preview_src_before_upload")?(0,h.jsxs)("div",{className:"image_options _dsplFlx ",style:{padding:"20px 0 10px"},children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,h.jsx)(c.N,{icon:"rotate-left",color:"#feb200",label:"Rotate",clickHandler:()=>{let e=d+90;e>350&&(e=0),u.current&&(m(e),u.current.rotateImage(e))}})}),(0,h.jsx)("div",{className:"flexSpace"}),(0,l.bh)("canvas_advanced-cropper")?(0,h.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,h.jsx)(c.N,{icon:"crop",color:"#feb200",label:"Crop",clickHandler:f})}):null,(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"center_align",style:{margin:"26px 0 0"},children:(0,h.jsx)(c.N,{icon:"crop",color:"#feb200",label:"Cordinates",clickHandler:async()=>{var e,a,s,t;let i=(0,l.bh)("preview_mov_dmz_add"),r=1*document.getElementsByClassName("advanced-cropper-boundary__stretcher")[0].style.width.split("px")[0],n=i.w/r,o={height:(null===(e=(0,l.bh)("image2CropCordinates"))||void 0===e?void 0:e.height)*n,width:(null===(a=(0,l.bh)("image2CropCordinates"))||void 0===a?void 0:a.width)*n,top:(null===(s=(0,l.bh)("image2CropCordinates"))||void 0===s?void 0:s.top)*n,left:(null===(t=(0,l.bh)("image2CropCordinates"))||void 0===t?void 0:t.left)*n};u.current.setCoordinates(o),setTimeout((()=>{f(),setTimeout((()=>{window.open((0,l.bh)("preview_src_before_upload"))}),850)}),350)}})}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)(p,{init:d,label:"Angle",width:140,type:"number",updChanges:e=>(e=>{let a=e;a>350&&(a=0),u.current.rotateImage(1*a),m(a)})(e)})]}):null,(0,h.jsxs)("div",{className:"cropper_container",style:{opacity:(0,l.bh)("canvas_cropping")?0:1},children:[(0,h.jsx)(n.fle,{src:(0,l.bh)("preview_src_before_upload"),onChange:e=>{let a=e.getCanvas();(0,l.Rz)("canvas_advanced-cropper",a),g((0,l.LO)())},className:"cropper",ref:u,defaultSize:e=>{let{imageSize:a,visibleArea:s}=e;return{width:.95*(s||a).width,height:.95*(s||a).height}}}),(0,h.jsx)("div",{style:{position:"absolute",zIndex:100,width:(0,l.bh)("frame2RzW")+"px"||0,top:(0,l.bh)("frameTop")+"px"||0,left:(0,l.bh)("frameLeft")+"px"||0},children:(0,h.jsx)(v,{})})]})]})},v=e=>{let{}=e;(0,o.Z)("frame2Passport");let a=4500,s="#ff2500",t=30,i="0 ".concat(t," 0");return(0,h.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(a," ").concat(a),preserveAspectRatio:"xMidYMid meet",children:[(0,h.jsx)("rect",{width:a,height:a,fill:"transparent"}),(0,h.jsx)("line",{x1:0,y1:0,x2:0,y2:a,stroke:s,strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:0,y1:0,x2:a,y2:0,stroke:s,strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:a,y1:0,x2:a,y2:a,stroke:s,strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:0,y1:a,x2:a,y2:a,stroke:s,strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:2250,y1:0,x2:2250,y2:a,stroke:s,strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:1125,y1:599.85,x2:3375,y2:599.85,stroke:"#00ff25",strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:675,y1:1899.9,x2:3825,y2:1899.9,stroke:"#00ff25",strokeDasharray:i,strokeWidth:t}),(0,h.jsx)("line",{x1:1125,y1:3397.5,x2:3375,y2:3397.5,stroke:"#00ff25",strokeDasharray:i,strokeWidth:t})]})}},5408:(e,a,s)=>{s.d(a,{Z:()=>l});var t=s(2791),i=s(2350);const l=e=>{const[a,s]=(0,t.useState)("");return(0,t.useEffect)((()=>{const a=a=>s((a=>{let s=(0,i.bh)("lastTimeCall_"+e)||0;return Date.now()>s&&((0,i.Rz)("lastTimeCall_"+e,Date.now()+90),a.detail.id===e)?a.detail.hash:""})(a));return document.addEventListener(e,a),()=>{document.removeEventListener(e,a)}}),[e]),a}},6245:(e,a,s)=>{s.d(a,{Z:()=>i});var t=s(2791);const i=e=>{const[a,s]=(0,t.useState)(null),[i,l]=(0,t.useState)(""),[r,n]=(0,t.useState)(null);return(0,t.useEffect)((()=>{a||l(e),a>0&&a<Date.now()||r&&clearTimeout(r);let t=setTimeout((()=>{a>0&&a<Date.now()&&e!==i&&l(e)}),250);return n(t),s(Date.now()+220),()=>{}}),[e]),i}},1512:()=>{}}]);
//# sourceMappingURL=449.24610f80.chunk.js.map