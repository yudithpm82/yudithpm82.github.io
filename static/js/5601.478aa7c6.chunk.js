"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[5601,2515,6349,5242,2959,2539,3922,3439],{2515:(e,l,i)=>{i.r(l),i.d(l,{default:()=>n});var a=i(2791),s=i(2647),d=i(8965),o=i(184);const t=(0,s.PU)();const n=function(e){let{children:l}=e;const i=(0,a.useRef)(!1),s=(0,a.useRef)(!1),t=(0,d.g)(!1,(e=>{var l;null===s||void 0===s||null===(l=s.current)||void 0===l||l.setAttribute("show",e),i.current.refresh(e?"key_arrow_up":"key_arrow_down")}));return(0,o.jsxs)("div",{children:[(0,o.jsx)("div",{className:"elastic_view_bx",ref:s,children:(0,o.jsx)("div",{className:"wrapp",children:l})}),(0,o.jsx)("div",{children:(0,o.jsx)("div",{className:"icon_revision",style:{cursor:"pointer"},onClick:()=>{t.value=!t.value},children:(0,o.jsx)(r,{ref:i})})})]})},r=(0,a.forwardRef)(((e,l)=>{let{}=e;const[i,s]=(0,a.useState)("key_arrow_down");return(0,a.useImperativeHandle)(l,(()=>({refresh(e){s(e)}}))),(0,o.jsx)(t,{name:i,color:"var(--light-300)"})}))},6349:(e,l,i)=>{i.d(l,{Z:()=>n});var a=i(9760),s=i(2647),d=i(2350),o=i(184);const t=(0,s.LA)(),n=e=>{let{init:l,label:i,updDate:s}=e;const n=e=>{s(e.initDate+800)};return(0,o.jsxs)("div",{children:[(0,o.jsx)("p",{className:"label",children:i||"Fecha"}),(0,o.jsx)("div",{className:"date2Upd",onClick:()=>{let e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,o.jsx)(t,{onConfirm:n,init:l}),(0,a.OpenModal)(e)},children:l?(0,d.sG)(l):(0,d.sG)((new Date).getTime())})]})}},5601:(e,l,i)=>{i.r(l),i.d(l,{default:()=>y});var a=i(2791),s=(i(4629),i(9760)),d=i(2647),o=i(2350),t=i(8858),n=i(6963),r=i(4e3),c=i(1479);function v(e){let l=new Blob([e],{type:"application/pdf"});return(window.URL||window.webkitURL).createObjectURL(l)}const u=(e,l,i)=>{const a=l.widthOfTextAtSize(e,40),s=l.widthOfTextAtSize(e,10);return Math.floor(i/((a-s)/30))};var x=i(1439),m=i(3922),h=i(2515),p=i(6349),g=i(184);const b=(0,d.PU)(),_=(0,d.Vg)(),f=(0,d.pz)(),j=(0,d.tW)(),N=(0,d.A5)(),y=e=>{var l,i;let{title:d,description:h}=e;const[,f]=(0,a.useState)(1),[y,k]=(0,a.useState)([]),[S,T]=(0,a.useState)(null),[F,C]=(0,a.useState)(null),Y=(0,a.useRef)(null),L=(0,a.useRef)(null);(0,a.useEffect)((()=>{let e=[];Array.from(Array(22).keys()).map((l=>{e.push({id:l+30,label:l+30})})),k(e),(0,t.yz)(z)}),[]);const z=e=>{(0,o.Rz)("logistic_orders_list",e.data),L.current=!1,f((0,o.M5)())},R=async e=>{let l=await(0,t.md)(e,0,null===S||void 0===S?void 0:S.id);z(l)},A=e=>{L.current=!0};return(0,g.jsxs)("div",{className:" customer_bx_dash\t ",children:[(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)("div",{className:"iMTYiw",style:{marginTop:"8px",marginBottom:"28px"},children:"Envios"}),(0,g.jsx)("div",{style:{marginTop:"8px"},children:(0,g.jsx)(_,{loadingColor:"var(--primary)",label:"Buscar un cliente",width:360,obs:f,fetchData:R,change:A,callempty:async(e,l)=>{(0,o.Rz)("logistic_orders_list",null),z()},keyFlds:"searchLogOrders"})}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"flexSpace"}),null!==(l=(0,o.bh)((0,o.Ks)()))&&void 0!==l&&l.clientNotaryId?(0,g.jsx)("div",{style:{margin:"16px 16px 0 0"},children:(0,g.jsx)(x.N,{color:"#007bfc",label:"Nuevo Envio",clickHandler:e=>{let l={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};l.content=(0,g.jsx)(m.default,{confirm:A}),(0,s.OpenModal)(l)}})}):(0,g.jsxs)("div",{className:"_dsplFlx spaceAround",children:[(0,g.jsx)("div",{className:" center_align",children:(0,g.jsx)(N,{init:null===S||void 0===S?void 0:S.label,lbl_empty:(null===S||void 0===S?void 0:S.label)||"Guia",list:y,onSelect:T,background:"var(--dark-900)",color:"var(--light-200)",width:"120px"})}),(0,g.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,g.jsx)(p.Z,{init:F,label:"Fecha",updDate:e=>C(e)})}),(0,g.jsx)("div",{className:"icon blue30 center_align",onClick:async e=>{(0,o.bh)((0,o.Ks)());let l=(0,o.bh)("logistic_orders_list"),i={list:[]};(0,o._2)(l).map((e=>{var a,s;let d=l[e],t=null===d||void 0===d?void 0:d.consigneeInfo,n=(0,o.fY)(null===t||void 0===t?void 0:t.firstName)+(0,o.fY)(null===t||void 0===t?void 0:t.middleName)+(0,o.fY)(null===t||void 0===t?void 0:t.lastName);n.length>24&&(n=(0,o.fY)(null===t||void 0===t?void 0:t.firstName)+(0,o.fY)(null===t||void 0===t?void 0:t.lastName));let r=I(null===d||void 0===d?void 0:d.totalWeight,3.7,null===d||void 0===d?void 0:d.qtyTotals,null===d||void 0===d?void 0:d.packagesCustomsFee);i.guia=d.guiaWeek,i.date=(0,o.sJ)(F),i.list.push({totalWeight:null===d||void 0===d?void 0:d.totalWeight,manifest:null===(a=d.manifest)||void 0===a?void 0:a.label,bulto:d.bulto,state:null===t||void 0===t||null===(s=t.currentLocation)||void 0===s?void 0:s.state.toUpperCase(),phoneNumber:null===t||void 0===t?void 0:t.phoneNumber,guiaWeek:d.guiaWeek,name:n,pricePP:3.7,sumC:r,qtyTotals:null===d||void 0===d?void 0:d.qtyTotals,packagesCustomsFee:null===d||void 0===d?void 0:d.packagesCustomsFee})}));let a=await(async(e,l,i)=>{const a=await n.PDFDocument.create();a.registerFontkit(r.Z);const s=await(0,c.h2)(a);let d=e.list;const t=[1].map((async(l,i)=>{const t=a.addPage(),{height:r}=t.getSize();let c=r-134,v=0;d.map(((e,l)=>{let i=c,a=u((0,o.fY)(null===e||void 0===e?void 0:e.state),s.roboto_bold,265),d=0,r=0;a>42&&(a=42,i-=6);let x=(0,o.fY)(null===e||void 0===e?void 0:e.bulto).trim(),m="SSG-"+(null===e||void 0===e?void 0:e.guiaWeek)+"-"+x;if(t.drawText((0,o.fY)(m),{x:17,y:i,size:25,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),null!==e&&void 0!==e&&e.state){const l=s.Lexend_700.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.state),22);t.drawText((0,o.fY)(null===e||void 0===e?void 0:e.state),{x:575-l,y:i,size:22,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)})}r=i-30,d+=(null===e||void 0===e?void 0:e.pricePP)*(null===e||void 0===e?void 0:e.totalWeight),t.drawText((0,o.fY)((null===e||void 0===e?void 0:e.totalWeight.toFixed(2))+"Lbs x $"+(null===e||void 0===e?void 0:e.pricePP.toFixed(2))+" =  $"+((null===e||void 0===e?void 0:e.pricePP)*(null===e||void 0===e?void 0:e.totalWeight)).toFixed(2)),{x:30,y:i-30,size:11,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),(0,o._2)(null===e||void 0===e?void 0:e.qtyTotals).map((async(l,a)=>{var r,c,v;let u="MISC"===l?"MISC":"DUR",x=(0,o.fY)(u)+""+(0,o.fY)(null===e||void 0===e||null===(r=e.qtyTotals)||void 0===r?void 0:r[l].toFixed(2))+"  = "+(0,o.fY)(null===e||void 0===e||null===(c=e.packagesCustomsFee)||void 0===c?void 0:c[l].toFixed(2));d+=null===e||void 0===e||null===(v=e.packagesCustomsFee)||void 0===v?void 0:v[l],t.drawText(x,{x:255,y:i-30,size:11,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),i-=16})),t.drawText("Balance: $"+(0,o.fY)(d.toFixed(2)),{x:445,y:r,size:11,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),v+=d,null===t||void 0===t||t.drawRectangle({x:10,y:i-29,width:590,height:.5,color:(0,n.rgb)(0,0,0)}),c=i-50})),t.drawText("Guia: "+(0,o.fY)(null===e||void 0===e?void 0:e.guia),{x:17,y:r-42,size:25,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),t.drawText("Fecha: "+(0,o.fY)(null===e||void 0===e?void 0:e.date),{x:21,y:r-72,size:13,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),t.drawText("Balance: $"+(0,o.fY)((1*v).toFixed(2)),{x:378,y:r-42,size:25,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)})}));if(await Promise.all(t),l)return v(await a.save());return a.saveAsBase64({dataUri:!0})})(i,!0);window.open(a)},children:(0,g.jsx)(b,{name:"printer",color:"var(--hrm_svg_inverse)"})})]})]}),(0,g.jsxs)("div",{className:"loading_bx",style:{marginTop:32},ref:Y,children:[(0,g.jsxs)("div",{className:"loading_animation_container",style:{marginTop:2},children:[(0,g.jsx)("div",{className:"load_animation",style:{backgroundColor:"var(--primary-blue--backg-30)"}}),(0,g.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:32},children:[(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"icon_compr _dsplFlx",children:[(0,g.jsx)("div",{className:"lbl_saving",children:"searching ..."}),(0,g.jsx)(j,{stroke:"var(--primary-blue--backg-30)",size:24,strokeW:8})]}),(0,g.jsx)("div",{className:"flexSpace"})]})]}),(0,g.jsx)("div",{className:"clients_container",children:(0,o.bh)("logistic_orders_list")&&(null===(i=(0,o._2)((0,o.bh)("logistic_orders_list")))||void 0===i?void 0:i.map((e=>(0,g.jsx)(w,{data:(0,o.bh)("logistic_orders_list")[e],elmId:e,updFetch:R},e))))})]})]})},w=e=>{var l,i;let{data:d,updFetch:t}=e;const[x,p]=(0,a.useState)(!1),[_,j]=(0,a.useState)(0),N=()=>{},y=async()=>{var e,l;let i={...null===(e=(0,o.bh)((0,o.hQ)()))||void 0===e?void 0:e.delete_logistic_order};i.params={businessId:null===(l=(0,o.bh)((0,o.nc)()))||void 0===l?void 0:l.businessId,order_lgs_Id:null===d||void 0===d?void 0:d.order_lgs_Id};const a=(0,o.I7)(i),s=await a;s&&!s.error&&t((0,o.M5)())};let w=null===d||void 0===d?void 0:d.consigneeInfo;let T=S(null===d||void 0===d?void 0:d.totalWeight);return(0,a.useEffect)((()=>{let e=I(null===d||void 0===d?void 0:d.totalWeight,T,null===d||void 0===d?void 0:d.qtyTotals,null===d||void 0===d?void 0:d.packagesCustomsFee);j(e)}),[d]),(0,g.jsxs)("div",{className:"client_item_box gWXAaj jlytmu",style:{marginBottom:9},children:[(0,g.jsxs)("div",{className:"_dsplFlx",children:[(0,g.jsx)("div",{className:"lbl_tx",children:d.date&&(0,o.sJ)(d.date)}),(0,g.jsx)("div",{className:"lbl_tx tr_bar_35 tex_aleft",style:{marginLeft:9},children:(0,o.fY)(null===w||void 0===w?void 0:w.firstName)+(0,o.fY)(null===w||void 0===w?void 0:w.middleName)+(0,o.fY)(null===w||void 0===w?void 0:w.lastName)}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"_dsplFlx tr_bar_25",children:[(0,g.jsx)("div",{className:"lbl_tx tex_alg_rght",children:null===d||void 0===d||null===(l=d.manifest)||void 0===l?void 0:l.label}),(0,g.jsx)("div",{className:"vertLine",children:"|"}),(0,g.jsx)("div",{className:"lbl_tx tex_alg_rght",children:null===d||void 0===d?void 0:d.guiaWeek}),(0,g.jsx)("div",{className:"vertLine",children:"|"}),(0,g.jsx)("div",{className:"lbl_tx tex_alg_rght",children:null===d||void 0===d?void 0:d.bulto}),(0,g.jsx)("div",{className:"vertLine",children:"|"}),(0,g.jsx)("div",{className:"lbl_tx tex_alg_rght",children:null===w||void 0===w||null===(i=w.currentLocation)||void 0===i?void 0:i.state})]}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"icon blue30 center_align",onClick:async e=>{(0,o.bh)((0,o.Ks)());let l=[];(0,o._2)(null===d||void 0===d?void 0:d.packages).map((e=>{var i,a,s;let t=null===d||void 0===d?void 0:d.packages[e],n=(0,o.fY)(null===w||void 0===w?void 0:w.firstName)+(0,o.fY)(null===w||void 0===w?void 0:w.middleName)+(0,o.fY)(null===w||void 0===w?void 0:w.lastName);n.length>24&&(n=(0,o.fY)(null===w||void 0===w?void 0:w.firstName)+(0,o.fY)(null===w||void 0===w?void 0:w.lastName)),l.push({name:n,orderId:null===d||void 0===d?void 0:d.order_lgs_Id,packageId:e,weight:t.weight,serviceType:null===(i=t.type)||void 0===i?void 0:i.id,manifest:null===(a=d.manifest)||void 0===a?void 0:a.label,bulto:d.bulto,guiaWeek:d.guiaWeek,state:null===w||void 0===w||null===(s=w.currentLocation)||void 0===s?void 0:s.state.toUpperCase(),phoneNumber:null===w||void 0===w?void 0:w.phoneNumber,altPhoneNumber:null===w||void 0===w?void 0:w.altPhoneNumber})}));let i=await(async(e,l,i)=>{const a=await n.PDFDocument.create();a.registerFontkit(r.Z);const s=await(0,c.h2)(a);console.log(s);let d=265;const t=e.map((async(e,l)=>{const i=a.addPage([284,156]),{height:t}=i.getSize();let r=t-34,c=u((0,o.fY)(null===e||void 0===e?void 0:e.state),s.roboto_bold,d);c>42&&(c=42,r-=6);let v=u((0,o.fY)(null===e||void 0===e?void 0:e.name),s.GSansItalic,d);if(null!==e&&void 0!==e&&e.state){const l=s.roboto_bold.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.state),c);i.drawText((0,o.fY)(null===e||void 0===e?void 0:e.state),{x:145-l/2,y:r,size:c,font:s.roboto_bold,color:(0,n.rgb)(0,0,0)}),r-=v}var x=s.GSansItalic.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.name),v);x>d&&(v-=1,x=s.GSansItalic.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.name),v),r-=v),i.drawText((0,o.fY)(null===e||void 0===e?void 0:e.name),{x:145-x/2,y:r,size:v,font:s.GSansItalic,color:(0,n.rgb)(0,0,0)}),v=v<24?30:v;const m=s.GSansBold.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.phoneNumber),19);i.drawText((0,o.fY)(null===e||void 0===e?void 0:e.phoneNumber),{x:279-m,y:r-v-16,size:19,font:s.GSansBold,color:(0,n.rgb)(0,0,0)});const h=s.GSansBold.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.altPhoneNumber),19);if(i.drawText((0,o.fY)(null===e||void 0===e?void 0:e.altPhoneNumber),{x:279-h,y:r-v-38,size:19,font:s.GSansBold,color:(0,n.rgb)(0,0,0)}),i.drawText((0,o.fY)(null===e||void 0===e?void 0:e.packageId),{x:16,y:25,size:26,font:s.roboto_bold,color:(0,n.rgb)(0,0,0)}),null!==e&&void 0!==e&&e.qrCode){var p;let l="https://rb.gy/culeko/#/lookup?o="+(null===e||void 0===e?void 0:e.orderId)+"&b="+(null===(p=(0,o.bh)("profileUser"))||void 0===p?void 0:p.businessId);const s=(0,o.fN)((0,o.fY)(l)),d=await fetch(s).then((e=>e.arrayBuffer()));let t=await a.embedPng(d);t&&i.drawImage(t,{x:12,y:8,width:45,height:45})}})),x=e.map((async(e,l)=>{var i,t,r;const c=a.addPage([426,284]),{height:v}=c.getSize();let x=v-34;console.log(v);const m=await fetch((0,o.bh)("SSG.png")).then((e=>e.arrayBuffer())),h=await a.embedPng(m);c&&h&&c.drawImage(h,{x:10,y:v-192,width:120,height:120});let p=u((0,o.fY)(null===e||void 0===e?void 0:e.state),s.roboto_bold,d);p>42&&(p=42,x-=6);let g=u((0,o.fY)(null===e||void 0===e?void 0:e.name),s.GSansItalic,d);var b,_=null===(i=s.GSansItalic)||void 0===i?void 0:i.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.name),g);if(_>d&&(g-=1,_=null===(b=s.GSansItalic)||void 0===b?void 0:b.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.name),g)),c.drawText((0,o.fY)(null===e||void 0===e?void 0:e.name),{x:10,y:x-0,size:g,font:s.GSansItalic,color:(0,n.rgb)(0,0,0)}),g=g<24?30:g,null!==e&&void 0!==e&&e.state){var f;const l=null===(f=s.roboto_bold)||void 0===f?void 0:f.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.state),p);c.drawText((0,o.fY)(null===e||void 0===e?void 0:e.state),{x:420-l,y:x-46,size:p,font:s.roboto_bold,color:(0,n.rgb)(0,0,0)}),x-=g}const j=null===(t=s.Lexend_700)||void 0===t?void 0:t.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.phoneNumber),37);c.drawText((0,o.fY)(null===e||void 0===e?void 0:e.phoneNumber),{x:400-j,y:x-g-30,size:37,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)});const N=null===(r=s.Lexend_700)||void 0===r?void 0:r.widthOfTextAtSize((0,o.fY)(null===e||void 0===e?void 0:e.altPhoneNumber),37);c.drawText((0,o.fY)(null===e||void 0===e?void 0:e.altPhoneNumber),{x:400-N,y:x-g-80,size:37,font:s.Lexend_700,color:(0,n.rgb)(0,0,0)}),console.log(e);let y=(0,o.fY)(null===e||void 0===e?void 0:e.bulto).trim(),w="SSG-"+(null===e||void 0===e?void 0:e.guiaWeek)+"-"+y;c.drawText((0,o.fY)(w),{x:2,y:22,size:56,font:s.GSansBold,color:(0,n.rgb)(0,0,0)})}));if(await Promise.all(t),await Promise.all(x),l)return v(await a.save());return a.saveAsBase64({dataUri:!0})})(l,!0);window.open(i)},children:(0,g.jsx)(b,{name:"printer",color:"var(--hrm_svg_inverse)"})}),(0,g.jsx)("div",{className:"icon blue30 center_align",onClick:async()=>{(0,o.Rz)("logistic_order_new",d),(0,o.Rz)("logistic_order_new_bck",JSON.parse(JSON.stringify(d)));let e={zIndex:450,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,g.jsx)(m.default,{confirm:N}),(0,s.OpenModal)(e)},children:(0,g.jsx)(b,{name:"outline_edit",color:"var(--hrm_svg_inverse)"})}),(0,g.jsx)("div",{style:{marginLeft:12},className:"icon_delete center_align",onClick:()=>{let e=(0,o.bh)("lastTimeCallModal")||0;if(Date.now()>e){(0,o.Rz)("lastTimeCallModal",Date.now()+320);let e={zIndex:450,height:"40vh",props:{minHeight:"1vh",overlay:!0,closeEvent:()=>{}}};e.content=(0,g.jsx)(f,{confirm:y,lbl_p:"Eliminar Orden",lbl_span:"Una vez eliminado no podra ser recuperado"}),(0,s.OpenModal)(e)}},children:(0,g.jsx)(b,{name:"outline_delete",color:"var(--hrm_svg_inverse)"})})]}),(0,g.jsxs)("div",{className:"_dsplFlx package_detail_box",style:{padding:16},children:[(0,g.jsx)("div",{className:"total_pck",style:{marginLeft:9},children:" "}),(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)("div",{className:"total_pck center_align",style:{marginLeft:9},children:(0,o._2)(null===d||void 0===d?void 0:d.packages).length}),(0,g.jsx)("div",{className:"icon blue30 center_align",style:{margin:"0 6px 0"},children:(0,g.jsx)(b,{name:"open_package_file_outline",color:"var(--hrm_svg_inverse)"})}),(0,g.jsx)("div",{className:"lbl_tx center_align",style:{marginLeft:2},children:"bultos"})]}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:" tr_bar_30",style:{padding:6},children:[(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsxs)("div",{className:"icon blue30 ",style:{marginRight:12},children:[(0,g.jsx)(b,{name:"weight-pound",color:"var(--hrm_svg_inverse)"}),(0,g.jsxs)("div",{className:"lbl_tx ",style:{marginLeft:6},children:[null===d||void 0===d?void 0:d.totalWeight," Lbs"]})]}),"X",(0,g.jsxs)("div",{className:"lbl_tx  ",style:{marginLeft:6,textAlign:"right"},children:["$ ",(0,o.hl)(T,2).toFixed(2)]}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"lbl_tx  ",style:{marginLeft:6,textAlign:"right"},children:["$ ",(0,o.hl)((null===d||void 0===d?void 0:d.totalWeight)*T,2).toFixed(2)]})]}),(null===d||void 0===d?void 0:d.qtyTotals)&&(0,o._2)(null===d||void 0===d?void 0:d.qtyTotals).map(((e,l)=>{var i;return(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)("div",{className:"icon blue30 ",style:{marginRight:12},children:(0,g.jsx)("div",{className:"lbl_tx ",style:{marginLeft:6},children:e})}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"lbl_tx  ",style:{marginLeft:6,textAlign:"right"},children:["$ ",(0,o.hl)(null===d||void 0===d||null===(i=d.packagesCustomsFee)||void 0===i?void 0:i[e],2).toFixed(2)]})]})})),(0,g.jsx)("div",{className:"separator_s"}),(0,g.jsxs)("div",{className:"_dsplFlx ",children:[(0,g.jsx)("div",{className:"icon blue30 ",style:{marginRight:12},children:(0,g.jsx)("div",{className:"lbl_tx ",style:{marginLeft:6},children:"Total"})}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"lbl_tx  ",style:{marginLeft:6,textAlign:"right"},children:["$",_.toFixed(2)]})]})]}),(0,g.jsx)("div",{className:"flexSpace"})]},"package_"),(0,g.jsx)("div",{style:{padding:"12px 0"},children:(0,g.jsx)(h.default,{children:(0,g.jsx)(k,{item:d,priceXW:T})})})]})},k=e=>{let{item:l,show:i,priceXW:a}=e;return(0,g.jsxs)("div",{className:" content_show show",style:{padding:12},children:[(0,g.jsx)("div",{style:{paddingTop:20}}),(null===l||void 0===l?void 0:l.packages)&&(0,o._2)(null===l||void 0===l?void 0:l.packages).map(((e,i)=>{var s,d,t,n,r,c,v,u,x;let m=(1*(null===l||void 0===l||null===(s=l.packages)||void 0===s||null===(d=s[e])||void 0===d?void 0:d.weight)).toFixed(2);null===l||void 0===l||null===(t=l.packagesCustomsFee)||void 0===t||t[e];return(0,g.jsxs)("div",{className:"_dsplFlx package_detail_box center_align ".concat(i%2===0?"shadowTr":""),style:{padding:6},children:[(0,g.jsx)("div",{className:"total_pck",style:{marginLeft:9},children:i+1}),(0,g.jsx)("div",{className:"icon blue30",children:(0,g.jsx)(b,{name:"open_package_file_outline",color:"var(--hrm_svg_inverse)"})}),(0,g.jsx)("div",{className:"lbl_tx tr_bar_5 tex_aleft",children:e}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsxs)("div",{className:"icon blue30 tr_bar_15",style:{marginRight:12},children:[(0,g.jsx)(b,{name:"weight-pound",color:"var(--hrm_svg_inverse)"}),(0,g.jsxs)("div",{className:"lbl_tx ",style:{marginLeft:6},children:[m," Lbs"]})]}),(0,g.jsx)("div",{className:"_dsplFlx tr_bar_15",style:{padding:6},children:(0,g.jsxs)("div",{className:"lbl_tx  ",style:{marginLeft:6,textAlign:"right"},children:["$ ",(0,o.hl)(m*a,2).toFixed(2)]})}),(0,g.jsx)("div",{className:"flexSpace"}),(0,g.jsx)("div",{className:"lbl_tx tr_bar_20 tex_aleft center_align",style:{marginLeft:2},onClick:()=>{var i,a,s,d;return d=null===l||void 0===l||null===(i=l.packages)||void 0===i||null===(a=i[e])||void 0===a||null===(s=a.type)||void 0===s?void 0:s.label,void(0,o.vQ)(d.toUpperCase())},children:null===l||void 0===l||null===(n=l.packages)||void 0===n||null===(r=n[e])||void 0===r||null===(c=r.type)||void 0===c?void 0:c.label}),(0,g.jsx)("div",{className:"lbl_tx tr_bar_5 tex_aleft center_align",style:{marginLeft:2},children:null===l||void 0===l||null===(v=l.packages)||void 0===v||null===(u=v[e])||void 0===u||null===(x=u.type)||void 0===x?void 0:x.group})]},"package_"+e)})),(0,g.jsx)("div",{})]})},S=e=>e>49?4:e>19?4.5:e>9?6.5:0,I=(e,l,i,a)=>{let s=0;return s+=(0,o.hl)(e*l,2),i&&(0,o._2)(i).map(((e,l)=>{s+=(0,o.hl)(null===a||void 0===a?void 0:a[e],2)})),s}},3922:(e,l,i)=>{i.r(l),i.d(l,{default:()=>g});var a=i(2791),s=i(9760),d=i(2647),o=i(2350),t=i(1439),n=i(4327),r=i(2539),c=i(5232),v=i(184);const u=(0,d.Np)(),x=(0,n.QO)(),m=(0,d.A5)(),h=(0,d.PU)(),p=(0,d.tW)();const g=e=>{var l,i,d,n,g,N,y,w,k,S,I,T,F;let{data:C,confirm:Y}=e,L=["consigneeId","bulto","guiaWeek","manifest","packages"];const z="logistic_order_new",[R,A]=(0,a.useState)(!1),[D,U]=(0,a.useState)(0),[W,O]=(0,a.useState)(1),P=()=>{O((0,o.M5)())};let E=(0,o.bh)((0,o.Ks)());(0,a.useEffect)((()=>{if(!R)return A(!0),O((0,o.M5)()),()=>{}}));const B=(e,l)=>{let i=(0,o.bh)(z)||{};i[e]=l,(0,o.Rz)(z,i),O((0,o.M5)())},G=async()=>{let e=(0,o.bh)(z);e.senderId=E.clientNotaryId;let l={};if(e.order_lgs_Id){var i,a,s;let d=(0,o.vy)(L,(0,o.bh)(z),(0,o.bh)(z+"_bck"));l={...null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.upd_logistic_order},l.params={businessId:null===(a=(0,o.bh)("profileUser"))||void 0===a?void 0:a.businessId,customerId:null===(s=(0,o.bh)((0,o.Ks)()))||void 0===s?void 0:s.clientNotaryId,order_lgs_Id:e.order_lgs_Id},l.data2update=d.data}else{var d,t,n;e.order_lgs_Id=(0,o.M5)(),e.guiaWeek||(e.guiaWeek=33),e.date?e.date=new Date(e.date).getTime():e.date=(new Date).getTime()+800,l={...null===(d=(0,o.bh)((0,o.hQ)()))||void 0===d?void 0:d.add_logistic_order},l.params={businessId:null===(t=(0,o.bh)("profileUser"))||void 0===t?void 0:t.businessId,customerId:null===(n=(0,o.bh)((0,o.Ks)()))||void 0===n?void 0:n.clientNotaryId},l.form=e}M(l)},M=async e=>{const l=(0,o.I7)(e),i=await l;console.log(e),console.log(i),i&&!i.error&&((0,o.Rz)(z,null),H())},H=()=>{(null===C||void 0===C?void 0:C.modalID)&&(0,s.CloseModal)({id:null===C||void 0===C?void 0:C.modalID})};let V=(0,o.vy)(L,(0,o.bh)(z),(0,o.bh)(z+"_bck")),K=null===(l=(0,o.bh)(z))||void 0===l?void 0:l.consigneeId,q=null===(i=(0,o.bh)("beneficiaries_ids"))||void 0===i?void 0:i[K];const Q=e=>{U(!0);let l={...(0,o.bh)(z)};l.packages||(l.packages={}),delete l.packages[e],(0,o.Rz)(z,l),setTimeout((()=>{U(!1)}),200)},$=e=>{B("consigneeId",e.id),(0,o.Rz)("beneficiaries_ids",{[e.id]:e.data}),P()},J=async(e,l,i)=>{let a="funcname=insertRecord&option=".concat(e,"&params=").concat(l),s={query:"querySolveGlobal"};s.params={query:a};const d=(0,o.I7)(s),t=await d;if(t&&!t.error)if(X(i,{ygeShipperId:t}),"shipper"===e){await(0,c.uB)(i);P()}else $({})},X=async(e,l)=>{var i;let a={...null===(i=(0,o.bh)((0,o.hQ)()))||void 0===i?void 0:i.upd_notary};a.params={clientNotaryId:e},a.data2update=l;const s=(0,o.I7)(a),d=await s;if(d&&!d.error)return d};return(0,v.jsxs)("div",{className:"order_pack",style:{height:"90vh",width:"89vw",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("p",{className:"form_title",children:"Nueva Orden"}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{style:{margin:"16px 16px 0 0"},children:(0,v.jsx)(t.N,{color:"#007bfc",label:"Save",clickHandler:G})})]}),(0,v.jsxs)("div",{children:[(0,v.jsx)("div",{className:"lbl_h23",style:{textAlign:"left",padding:6},children:"Envia:"}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)(r.NV,{label:"Nombre: ",value:(0,o.fY)(null===E||void 0===E?void 0:E.firstName)+(0,o.fY)(null===E||void 0===E?void 0:E.middleName)+(0,o.fY)(null===E||void 0===E?void 0:E.lastName)}),(0,v.jsx)(b,{ygeShipperId:null===E||void 0===E?void 0:E.ygeShipperId,cId:null===E||void 0===E?void 0:E.clientNotaryId,link:()=>(async e=>{let l=(null===e||void 0===e?void 0:e.firstName)+(0,o.fY)(null===e||void 0===e?void 0:e.middleName)+(0,o.fY)(null===e||void 0===e?void 0:e.lastName),i="".concat(j(null===e||void 0===e?void 0:e.ygeShipperId),";").concat(j(l),";;N/A;").concat(j(null===e||void 0===e?void 0:e.phoneNumber),";").concat((0,o.hh)(null===e||void 0===e?void 0:e.dob),";CUB;;;42");console.log("shipper",i),J("shipper",i,e.clientNotaryId)})(E),saveItm:X})]})]}),(0,v.jsx)("div",{className:"separator"}),(0,v.jsxs)("div",{children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"lbl_h23",style:{textAlign:"left",padding:6},children:"Recibe:"}),(0,v.jsx)("div",{style:{padding:"10px 10px 0 10px",cursor:"pointer"},onClick:()=>$({}),children:(0,v.jsx)(h,{name:"reload",color:"var(--partial-success)"})})]}),null!==q&&void 0!==q&&q.firstName?(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)(r.NV,{label:"Nombre: ",value:(0,o.fY)(null===q||void 0===q?void 0:q.firstName)+(0,o.fY)(null===q||void 0===q?void 0:q.middleName)+(0,o.fY)(null===q||void 0===q?void 0:q.lastName)}),(0,v.jsx)(b,{ygeShipperId:null===q||void 0===q?void 0:q.ygeShipperId,cId:null===q||void 0===q?void 0:q.clientNotaryId,link:()=>(async e=>{var l,i,a;console.log(e);let s=null===(l=e.residences)||void 0===l?void 0:l[e.currentAddress],d="".concat(j(null===e||void 0===e?void 0:e.ygeShipperId),";").concat(j(null===e||void 0===e?void 0:e.firstName),";").concat(j(null===e||void 0===e?void 0:e.middleName),";").concat(j(null===e||void 0===e||null===(i=e.lastName.split(" "))||void 0===i?void 0:i[0]),";").concat(j(null===e||void 0===e||null===(a=e.lastName.split(" "))||void 0===a?void 0:a[1]),";N/A;").concat(j(null===e||void 0===e?void 0:e.carnetCuba),";CUB;").concat(j(null===e||void 0===e?void 0:e.phoneNumber),";").concat(j(null===e||void 0===e?void 0:e.altPhoneNumber),";").concat(j(null===s||void 0===s?void 0:s.addressStreet),";").concat(j(null===s||void 0===s?void 0:s.addressNo),";").concat(j(null===s||void 0===s?void 0:s.betwen1),";").concat(j(null===s||void 0===s?void 0:s.betwen2),";").concat(j(null===s||void 0===s?void 0:s.rpto),";;129;12;").concat(j(null===e||void 0===e?void 0:e.email),";;42");console.log("consignee",d,e.clientNotaryId),J("consignee",d,e.clientNotaryId)})(q),saveItm:X})]}),(0,v.jsx)(r.NV,{label:"Telefono: ",value:null===q||void 0===q?void 0:q.phoneNumber}),(0,v.jsx)(r.NV,{label:"Carnet: ",value:null===q||void 0===q?void 0:q.carnetCuba}),(0,v.jsx)(r.NV,{label:"Ciudad: ",value:null===q||void 0===q||null===(d=q.currentLocation)||void 0===d?void 0:d.city}),(0,v.jsx)(r.NV,{label:"Provincia: ",value:null===q||void 0===q||null===(n=q.currentLocation)||void 0===n?void 0:n.state}),(0,v.jsx)(r.NV,{label:"Pais: ",value:null===q||void 0===q||null===(g=q.currentLocation)||void 0===g?void 0:g.country})]}):(0,v.jsx)("div",{className:"_dsplFlx ",children:(0,v.jsx)(x,{onSelect:$,exFlds:["ygeShipperId","carnetCuba","currentLocation","currentAddress","residences","altPhoneNumber"]})})]}),(0,v.jsx)("div",{className:"separator"}),(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{style:{marginTop:32,minWidth:290},children:(0,v.jsx)(m,{init:null===(N=(0,o.bh)(z))||void 0===N||null===(y=N.manifest)||void 0===y?void 0:y.id,lbl_empty:(null===(w=(0,o.bh)(z))||void 0===w||null===(k=w.manifest)||void 0===k?void 0:k.label)||"Manifiesto",list:[{label:"AVOCC",id:"102"},{label:"AVCENT",id:"103"},{label:"AVORT",id:"104"},{label:"AVISLA",id:"117"}],onSelect:e=>B("manifest",e),background:"var(--dark-900)",color:"var(--light-200)",width:"300px"})}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)(u,{init:null===(S=(0,o.bh)(z))||void 0===S?void 0:S.bulto,label:"Bulto",width:160,updChanges:e=>B("bulto",e)}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)(u,{init:null===(I=(0,o.bh)(z))||void 0===I?void 0:I.guiaWeek,label:"Guia",width:160,updChanges:e=>B("guiaWeek",e)}),(0,v.jsx)("div",{className:"flexSpace"})]}),D?(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10,height:75,maxWidth:140},children:[(0,v.jsx)("div",{className:"lbl_saving ",children:"Addding ..."}),(0,v.jsx)(p,{stroke:"var(--primary-blue--backg-30)",size:24,strokeW:8})]}),(0,v.jsx)("div",{className:"flexSpace"})]}):(0,v.jsx)("div",{style:{marginBottom:32},children:(0,v.jsx)(f,{addBulto:(e,l)=>{U(!0);let i={...(0,o.bh)(z)};i.packages||(i.packages={}),i.packages[e]=l,(0,o.Rz)(z,i),setTimeout((()=>{U(!1)}),200)}})}),(0,v.jsxs)("div",{className:"_dsplFlx hdr_bar blue30",children:[(0,v.jsx)("div",{className:"tr_bar_10",children:"Id"}),(0,v.jsx)("div",{className:"tr_bar_40",children:"Tipo de Bulto"}),(0,v.jsx)("div",{className:"tr_bar_15",children:"Grupo"}),(0,v.jsx)("div",{className:"tr_bar_15",children:"Peso (Lb)"}),(0,v.jsx)("div",{className:"tr_bar_15"}),(0,v.jsx)("div",{className:"tr_bar_5"})]}),(null===(T=(0,o.bh)(z))||void 0===T?void 0:T.packages)&&(0,o._2)(null===(F=(0,o.bh)(z))||void 0===F?void 0:F.packages).map((e=>{var l,i;let a=null===(l=(0,o.bh)(z))||void 0===l||null===(i=l.packages)||void 0===i?void 0:i[e];return(0,v.jsx)(_,{pckItm:a,remove:Q})})),(0,v.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:null!==V&&void 0!==V&&V.hasChange?(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{className:"card",children:(0,v.jsx)(t.N,{color:"#007bfc",label:"Actualizar",clickHandler:G})})]}):(0,v.jsx)("div",{className:"card"})})]})},b=e=>{let{cId:l,ygeShipperId:i,link:s,saveItm:d}=e;const[o,t]=(0,a.useState)(!1),[n,r]=(0,a.useState)(0);(0,a.useEffect)((()=>{t(i)}),[i]);const c=async()=>{r(0)};return(0,v.jsx)("div",{className:"_dsplFlx ",children:n?(0,v.jsxs)("div",{className:"_dsplFlx ",children:[(0,v.jsx)(u,{init:o,width:160,updChanges:t}),(0,v.jsx)("div",{style:{padding:"10px 10px 0 10px",cursor:"pointer"},onClick:async()=>{await d(l,{ygeShipperId:o});c()},children:(0,v.jsx)(h,{name:"save",color:"var(--success-light)"})}),(0,v.jsx)("div",{style:{padding:"10px 0 0 10px",cursor:"pointer"},onClick:c,children:(0,v.jsx)(h,{name:"cancel",color:"var(--danger)"})}),(0,v.jsx)("div",{style:{padding:"10px 10px 0 10px",cursor:"pointer"},onClick:s,children:(0,v.jsx)(h,{name:"link",color:"var(--partial-success)"})})]}):(0,v.jsx)("div",{style:{padding:"10px 10px 0 0",cursor:"pointer"},onClick:r,children:(0,v.jsx)(h,{name:i?"success":"cancel",color:i?"var(--success-light)":"var(--danger)"})})})},_=e=>{var l,i,a;let{pckItm:s,remove:d}=e;return(0,v.jsxs)("div",{className:"_dsplFlx hdr_bar",children:[(0,v.jsx)("div",{className:"tr_bar_10",children:null===s||void 0===s?void 0:s.packageId}),(0,v.jsx)("div",{className:"tr_bar_40",children:null===s||void 0===s||null===(l=s.type)||void 0===l?void 0:l.label}),(0,v.jsx)("div",{className:"tr_bar_15",children:null===s||void 0===s||null===(i=s.type)||void 0===i?void 0:i.group}),(0,v.jsx)("div",{className:"tr_bar_15",children:null===(a=(0,o.hl)(null===s||void 0===s?void 0:s.weight,2))||void 0===a?void 0:a.toFixed(2)}),(0,v.jsx)("div",{className:"tr_bar_15"}),(0,v.jsx)("div",{className:"tr_bar_5",children:(0,v.jsx)("div",{onClick:()=>{d(null===s||void 0===s?void 0:s.packageId)},className:"icon_delete",children:(0,v.jsx)(h,{name:"outline_delete",color:"var(--light-300)"})})})]})},f=e=>{let{addBulto:l}=e;const[i,s]=(0,a.useState)(0),[d,n]=(0,a.useState)({}),[r,c]=(0,a.useState)({});return(0,v.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp",style:{margin:"10px 0px 20px 0"},children:[(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{style:{marginTop:32,minWidth:380},children:(0,v.jsx)(m,{init:null===r||void 0===r?void 0:r.id,lbl_empty:(null===r||void 0===r?void 0:r.label)||"Tipo de Mercancias",list:[{label:"Miscelaneas",id:"MISC",group:"MISC"},{label:"Herramientas",id:"Herramientas",group:"DUR"},{label:"Herramienta Electrica",id:"Herramienta Electrica",group:"DUR"},{label:"Utiles del Hogar",id:"Utiles del Hogar",group:"DUR"},{label:"Lavadora",id:"Lavadora",group:"DUR"},{label:"Bicicletas",id:"Bicicletas",group:"DUR"},{label:"Freidora",id:"Freidora",group:"DUR"},{label:"Olla",id:"Olla",group:"DUR"},{label:"Cafetera",id:"Cafetera",group:"DUR"},{label:"Juego Sartenes",id:"Juego Sartenes",group:"DUR"},{label:"Hornilla Electrica",id:"Hornilla Electrica",group:"DUR"},{label:"Microwave",id:"Microwave",group:"DUR"},{label:"Raton Computadora",id:"Raton Computadora",group:"DUR"},{label:"Teclado",id:"Teclado",group:"DUR"},{label:"Disco Duro (HDD)",id:"Disco Duro (HDD)",group:"DUR"},{label:"Tarjeta de Video",id:"Tarjeta de Video",group:"DUR"},{label:"Computadora",id:"Computadora",group:"DUR"},{label:"TV",id:"TV",group:"TV"}],onSelect:c,background:"var(--dark-900)",color:"var(--light-200)",width:"320px"})}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)(u,{init:i,label:"Peso del Bulto",width:160,updChanges:s}),(0,v.jsx)("div",{className:"flexSpace"}),(0,v.jsx)("div",{style:{margin:"32px 0px 0 0"},children:(0,v.jsx)(t.N,{color:"#007bfc",label:"Agregar Bulto",clickHandler:()=>{let e=(0,o.LO)();l(e,{weight:i,manifest:d,packageId:e,type:r})}})}),(0,v.jsx)("div",{className:"flexSpace"})]})},j=e=>e?e.toString().toUpperCase().trim():""},2539:(e,l,i)=>{i.d(l,{Fm:()=>u,NV:()=>x,SO:()=>v,he:()=>m,pl:()=>r});var a=i(2791),s=i(2647),d=i(2350),o=i(184);const t=(0,s.Np)(),n=((0,s.tW)(),(0,s.PU)()),r=e=>{let{image:l,dmz:i}=e,a=i||(0,d.bh)("preview_dmz"),{KEY_VALUE_SET:s,WORD:t,LINE:n}=h((0,d.bh)("image_text"));return(0,o.jsxs)("svg",{id:"ssg_business_card_front",xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",viewBox:"0 0 ".concat(null===a||void 0===a?void 0:a.w," ").concat(null===a||void 0===a?void 0:a.h),preserveAspectRatio:"xMidYMid meet",children:[(0,o.jsx)("style",{type:"text/css",children:'@font-face {\n\t\t\t\tfont-family: "Google Sans";\n\t\t\t\tsrc: url(http://fonts.gstatic.com/s/googlesans/v14/4UabrENHsxJlGDuGo1OIlLU94YtzCwY.woff2)\n\n\t\t\t}'}),(0,o.jsx)("rect",{width:null===a||void 0===a?void 0:a.w,height:null===a||void 0===a?void 0:a.h,fill:"#ffffff"}),(0,o.jsx)("image",{width:null===a||void 0===a?void 0:a.w,height:null===a||void 0===a?void 0:a.h,x:0,y:0,xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:l}),null===s||void 0===s?void 0:s.map(((e,l)=>(0,o.jsx)(c,{idKey:l+"_tann",item:e,index:l},l+"_tann"))),null===n||void 0===n?void 0:n.map(((e,l)=>(0,o.jsx)(c,{idKey:l+"_tann",item:e,index:l},l+"_tann")))]})},c=e=>{let{item:l,index:i,idKey:a}=e;const{Text:s,Geometry:t,boundingPoly:n,BlockType:r,Id:c}=l;let v="transparent";if("PAGE"===r)return null;var u;("LINE"===r&&(v="rgba(168, 199, 250,1)"),"KEY_VALUE_SET"===r)&&(v="KEY"===(null===l||void 0===l||null===(u=l.EntityTypes)||void 0===u?void 0:u[0])?"#BB021E":"#8110F1");if("WORD"===r)return null;"WORD"===r&&(v="#646cff",v="#8b949e");let x=null===n||void 0===n?void 0:n.vertices,m=s,h=t.BoundingBox,p=(0,d.bh)("preview_dmz"),g=(null===h||void 0===h?void 0:h.Height)*p.h,b=(null===h||void 0===h?void 0:h.Width)*p.w,_=(null===h||void 0===h?void 0:h.Left)*p.w,f=(null===h||void 0===h?void 0:h.Top)*p.h;return 0===i||null===x||void 0===x||x[1],(0,o.jsxs)(o.Fragment,{children:[null,(0,o.jsx)("rect",{onClick:e=>{e.stopPropagation(),e.preventDefault(),(0,d.vQ)(m)},onContextMenu:e=>{e.stopPropagation(),e.preventDefault()},width:b,height:g,fill:v,fillOpacity:"50%",x:_,y:f})]})},v=e=>{var l;let{title:i,keyfld:s,updObs:r,frmNm:c}=e;const[v,u]=(0,a.useState)(!1),[x,m]=(0,a.useState)(1),h=()=>{r&&r(),u(!1)};let p=null===(l=(0,d.bh)(c))||void 0===l?void 0:l[s];return(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:v?8:1},children:i}),v?(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(t,{init:p,width:240,updChanges:e=>((e,l)=>{let i=(0,d.bh)(c)||{};i[e]=l,(0,d.Rz)(c,i),m((0,d.M5)())})(s,e),onEnter:h})}),(0,o.jsx)("div",{className:"icon_image ",onClick:h,children:(0,o.jsx)(n,{name:"success",color:"var(--success)"})})]}):(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>u(!0),children:p||"click to type"})]})},u=e=>{var l,i;let{title:s,keyfld:r,updObs:c,frmNm:v}=e;const[u,x]=(0,a.useState)(!1),[m,h]=(0,a.useState)(1),[p,g]=(0,a.useState)(""),b=()=>{((e,l)=>{let i=(0,d.bh)(v)||{},a=new Date(l).getTime();i[e]=a,(0,d.Rz)(v,i),h((0,d.M5)())})(r,p),c&&c(),x(!1)};let _=null===(l=(0,d.bh)(v))||void 0===l?void 0:l[r],f=p||(0,d.sJ)(null===(i=(0,d.bh)(v))||void 0===i?void 0:i[r])||"";return(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",style:{marginTop:u?8:1},children:s}),u?(0,o.jsxs)("div",{className:"_dsplFlx",children:[(0,o.jsx)("div",{className:"lbl_dtls",children:(0,o.jsx)(t,{init:f,width:240,updChanges:g,onEnter:b})}),(0,o.jsx)("div",{className:"icon_image ",onClick:b,children:(0,o.jsx)(n,{name:"success",color:"var(--success)"})})]}):(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>x(!0),children:(0,d.sG)(_)||"click to type"})]})},x=e=>{let{label:l,value:i}=e;return i?"object"===typeof i?null:(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",children:l}),(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>{return e=i,void(0,d.vQ)(null===e||void 0===e?void 0:e.trim());var e},children:i})]}):null},m=e=>{let{label:l,value:i}=e;return i?"object"===typeof i?null:(0,o.jsxs)("div",{className:"_dsplFlx dtls",children:[(0,o.jsx)("div",{className:"lbl_h_dtls",children:l}),(0,o.jsx)("div",{className:"lbl_dtls",onClick:()=>{return e=i,void(0,d.vQ)(null===e||void 0===e?void 0:e.trim());var e},children:"*******"})]}):null},h=e=>{let l=[],i=[],a=[];return null===e||void 0===e||e.map((e=>{let{BlockType:s}=e;"WORD"===s&&i.push(e),"LINE"===s&&a.push(e),"KEY_VALUE_SET"===s&&l.push(e)})),{KEY_VALUE_SET:l,WORD:i,LINE:a}}},8965:(e,l,i)=>{i.d(l,{g:()=>s});var a=i(2791);i(184);const s=(e,l,i)=>{const[,s]=(0,a.useState)(e);return(0,a.useRef)(new Proxy({value:e},{get:function(e,l){if(e[l])return e[l]},set:function(e,a,d){return e[a]!==d&&(e[a]=d,l&&l(e[a]),null!==i&&void 0!==i&&i.deep&&s({...e})),!0}})).current}},4629:()=>{}}]);
//# sourceMappingURL=5601.478aa7c6.chunk.js.map