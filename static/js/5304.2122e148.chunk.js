"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[5304],{5304:(e,a,t)=>{t.r(a),t.d(a,{default:()=>m});var n=t(2791),l=t(2350),s=t(2647),r=(t(2004),t(9760)),i=t(5408),c=t(184);const d=(0,s.PU)(),o=((0,s.YZ)(),(0,s.Np)()),u=e=>{let{onConfirm:a,onCancel:t,init:s,last:r,isRange:i}=e;const[o,u]=(0,n.useState)(!1),[m,_]=(0,n.useState)(1),v=(0,n.useRef)(""),g=(0,n.useRef)(!1),j=(0,n.useRef)(s),p=(0,n.useRef)(r);(0,n.useEffect)((()=>(s&&(v.current.redrawCalendar(s),y(s)),()=>{})),[s]);const y=e=>{i&&g.current&&e>j.current?(g.current=!1,p.current=e):(j.current=e,g.current=!0,p.current=null),_((0,l.M5)())};return(0,c.jsxs)("div",{className:"dateBox darkmode",children:[(0,c.jsx)("div",{className:"date_header_box",children:(0,c.jsx)("div",{className:"date_header_title",children:i?"Select Ranges":"Escojer Dia"})}),o?(0,c.jsx)(h,{init:j.current,confirm:e=>{let a=new Date(e).getTime();u(!1),y(a),v.current.redrawCalendar(a)},close:()=>u(!1)}):(0,c.jsxs)("div",{className:"_dsplFlx date_calendar_header txt_alg_center",children:[(0,c.jsx)("div",{className:"date_range_title",children:j.current?(0,l.kj)(j.current):"Start Date"}),i?(0,c.jsx)("div",{className:"date_range_space_title",children:" - "}):null,i?(0,c.jsx)("div",{className:"date_range_title",children:p.current?(0,l.kj)(p.current):"End Date"}):null,(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{className:"icon_cal",onClick:()=>u(!0),children:(0,c.jsx)(d,{name:"outline_edit",color:"var(--light-200)",size:18})})]}),(0,c.jsx)(x,{ref:v,onChangeDate:y,init:j.current,last:p.current,isRange:i}),(0,c.jsxs)("div",{className:"_dsplFlx calendar_action_group",children:[(0,c.jsx)("div",{className:"flexSpace"}),(0,c.jsx)("div",{onClick:()=>{t()},size:40,className:"_dsplFlx",children:(0,c.jsx)("div",{className:"btn_cal_cancel",children:"Cancel"})}),(0,c.jsx)("div",{onClick:()=>{(i&&j.current&&p.current||j.current)&&a({initDate:j.current,lastDate:p.current})},children:(0,c.jsx)("div",{className:"_dsplFlx",style:{marginLeft:16,marginRight:8},children:(0,c.jsx)("div",{className:"btn_cal_confirm",children:"OK"})})})]})]})},m=e=>{let{data:a,onConfirm:t,initValue:n,init:l,last:s,isRange:d,appoitmentType:o}=e;(0,i.Z)("fb_upd_changes");return(0,c.jsx)(u,{onConfirm:e=>{null===t||void 0===t||t(e),a.modalID&&(0,r.CloseModal)({id:a.modalID})},onCancel:()=>{a.modalID&&(0,r.CloseModal)({id:a.modalID})},initValue:n,init:l,last:s,isRange:d})},h=e=>{let{init:a,confirm:t,close:s}=e;const[r,i]=(0,n.useState)("");let u=a||(new Date).getTime(),m=u?(0,l.sJ)(u):"";return(0,c.jsxs)("div",{className:"_dsplFlx typing_view txt_alg_center",children:[(0,c.jsx)("div",{className:"lbl_dtls",children:(0,c.jsx)(o,{init:r||m,width:240,updChanges:i,onEnter:()=>t(r),onEscape:s})}),(0,c.jsx)("div",{className:"icon_cal",onClick:()=>t(r),children:(0,c.jsx)(d,{name:"send",color:"var(--primary-light)"})}),(0,c.jsx)("div",{className:"icon_cal",onClick:s,children:(0,c.jsx)(d,{name:"cancel",color:"var(--light-300)"})})]})},x=(0,n.forwardRef)(((e,a)=>{let{init:t,last:s,onChangeDate:r,isRange:i,appoitmentType:o}=e;const u=(0,n.useRef)((new Date).getFullYear()),m=(0,n.useRef)((new Date).getMonth()),h=u.current,x=m.current,[_,g]=(0,n.useState)([]),[j,y]=(0,n.useState)(!1),[f,N]=(0,n.useState)(1);(0,n.useEffect)((()=>(g((0,l.ul)(x,h)),setTimeout((()=>{N((0,l.M5)())}),350),()=>{})),[x,h]);let w=l.f2.es[x+1];(0,n.useImperativeHandle)(a,(()=>({redrawCalendar(e){let a=new Date(e),t=a.getMonth(),n=a.getFullYear();u.current=n,m.current=t,N((0,l.M5)())}})));const C=e=>{if(x+e>11||x+e<0){let a=x+e>11?0:x+e<0?11:x+e,t=x+e>11?h+1:x+e<0?h-1:h;u.current=t,m.current=a,N((0,l.M5)())}else m.current=x+e,N((0,l.M5)())};let D=o&&h===(new Date).getFullYear()&&x<=(new Date).getMonth();return(0,c.jsxs)("div",{style:{marginLeft:4},children:[(0,c.jsxs)("div",{className:"_dsplFlx date_calendar_header",children:[(0,c.jsx)("div",{onClick:()=>y(!j),size:40,children:(0,c.jsxs)("div",{className:"_dsplFlx",style:{padding:8},children:[(0,c.jsx)("div",{className:"date_calendar_header_yearmonth",children:w}),(0,c.jsx)("div",{className:"date_calendar_header_yearmonth",children:h}),(0,c.jsx)("div",{style:{paddingHorizontal:2},children:(0,c.jsx)(d,{name:"arrow_drop_down",size:24,color:"var(--light-300)"})})]})}),(0,c.jsx)("div",{className:"flexSpace"}),!j&&(0,c.jsx)("div",{className:"_dsplFlx ".concat(D?"disabled":""),children:(0,c.jsx)("div",{style:{borderRadius:50},children:(0,c.jsx)("div",{style:{padding:"0 2px",marginRight:12},onClick:e=>{D||C(-1)},children:(0,c.jsx)(d,{name:"arrow_left",size:24,color:"var(--light-200)"})})})}),j?null:(0,c.jsx)("div",{className:"_dsplFlx",children:(0,c.jsx)("div",{style:{borderRadius:50},children:(0,c.jsx)("div",{style:{padding:"0 2px"},onClick:()=>C(1),children:(0,c.jsx)(d,{name:"arrow_right",size:24,color:"var(--light-200)"})})})})]}),j?(0,c.jsx)(p,{year:h,onChange:e=>{u.current=e,y(!1)}}):(0,c.jsx)(v,{year:h,month:x,calendarData:_,onChange:e=>{const a=e&&new Date(h,x,e).getTime();a&&r(a)},init:t,last:s,range:i,appoitmentType:o})]})})),_=864e5,v=e=>{let{year:a,month:t,calendarData:n,onChange:s,init:r,last:i,range:d,appoitmentType:o}=e,u=Math.floor(r/_),m=Math.floor(i/_),h=new Date((new Date).getFullYear(),(new Date).getMonth(),(new Date).getDate());return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("div",{className:"_dsplFlx date_calendar_week_title",children:l.$l.en.map(((e,a)=>(0,c.jsx)("div",{className:"date_calendar_week_title_day",children:e},e+"_"+a)))}),(0,c.jsx)("div",{style:{minHeight:293},children:n.map(((e,n)=>(0,c.jsx)(g,{year:a,month:t,week:e,appoitmentType:o,todayTime:h,initSum:u,lastSum:m,range:d,keyId:"mnt_"+t+"week_"+n,onChange:s},"mnt_"+t+"week_"+n)))})]})},g=e=>{let{keyId:a,week:t,year:s,month:r,appoitmentType:i,todayTime:d,initSum:o,lastSum:u,range:m,onChange:h}=e;const x=(0,n.useRef)(null);return(0,n.useEffect)((()=>(setTimeout((()=>{var e;null===x||void 0===x||null===(e=x.current)||void 0===e||e.setAttribute("show",!0)}),50),()=>{var e;null===x||void 0===x||null===(e=x.current)||void 0===e||e.removeAttribute("show")})),[]),(0,c.jsx)("div",{ref:x,className:"_dsplFlx transitionOpacity",children:t.map(((e,t)=>{let n=e.day,x=new Date(s,r,n),v=i&&d>x,g=Math.floor(x/_),p=n&&g>o&&g<u,y=n&&g===o,f=n&&g===u,N=e.isToday;return(0,c.jsx)(j,{keyId:t+"_day_"+a,handleChangeDay:e=>{v||((0,l.Rz)("isTodayPickApp",N),h(e))},classNm:" day_wrp ".concat(n?"":" empty_day"," ").concat(v?" disable_day":"").concat(m?" range":"").concat(N?" isToday":"").concat(n&&f?" lastActiveDay":"").concat(n&&y?" firstActiveDay":"").concat(p?" isSelected":""),day:n},t+"_day_"+a)}))})},j=e=>{let{classNm:a,day:t,handleChangeDay:n}=e;return(0,c.jsx)("div",{className:a,children:(0,c.jsx)("div",{className:"day_cal ",onClick:()=>n(t),children:(0,c.jsx)("div",{className:"day_num bxalg",children:t})})})},p=e=>{let{year:a,onChange:t}=e,l=Array.from({length:108},((e,a)=>a+((new Date).getFullYear()-90))),s=(0,n.useRef)();return(0,n.useEffect)((()=>(setTimeout((()=>{let e=41.6*(16+(a-(new Date).getFullYear())/3);s.current.scrollTo({x:e,y:0,animated:!0})}),20),()=>{})),[a]),(0,c.jsx)("div",{children:(0,c.jsx)("div",{ref:s,style:{maxHeight:"70vh"},className:"scrollV",children:(0,c.jsx)("div",{className:"_dsplFlx year_wrp",children:l.map((e=>(0,c.jsx)("div",{className:"year_tag",onClick:()=>t(e),children:(0,c.jsx)("div",{className:"year-itm".concat(e===a?" activeYear":""," "),children:(0,c.jsx)("div",{className:"y_num",children:e})})},e)))})})})}},5408:(e,a,t)=>{t.d(a,{Z:()=>s});var n=t(2791),l=t(2350);const s=e=>{const[a,t]=(0,n.useState)("");return(0,n.useEffect)((()=>{const a=a=>t((a=>{let t=(0,l.bh)("lastTimeCall_"+e)||0;return Date.now()>t&&((0,l.Rz)("lastTimeCall_"+e,Date.now()+90),a.detail.id===e)?a.detail.hash:""})(a));return document.addEventListener(e,a),()=>{document.removeEventListener(e,a)}}),[e]),a}},2004:()=>{}}]);
//# sourceMappingURL=5304.2122e148.chunk.js.map