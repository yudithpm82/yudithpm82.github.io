"use strict";(self.webpackChunkstephanie_solution=self.webpackChunkstephanie_solution||[]).push([[5091,6349,2959,6874,7567],{7567:(e,s,a)=>{a.r(s),a.d(s,{default:()=>o,loadEvidence:()=>c,loadImage:()=>v});var l=a(2791),i=a(2647),d=a(2350),n=a(5232),t=a(184);(0,i.PU)();const r=(0,i.tW)(),o=e=>{var s,a,i,o,v;let{ImgS3Url:u,imgId:h,urlBasic:p,clickHandle:m,width:g}=e;const[,x]=(0,l.useState)(1),[b,j]=(0,l.useState)(""),N=()=>{x((0,d.M5)())};(0,l.useEffect)((()=>{p?j(p):u?y(u):h&&f(h)}),[u,h,p]);const f=async e=>{var s;let a={...null===(s=(0,d.bh)((0,d.hQ)()))||void 0===s?void 0:s.id_img_loc};a.params={imgLocId:e};const l=(0,d.I7)(a),i=await l;console.log(i)},y=async e=>{var s;let a={...null===(s=(0,d.bh)((0,d.hQ)()))||void 0===s?void 0:s.id_img_loc};a.params={imgLocId:e};const l=(0,d.I7)(a);await l};(0,l.useEffect)((()=>{var e;!b||null!==(e=(0,d.bh)("loadedImages"))&&void 0!==e&&e[b]||(setTimeout((()=>{var e,s;null!==(e=(0,d.bh)("loadedImagesMetadata"))&&void 0!==e&&null!==(s=e[b])&&void 0!==s&&s.w2hRel&&N()}),1800),setTimeout((()=>{var e,s;null!==(e=(0,d.bh)("loadedImagesMetadata"))&&void 0!==e&&null!==(s=e[b])&&void 0!==s&&s.w2hRel&&N()}),1200),c([b]))}),[b]);let _=g||250,w=_/1.6;var k,I;null!==(s=(0,d.bh)("loadedImagesMetadata"))&&void 0!==s&&null!==(a=s[b])&&void 0!==a&&a.w2hRel&&(w=_/(null===(k=(0,d.bh)("loadedImagesMetadata"))||void 0===k||null===(I=k[b])||void 0===I?void 0:I.w2hRel));const C=async(e,s)=>{var a=await(0,d.Em)(e,s);window.open(a)};return(0,t.jsx)("div",{className:" ",children:b?null!==(i=(0,d.bh)("loadedImagesMetadata"))&&void 0!==i&&null!==(o=i[b])&&void 0!==o&&o.w2hRel?(0,t.jsx)("div",{className:"_dsplFlx ",children:(0,t.jsx)("div",{className:"prev_document ",onClick:async()=>{if(m)m();else{let s=(0,d.LH)(b);var e=await(0,n.v8)(b);C(e.url,s)}},children:(0,t.jsx)("img",{src:null===(v=(0,d.bh)("loadedImages"))||void 0===v?void 0:v[b],alt:b,style:{width:_,height:w}})})}):(0,t.jsxs)("div",{className:"icon_compr _dsplFlx",style:{marginTop:10},children:[(0,t.jsx)("div",{className:"lbl_saving prev_document ",children:"getting Image ..."}),(0,t.jsx)(r,{stroke:"var(--partial-success)",size:24,strokeW:8})]}):null})},c=async e=>{let s=(0,d.bh)("loadedImages")||{};const a=e.map((async e=>{e&&(s[e]=await v(e),(0,d.lK)(e,s[e]))}));await Promise.all(a);return(0,d.Rz)("loadedImages",s),!0},v=async e=>{let s=(0,d.LH)(e);var a=await(0,n.v8)(e);return(null===a||void 0===a?void 0:a.url)&&await(0,d.Em)(null===a||void 0===a?void 0:a.url,s)}},6349:(e,s,a)=>{a.d(s,{Z:()=>r});var l=a(9760),i=a(2647),d=a(2350),n=a(184);const t=(0,i.LA)(),r=e=>{let{init:s,label:a,updDate:i}=e;const r=e=>{i(e.initDate+800)};return(0,n.jsxs)("div",{children:[(0,n.jsx)("p",{className:"label",children:a||"Fecha"}),(0,n.jsx)("div",{className:"date2Upd",onClick:()=>{let e={zIndex:950,height:"80vh",props:{minHeight:"1vh",overlay:!0}};e.content=(0,n.jsx)(t,{onConfirm:r,init:s}),(0,l.OpenModal)(e)},children:s?(0,d.sG)(s):(0,d.sG)((new Date).getTime())})]})}},5091:(e,s,a)=>{a.r(s),a.d(s,{default:()=>x});var l=a(2791),i=a(9760),d=a(2647),n=a(2350),t=a(6349),r=a(1479),o=a(3196),c=a(4237),v=a(1439),u=a(7567),h=a(184);const p=(0,d.YZ)(),m=(0,d.A5)(),g=(0,d.Np)(),x=e=>{var s,a,d,x,b,j,N,f,y,_,w,k,I,C,P,F,A,D,S,T,L,R,K,O,M,W,H,E,B,z,Q,U,Z;let{data:q,confirm:Y}=e,G=["lastName1","lastName2","currentAddressId","currentKvaAddressId","signature","requestDate","hasBirthCertificate","tomo","folio","civilRegister","cid","dateLetf","isEmigrado","hasPassport","passportNumberOld","expirationDate","issuePlace","highestDegree","signatureOnPassport","documentType","hiddeLines","hasSignature","referenceName","serviceFee"];const J="cubanPassportFrm",V=(0,l.useRef)(!1),[,X]=(0,l.useState)(1),[$,ee]=(0,l.useState)({}),[se,ae]=(0,l.useState)(!1),le=e=>{X((0,n.M5)())},ie=async(e,s)=>{var a;let l={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.doc_struct};l.params={type:"passportkva_struct"};const i=(0,n.I7)(l),d=await i;d&&!d.error&&((0,n.Rz)("passportkva_struct",d),(0,n.KI)(e,s))};(0,l.useEffect)((()=>{if(!V.current)return V.current=!0,setTimeout((()=>{var e;de("documentType","cubanPassport"),X((0,n.M5)()),(0,n.bh)("passportkva2.pdf")||(e=>{let s=(0,n.bh)("passportkva_last")||0;Date.now()>s&&((0,n.Rz)("passportkva_last",Date.now()+490),ie(e,le))})("passportkva2.pdf");let s=(null===(e=(0,n.bh)((0,n.Ks)()))||void 0===e?void 0:e.residences)||{},a=[],l=[];if(s){let e={};(0,n._2)(s).map((i=>{var d,n;(console.log(i,s[i].country),"USA"===s[i].country)&&(a.push({label:null===(d=s[i])||void 0===d?void 0:d.addressLineOne,id:i}),e[i]=s[i]);"CUB"===s[i].country&&(l.push({label:null===(n=s[i])||void 0===n?void 0:n.addressLineOne,id:i}),e[i]=s[i])}))}(0,n.Rz)("addressListPick",a),(0,n.Rz)("addressCubaListPick",l)}),50),()=>{}}));const de=(e,s)=>{let a=(0,n.bh)(J)||{};a[e]=s,(0,n.Rz)(J,a),X((0,n.M5)())},ne=async(e,s,a,l)=>{var i;let d=null===(i=(0,n.bh)("loadedImages"))||void 0===i?void 0:i[l.signatureOnPassport];var t;d||(d=null===(t=(0,n.bh)("imageSignatures"))||void 0===t?void 0:t[l.signatureOnPassport]);l.hasSignature||(d=null);let o=await(0,r.wO)(e,s,!0,"passportkva2.pdf",a,d,l.signatureOnPassport);window.open(o)},te=()=>{(null===q||void 0===q?void 0:q.modalID)&&(0,i.CloseModal)({id:null===q||void 0===q?void 0:q.modalID})};let re=(0,n.vy)(G,(0,n.bh)(J),(0,n.bh)(J+"_bck"));return console.log((0,n.bh)((0,n.Ks)())),(0,h.jsxs)("div",{style:{maxHeight:"80vh",width:"820px",overflow:"auto",background:"var(--dark-800)",borderRadius:13,padding:"10px 19px"},children:[(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("p",{className:"form_title",children:"Cuban Passport"}),(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"card",children:(0,h.jsx)(v.N,{color:"#007bfc",icon:"printer",label:"Imprimir",clickHandler:async()=>{var e;let s={...(0,n.bh)((0,n.Ks)())},a=Object.assign({},(0,n.bh)(J),s),l=(0,n.fY)(null===s||void 0===s?void 0:s.firstName)+(0,n.fY)(null===s||void 0===s?void 0:s.middleName)+(0,n.fY)(null===s||void 0===s?void 0:s.lastName),i="".concat(l,"_").concat("Cuban Passport"),{result:d,struct:t}=(0,o.P)(a),r=a.signatureOnPassport,c=null===(e=(0,n.bh)("loadedImages"))||void 0===e?void 0:e[r];var v;c||(c=null===(v=(0,n.bh)("imageSignatures"))||void 0===v?void 0:v[r]);console.log((0,n.bh)("loadedImages")),console.log(r,c),(0,n.lK)(a.signatureOnPassport,c),console.log(c),setTimeout((()=>{ne(d,t,i,a)}),400)}})})]}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)(g,{init:null===(s=(0,n.bh)(J))||void 0===s?void 0:s.lastName1,label:"Apellido 1",width:190,updChanges:e=>de("lastName1",e)}),(0,h.jsx)(g,{init:null===(a=(0,n.bh)(J))||void 0===a?void 0:a.lastName2,label:"Apellido 2",width:190,updChanges:e=>de("lastName2",e)})]}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)("div",{style:{margin:"9px 1px 0 25px",minWidth:380},children:(0,h.jsx)(m,{init:null===(d=(0,n.bh)(J))||void 0===d?void 0:d.currentAddressId,lbl_empty:"Address",list:(0,n.bh)("addressListPick")||[],onSelect:e=>de("currentAddressId",e.id),background:"var(--dark-900)",color:"var(--light-200)",direction:"right",width:"380px"})}),(0,h.jsx)("div",{style:{margin:"9px 1px 0 25px",minWidth:380},children:(0,h.jsx)(m,{init:null===(x=(0,n.bh)(J))||void 0===x?void 0:x.currentKvaAddressId,lbl_empty:"Address Cuba",list:(0,n.bh)("addressCubaListPick")||[],onSelect:e=>de("currentKvaAddressId",e.id),background:"var(--dark-900)",color:"var(--light-200)",direction:"right",width:"380px"})})]}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround flxWrp",style:{margin:"10px 0px 30px 0"},children:(0,h.jsx)("div",{style:{margin:"9px 1px 0 25px"},children:(0,h.jsx)(m,{init:null===(b=(0,n.bh)(J))||void 0===b?void 0:b.highestDegree,lbl_empty:"Highest Degree",list:[{label:"Secundaria",id:"525"},{label:"12 grado sin Titulo",id:"526"},{label:"diploma 12 grado, GED",id:"527"},{label:"1 or more years of college credit, no degree",id:"528"},{label:"Bachelor's degree",id:"530"},{label:"Master's degree",id:"531"},{label:"Doctorate degree",id:"533"}],onSelect:e=>de("highestDegree",e.id),background:"var(--dark-900)",color:"var(--light-200)",direction:"left",width:"320px"})})}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)(g,{init:null===(j=(0,n.bh)(J))||void 0===j?void 0:j.cid,label:"Carnet",width:190,updChanges:e=>de("cid",e)}),(0,h.jsx)("div",{children:(0,h.jsx)(t.Z,{init:null===(N=(0,n.bh)(J))||void 0===N?void 0:N.dateLetf,label:"Last Left Date",updDate:e=>de("dateLetf",e)})}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(f=(0,n.bh)(J))||void 0===f?void 0:f.isEmigrado,keyCode:57,updChange:e=>de("isEmigrado",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Emigrado"})]})]}),(0,h.jsxs)("div",{className:"_dsplFlx  spaceAround flxWrp",style:{marginTop:20},children:[(0,h.jsx)(g,{init:null===(y=(0,n.bh)(J))||void 0===y?void 0:y.referenceName,label:"Referencia",width:640,updChanges:e=>de("referenceName",e)}),(0,h.jsxs)("div",{className:"center_align lengthReference ".concat((null===(_=(0,n.bh)(J))||void 0===_||null===(w=_.referenceName)||void 0===w?void 0:w.length)>128?"error":""),children:[null===(k=(0,n.bh)(J))||void 0===k||null===(I=k.referenceName)||void 0===I?void 0:I.length,"/128"]})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(C=(0,n.bh)(J))||void 0===C?void 0:C.hasPassport,keyCode:57,updChange:e=>de("hasPassport",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Has Passport"})]}),null!==(P=(0,n.bh)(J))&&void 0!==P&&P.hasPassport?(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(F=(0,n.bh)(J))||void 0===F?void 0:F.passportNumberOld,label:"Passport Number",width:130,updChanges:e=>de("passportNumberOld",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(t.Z,{init:null===(A=(0,n.bh)(J))||void 0===A?void 0:A.expirationDate,label:"Expiration Date",updDate:e=>de("expirationDate",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(D=(0,n.bh)(J))||void 0===D?void 0:D.issuePlace,label:"Issue Place",width:320,updChanges:e=>de("issuePlace",e)})})]}):null,(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(S=(0,n.bh)(J))||void 0===S?void 0:S.hasBirthCertificate,keyCode:57,updChange:e=>de("hasBirthCertificate",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Has Birth Certificate"})]}),null!==(T=(0,n.bh)(J))&&void 0!==T&&T.hasBirthCertificate?(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9},children:[(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(L=(0,n.bh)(J))||void 0===L?void 0:L.tomo,label:"Tomo",width:100,updChanges:e=>de("tomo",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(R=(0,n.bh)(J))||void 0===R?void 0:R.folio,label:"Folio",width:100,updChanges:e=>de("folio",e)})}),(0,h.jsx)("div",{children:(0,h.jsx)(g,{init:null===(K=(0,n.bh)(J))||void 0===K?void 0:K.civilRegister,label:"Civil Register",width:320,updChanges:e=>de("civilRegister",e)})})]}):null,(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(O=(0,n.bh)(J))||void 0===O?void 0:O.hasSignature,keyCode:57,updChange:e=>de("hasSignature",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Has Signature"})]}),(0,h.jsx)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:(null===(M=(0,n.bh)((0,n.Ks)()))||void 0===M?void 0:M.signatures)&&(0,n._2)(null===(W=(0,n.bh)((0,n.Ks)()))||void 0===W?void 0:W.signatures).map((e=>{var s,a,l;let i=null===(s=(0,n.bh)((0,n.Ks)()))||void 0===s||null===(a=s.signatures)||void 0===a?void 0:a[e];return console.log("imgSign",i),console.log("flnNm",e),(0,h.jsx)("div",{className:"signBx ".concat((null===(l=(0,n.bh)(J))||void 0===l?void 0:l.signatureOnPassport)===e?"active":""),children:(0,h.jsx)(c.SignatureImage,{flnNm:e,imgSign:i,onHandle:e=>de("signatureOnPassport",e)})},e)}))}),(0,h.jsx)("div",{className:"_dsplFlx   spaceAround flxWrp",style:{width:560},children:(0,h.jsx)("div",{className:"signBx ".concat((null===(E=(0,n.bh)(J))||void 0===E?void 0:E.signatureOnPassport)===(null===(B=(0,n.bh)((0,n.Ks)()))||void 0===B?void 0:B.panama_visa_signature)?"active":""),children:(0,h.jsx)("div",{className:"prev_signature ",children:(0,h.jsx)(u.default,{clickHandle:()=>{var e;console.log("selectSign"),de("signatureOnPassport",null===(e=(0,n.bh)((0,n.Ks)()))||void 0===e?void 0:e.panama_visa_signature)},urlBasic:null===(z=(0,n.bh)((0,n.Ks)()))||void 0===z?void 0:z.panama_visa_signature})})},null===(H=(0,n.bh)((0,n.Ks)()))||void 0===H?void 0:H.panama_visa_signature)}),(0,h.jsxs)("div",{className:"_dsplFlx spaceAround flxWrp ",style:{padding:9,marginTop:20},children:[(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:(0,h.jsx)(t.Z,{init:null===(Q=(0,n.bh)(J))||void 0===Q?void 0:Q.requestDate,label:"Fecha de solicitud",updDate:e=>de("requestDate",e)})}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(U=(0,n.bh)(J))||void 0===U?void 0:U.signature,keyCode:57,updChange:e=>de("signature",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Require Signature"})]}),(0,h.jsxs)("div",{className:"_dsplFlx ",style:{marginTop:20},children:[(0,h.jsx)(p,{initvalue:null===(Z=(0,n.bh)(J))||void 0===Z?void 0:Z.hiddeLines,keyCode:57,updChange:e=>de("hiddeLines",e)}),(0,h.jsx)("span",{className:"checklabel",children:"Mostrar Lineas"})]})]}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20},children:null!==re&&void 0!==re&&re.hasChange?(0,h.jsxs)("div",{className:"_dsplFlx ",children:[(0,h.jsx)("div",{className:"flexSpace"}),(0,h.jsx)("div",{className:"card",children:(0,h.jsx)(v.N,{color:"#feb200",icon:"printer",label:"Actualizar",clickHandler:async()=>{let e=(0,n.bh)(J),s={};if(e.caseId){var a,l;let i=(0,n.vy)(G,(0,n.bh)(J),(0,n.bh)(J+"_bck"));s={...null===(a=(0,n.bh)((0,n.hQ)()))||void 0===a?void 0:a.upd_notry_case},s.params={customerId:null===(l=(0,n.bh)((0,n.Ks)()))||void 0===l?void 0:l.clientNotaryId,caseId:e.caseId},s.data2update=i.data}else{var i,d;e.customerId=(0,n.bh)((0,n.Ks)()).clientNotaryId,e.documentType="cubanPassport",e.caseId=(0,n.M5)(),e.date?e.date=new Date(e.date).getTime():e.date=(new Date).getTime()+800,s={...null===(i=(0,n.bh)((0,n.hQ)()))||void 0===i?void 0:i.add_notry_case},s.params={customerId:null===(d=(0,n.bh)((0,n.Ks)()))||void 0===d?void 0:d.clientNotaryId},s.form=e}const t=(0,n.I7)(s),r=await t;r&&!r.error&&te()}})})]}):(0,h.jsx)("div",{className:"card"})}),(0,h.jsx)("div",{className:"_dsplFlx spaceAround",style:{marginTop:20}})]})}}}]);
//# sourceMappingURL=5091.a5d99d74.chunk.js.map