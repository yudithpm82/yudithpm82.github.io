(function(A){var x={};function w(s){if(x[s])return x[s].exports;var v=x[s]={i:s,l:!1,exports:{}};return A[s].call(v.exports,v,v.exports,w),v.l=!0,v.exports}return w.m=A,w.c=x,w.d=function(s,v,O){w.o(s,v)||Object.defineProperty(s,v,{enumerable:!0,get:O})},w.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},w.t=function(s,v){if(1&v&&(s=w(s)),8&v||4&v&&typeof s=="object"&&s&&s.__esModule)return s;var O=Object.create(null);if(w.r(O),Object.defineProperty(O,"default",{enumerable:!0,value:s}),2&v&&typeof s!="string")for(var S in s)w.d(O,S,function(L){return s[L]}.bind(null,S));return O},w.n=function(s){var v=s&&s.__esModule?function(){return s.default}:function(){return s};return w.d(v,"a",v),v},w.o=function(s,v){return Object.prototype.hasOwnProperty.call(s,v)},w.p="",w(w.s=9)})([function(A,x){A.exports={L:1,M:0,Q:3,H:2}},function(A,x){A.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8}},function(A,x,w){var s=w(3);function v(O,S){if(O.length==null)throw new Error(O.length+"/"+S);for(var L=0;L<O.length&&O[L]==0;)L++;this.num=new Array(O.length-L+S);for(var k=0;k<O.length-L;k++)this.num[k]=O[k+L]}v.prototype={get:function(O){return this.num[O]},getLength:function(){return this.num.length},multiply:function(O){for(var S=new Array(this.getLength()+O.getLength()-1),L=0;L<this.getLength();L++)for(var k=0;k<O.getLength();k++)S[L+k]^=s.gexp(s.glog(this.get(L))+s.glog(O.get(k)));return new v(S,0)},mod:function(O){if(this.getLength()-O.getLength()<0)return this;for(var S=s.glog(this.get(0))-s.glog(O.get(0)),L=new Array(this.getLength()),k=0;k<this.getLength();k++)L[k]=this.get(k);for(k=0;k<O.getLength();k++)L[k]^=s.gexp(s.glog(O.get(k))+S);return new v(L,0).mod(O)}},A.exports=v},function(A,x){for(var w={glog:function(v){if(v<1)throw new Error("glog("+v+")");return w.LOG_TABLE[v]},gexp:function(v){for(;v<0;)v+=255;for(;v>=256;)v-=255;return w.EXP_TABLE[v]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},s=0;s<8;s++)w.EXP_TABLE[s]=1<<s;for(s=8;s<256;s++)w.EXP_TABLE[s]=w.EXP_TABLE[s-4]^w.EXP_TABLE[s-5]^w.EXP_TABLE[s-6]^w.EXP_TABLE[s-8];for(s=0;s<255;s++)w.LOG_TABLE[w.EXP_TABLE[s]]=s;A.exports=w},function(A,x,w){var s=w(5),v=w(6),O=w(7),S=w(8),L=w(2);function k(y,C){this.typeNumber=y,this.errorCorrectLevel=C,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var M=k.prototype;M.addData=function(y){var C=new s(y);this.dataList.push(C),this.dataCache=null},M.isDark=function(y,C){if(y<0||this.moduleCount<=y||C<0||this.moduleCount<=C)throw new Error(y+","+C);return this.modules[y][C]},M.getModuleCount=function(){return this.moduleCount},M.make=function(){if(this.typeNumber<1){var y=1;for(y=1;y<40;y++){for(var C=v.getRSBlocks(y,this.errorCorrectLevel),g=new O,d=0,f=0;f<C.length;f++)d+=C[f].dataCount;for(f=0;f<this.dataList.length;f++){var l=this.dataList[f];g.put(l.mode,4),g.put(l.getLength(),S.getLengthInBits(l.mode,y)),l.write(g)}if(g.getLengthInBits()<=8*d)break}this.typeNumber=y}this.makeImpl(!1,this.getBestMaskPattern())},M.makeImpl=function(y,C){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var g=0;g<this.moduleCount;g++){this.modules[g]=new Array(this.moduleCount);for(var d=0;d<this.moduleCount;d++)this.modules[g][d]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(y,C),this.typeNumber>=7&&this.setupTypeNumber(y),this.dataCache==null&&(this.dataCache=k.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,C)},M.setupPositionProbePattern=function(y,C){for(var g=-1;g<=7;g++)if(!(y+g<=-1||this.moduleCount<=y+g))for(var d=-1;d<=7;d++)C+d<=-1||this.moduleCount<=C+d||(this.modules[y+g][C+d]=0<=g&&g<=6&&(d==0||d==6)||0<=d&&d<=6&&(g==0||g==6)||2<=g&&g<=4&&2<=d&&d<=4)},M.getBestMaskPattern=function(){for(var y=0,C=0,g=0;g<8;g++){this.makeImpl(!0,g);var d=S.getLostPoint(this);(g==0||y>d)&&(y=d,C=g)}return C},M.createMovieClip=function(y,C,g){var d=y.createEmptyMovieClip(C,g);this.make();for(var f=0;f<this.modules.length;f++)for(var l=1*f,c=0;c<this.modules[f].length;c++){var m=1*c;this.modules[f][c]&&(d.beginFill(0,100),d.moveTo(m,l),d.lineTo(m+1,l),d.lineTo(m+1,l+1),d.lineTo(m,l+1),d.endFill())}return d},M.setupTimingPattern=function(){for(var y=8;y<this.moduleCount-8;y++)this.modules[y][6]==null&&(this.modules[y][6]=y%2==0);for(var C=8;C<this.moduleCount-8;C++)this.modules[6][C]==null&&(this.modules[6][C]=C%2==0)},M.setupPositionAdjustPattern=function(){for(var y=S.getPatternPosition(this.typeNumber),C=0;C<y.length;C++)for(var g=0;g<y.length;g++){var d=y[C],f=y[g];if(this.modules[d][f]==null)for(var l=-2;l<=2;l++)for(var c=-2;c<=2;c++)this.modules[d+l][f+c]=l==-2||l==2||c==-2||c==2||l==0&&c==0}},M.setupTypeNumber=function(y){for(var C=S.getBCHTypeNumber(this.typeNumber),g=0;g<18;g++){var d=!y&&(C>>g&1)==1;this.modules[Math.floor(g/3)][g%3+this.moduleCount-8-3]=d}for(g=0;g<18;g++)d=!y&&(C>>g&1)==1,this.modules[g%3+this.moduleCount-8-3][Math.floor(g/3)]=d},M.setupTypeInfo=function(y,C){for(var g=this.errorCorrectLevel<<3|C,d=S.getBCHTypeInfo(g),f=0;f<15;f++){var l=!y&&(d>>f&1)==1;f<6?this.modules[f][8]=l:f<8?this.modules[f+1][8]=l:this.modules[this.moduleCount-15+f][8]=l}for(f=0;f<15;f++)l=!y&&(d>>f&1)==1,f<8?this.modules[8][this.moduleCount-f-1]=l:f<9?this.modules[8][15-f-1+1]=l:this.modules[8][15-f-1]=l;this.modules[this.moduleCount-8][8]=!y},M.mapData=function(y,C){for(var g=-1,d=this.moduleCount-1,f=7,l=0,c=this.moduleCount-1;c>0;c-=2)for(c==6&&c--;;){for(var m=0;m<2;m++)if(this.modules[d][c-m]==null){var _=!1;l<y.length&&(_=(y[l]>>>f&1)==1),S.getMask(C,d,c-m)&&(_=!_),this.modules[d][c-m]=_,--f==-1&&(l++,f=7)}if((d+=g)<0||this.moduleCount<=d){d-=g,g=-g;break}}},k.PAD0=236,k.PAD1=17,k.createData=function(y,C,g){for(var d=v.getRSBlocks(y,C),f=new O,l=0;l<g.length;l++){var c=g[l];f.put(c.mode,4),f.put(c.getLength(),S.getLengthInBits(c.mode,y)),c.write(f)}var m=0;for(l=0;l<d.length;l++)m+=d[l].dataCount;if(f.getLengthInBits()>8*m)throw new Error("code length overflow. ("+f.getLengthInBits()+">"+8*m+")");for(f.getLengthInBits()+4<=8*m&&f.put(0,4);f.getLengthInBits()%8!=0;)f.putBit(!1);for(;!(f.getLengthInBits()>=8*m||(f.put(k.PAD0,8),f.getLengthInBits()>=8*m));)f.put(k.PAD1,8);return k.createBytes(f,d)},k.createBytes=function(y,C){for(var g=0,d=0,f=0,l=new Array(C.length),c=new Array(C.length),m=0;m<C.length;m++){var _=C[m].dataCount,D=C[m].totalCount-_;d=Math.max(d,_),f=Math.max(f,D),l[m]=new Array(_);for(var j=0;j<l[m].length;j++)l[m][j]=255&y.buffer[j+g];g+=_;var G=S.getErrorCorrectPolynomial(D),I=new L(l[m],G.getLength()-1).mod(G);for(c[m]=new Array(G.getLength()-1),j=0;j<c[m].length;j++){var R=j+I.getLength()-c[m].length;c[m][j]=R>=0?I.get(R):0}}var q=0;for(j=0;j<C.length;j++)q+=C[j].totalCount;var H=new Array(q),K=0;for(j=0;j<d;j++)for(m=0;m<C.length;m++)j<l[m].length&&(H[K++]=l[m][j]);for(j=0;j<f;j++)for(m=0;m<C.length;m++)j<c[m].length&&(H[K++]=c[m][j]);return H},A.exports=k},function(A,x,w){var s=w(1);function v(O){this.mode=s.MODE_8BIT_BYTE,this.data=O}v.prototype={getLength:function(O){return this.data.length},write:function(O){for(var S=0;S<this.data.length;S++)O.put(this.data.charCodeAt(S),8)}},A.exports=v},function(A,x,w){var s=w(0);function v(O,S){this.totalCount=O,this.dataCount=S}v.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],v.getRSBlocks=function(O,S){var L=v.getRsBlockTable(O,S);if(L==null)throw new Error("bad rs block @ typeNumber:"+O+"/errorCorrectLevel:"+S);for(var k=L.length/3,M=new Array,y=0;y<k;y++)for(var C=L[3*y+0],g=L[3*y+1],d=L[3*y+2],f=0;f<C;f++)M.push(new v(g,d));return M},v.getRsBlockTable=function(O,S){switch(S){case s.L:return v.RS_BLOCK_TABLE[4*(O-1)+0];case s.M:return v.RS_BLOCK_TABLE[4*(O-1)+1];case s.Q:return v.RS_BLOCK_TABLE[4*(O-1)+2];case s.H:return v.RS_BLOCK_TABLE[4*(O-1)+3];default:return}},A.exports=v},function(A,x){function w(){this.buffer=new Array,this.length=0}w.prototype={get:function(s){var v=Math.floor(s/8);return(this.buffer[v]>>>7-s%8&1)==1},put:function(s,v){for(var O=0;O<v;O++)this.putBit((s>>>v-O-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(s){var v=Math.floor(this.length/8);this.buffer.length<=v&&this.buffer.push(0),s&&(this.buffer[v]|=128>>>this.length%8),this.length++}},A.exports=w},function(A,x,w){var s=w(1),v=w(2),O=w(3),S=0,L=1,k=2,M=3,y=4,C=5,g=6,d=7,f={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(l){for(var c=l<<10;f.getBCHDigit(c)-f.getBCHDigit(f.G15)>=0;)c^=f.G15<<f.getBCHDigit(c)-f.getBCHDigit(f.G15);return(l<<10|c)^f.G15_MASK},getBCHTypeNumber:function(l){for(var c=l<<12;f.getBCHDigit(c)-f.getBCHDigit(f.G18)>=0;)c^=f.G18<<f.getBCHDigit(c)-f.getBCHDigit(f.G18);return l<<12|c},getBCHDigit:function(l){for(var c=0;l!=0;)c++,l>>>=1;return c},getPatternPosition:function(l){return f.PATTERN_POSITION_TABLE[l-1]},getMask:function(l,c,m){switch(l){case S:return(c+m)%2==0;case L:return c%2==0;case k:return m%3==0;case M:return(c+m)%3==0;case y:return(Math.floor(c/2)+Math.floor(m/3))%2==0;case C:return c*m%2+c*m%3==0;case g:return(c*m%2+c*m%3)%2==0;case d:return(c*m%3+(c+m)%2)%2==0;default:throw new Error("bad maskPattern:"+l)}},getErrorCorrectPolynomial:function(l){for(var c=new v([1],0),m=0;m<l;m++)c=c.multiply(new v([1,O.gexp(m)],0));return c},getLengthInBits:function(l,c){if(1<=c&&c<10)switch(l){case s.MODE_NUMBER:return 10;case s.MODE_ALPHA_NUM:return 9;case s.MODE_8BIT_BYTE:case s.MODE_KANJI:return 8;default:throw new Error("mode:"+l)}else if(c<27)switch(l){case s.MODE_NUMBER:return 12;case s.MODE_ALPHA_NUM:return 11;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 10;default:throw new Error("mode:"+l)}else{if(!(c<41))throw new Error("type:"+c);switch(l){case s.MODE_NUMBER:return 14;case s.MODE_ALPHA_NUM:return 13;case s.MODE_8BIT_BYTE:return 16;case s.MODE_KANJI:return 12;default:throw new Error("mode:"+l)}}},getLostPoint:function(l){for(var c=l.getModuleCount(),m=0,_=0;_<c;_++)for(var D=0;D<c;D++){for(var j=0,G=l.isDark(_,D),I=-1;I<=1;I++)if(!(_+I<0||c<=_+I))for(var R=-1;R<=1;R++)D+R<0||c<=D+R||I==0&&R==0||G==l.isDark(_+I,D+R)&&j++;j>5&&(m+=3+j-5)}for(_=0;_<c-1;_++)for(D=0;D<c-1;D++){var q=0;l.isDark(_,D)&&q++,l.isDark(_+1,D)&&q++,l.isDark(_,D+1)&&q++,l.isDark(_+1,D+1)&&q++,q!=0&&q!=4||(m+=3)}for(_=0;_<c;_++)for(D=0;D<c-6;D++)l.isDark(_,D)&&!l.isDark(_,D+1)&&l.isDark(_,D+2)&&l.isDark(_,D+3)&&l.isDark(_,D+4)&&!l.isDark(_,D+5)&&l.isDark(_,D+6)&&(m+=40);for(D=0;D<c;D++)for(_=0;_<c-6;_++)l.isDark(_,D)&&!l.isDark(_+1,D)&&l.isDark(_+2,D)&&l.isDark(_+3,D)&&l.isDark(_+4,D)&&!l.isDark(_+5,D)&&l.isDark(_+6,D)&&(m+=40);var H=0;for(D=0;D<c;D++)for(_=0;_<c;_++)l.isDark(_,D)&&H++;return m+=10*(Math.abs(100*H/c/c-50)/5)}};A.exports=f},function(A,x,w){function s(o){return function(e){if(Array.isArray(e)){for(var a=0,n=new Array(e.length);a<e.length;a++)n[a]=e[a];return n}}(o)||function(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function v(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}w.r(x);var O=function(){function o(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}var e,a,n;return e=o,n=[{key:"convertHexColorToBytes",value:function(r){var t=[],i=r.replace("#","");if(!/^[0-9A-F]{3,8}$/i.test(i))return[0,0,0,0];switch(i.length){case 3:i+="F";case 4:t.push.apply(t,s(i.split("").map(function(u){return parseInt(u.repeat(2),16)})));break;case 6:i+="FF";case 8:t.push(parseInt(i.substr(0,2),16)),t.push(parseInt(i.substr(2,2),16)),t.push(parseInt(i.substr(4,2),16)),t.push(parseInt(i.substr(6,2),16));break;default:t.push(0,0,0,0)}return t}}],(a=null)&&v(e.prototype,a),n&&v(e,n),o}(),S=w(4),L=w.n(S),k=w(0),M=w.n(k);function y(o){return function(e){if(Array.isArray(e)){for(var a=0,n=new Array(e.length);a<e.length;a++)n[a]=e[a];return n}}(o)||function(e){if(Symbol.iterator in Object(e)||Object.prototype.toString.call(e)==="[object Arguments]")return Array.from(e)}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function C(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function g(o,e,a){return e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}var d={level:"L",padding:1,invert:!1,typeNumber:0,errorsEnabled:!1},f=function(){function o(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(i,u){if(!(i instanceof u))throw new TypeError("Cannot call a class as a function")})(this,o),g(this,"value",void 0),g(this,"level",void 0),g(this,"typeNumber",void 0),g(this,"padding",void 0),g(this,"errorsEnabled",void 0),g(this,"qrCodeData",void 0);var t=function(i){for(var u=1;u<arguments.length;u++){var h=arguments[u]!=null?arguments[u]:{},p=Object.keys(h);typeof Object.getOwnPropertySymbols=="function"&&(p=p.concat(Object.getOwnPropertySymbols(h).filter(function(b){return Object.getOwnPropertyDescriptor(h,b).enumerable}))),p.forEach(function(b){g(i,b,h[b])})}return i}({},d,r);this.value=n,this.level=t.level,this.typeNumber=t.typeNumber,this.padding=t.padding,this.invert=t.invert,this.errorsEnabled=t.errorsEnabled}var e,a;return e=o,(a=[{key:"setValue",value:function(n){this.value=n,this._clearCache()}},{key:"getDataSize",value:function(){var n=this.getData();return n?n.length:0}},{key:"_clearCache",value:function(){this.qrCodeData=null}},{key:"_getQrCodeData",value:function(n){var r=[],t=this.padding,i=this.invert,u=Array(2*t+n.length).fill(i),h=Array(t).fill(u),p=Array(t).fill(i);return t&&r.push.apply(r,y(h)),n.forEach(function(b){var P=[];P.push.apply(P,y(p).concat(y(b.map(function(E){return i?!E:E})),y(p))),r.push(P)}),t&&r.push.apply(r,y(h)),r}},{key:"getData",value:function(){if(!this.qrCodeData)try{var n=new L.a(this.typeNumber,M.a[this.level]);if(n.addData(this.value),n.make(),!n.modules)return null;this.qrCodeData=this._getQrCodeData(n.modules),Object.freeze(this.qrCodeData)}catch(r){if(this.errorsEnabled)throw r;return null}return this.qrCodeData}}])&&C(e.prototype,a),o}();function l(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var c=function(){function o(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}var e,a,n;return e=o,n=[{key:"calculateDimension",value:function(r,t){return typeof r=="number"?r:typeof r=="string"&&r.indexOf("%")>0?Math.round(parseFloat(r)/100*t)||0:parseFloat(r)||0}},{key:"calculatePosition",value:function(r,t,i){if(typeof r=="number")return r;if(typeof r!="string"||r==="left"||r==="top")return 0;if(r==="right"||r==="bottom")return i-t;if(r==="center")return Math.round((i-t)/2);var u=r.match(/^(?:(right|bottom|left|top)\s+)?(-?[0-9.]+)(%)?$/);if(!u)return 0;var h=u[1]==="right"||u[1]==="bottom",p=!!u[3],b=parseFloat(u[2])||0;return p&&(b=Math.round(b/100*i)),h&&(b=i-b-t),Math.round(b)}}],(a=null)&&l(e.prototype,a),n&&l(e,n),o}();function m(o){return(m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function _(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function D(o,e,a){return(D=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var i=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=j(h))!==null;);return h}(n,r);if(i){var u=Object.getOwnPropertyDescriptor(i,r);return u.get?u.get.call(t):u.value}})(o,e,a||o)}function j(o){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function G(o,e){return(G=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a})(o,e)}function I(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function R(o,e,a){return e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}var q={image:null},H=function(o){function e(r){var t,i,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),i=this,t=!(u=j(e).call(this,r,h))||m(u)!=="object"&&typeof u!="function"?I(i):u,R(I(I(t)),"image",null),R(I(I(t)),"imageConfig",null);var p=function(b){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},B=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(E).filter(function(T){return Object.getOwnPropertyDescriptor(E,T).enumerable}))),B.forEach(function(T){R(b,T,E[T])})}return b}({},q,h);return t.image=p.image,t}var a,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&G(r,t)}(e,f),a=e,(n=[{key:"_clearCache",value:function(){D(j(e.prototype),"_clearCache",this).call(this),this.imageConfig=null}},{key:"_getImageSource",value:function(r){var t=r.source;return typeof t=="string"?t:t instanceof Image?t.src:t instanceof HTMLCanvasElement?t.toDataURL():null}},{key:"_getImageConfig",value:function(){if(this.imageConfig)return this.imageConfig;if(!(this.image&&this.image.source&&this.image.width&&this.image.height))return null;var r=this.getDataSize();if(!r)return null;var t=this._getImageSource(this.image);if(!t)return null;var i=r-2*this.padding,u=c.calculateDimension(this.image.width,i),h=c.calculateDimension(this.image.height,i),p=c.calculatePosition(this.image.x,u,i)+this.padding,b=c.calculatePosition(this.image.y,h,i)+this.padding,P=1;return typeof this.image.border!="number"&&this.image.border!==null||(P=this.image.border),this.imageConfig={source:t,border:P,x:p,y:b,width:u,height:h},this.imageConfig}},{key:"getData",value:function(){if(this.qrCodeData)return this.qrCodeData;var r=D(j(e.prototype),"getData",this).call(this);if(!r)return r;var t=this._getImageConfig();if(t&&t.width&&t.height&&typeof t.border=="number")for(var i=Math.max(t.x-t.border,0),u=Math.max(t.y-t.border,0),h=Math.min(i+t.width+2*t.border,r.length),p=Math.min(u+t.height+2*t.border,r.length),b=u;b<p;b+=1)for(var P=i;P<h;P+=1)r[b][P]=!!this.invert;return r}}])&&_(a.prototype,n),e}();function K(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}var ut=function(){function o(){(function(r,t){if(!(r instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o)}var e,a,n;return e=o,n=[{key:"load",value:function(r){return new Promise(function(t,i){var u=new Image;u.onload=function(){return t(u)},u.onerror=function(){return i(u)},u.src=r})}}],(a=null)&&K(e.prototype,a),n&&K(e,n),o}();function $(o){return($=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function lt(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function W(o,e,a){return(W=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var i=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=Q(h))!==null;);return h}(n,r);if(i){var u=Object.getOwnPropertyDescriptor(i,r);return u.get?u.get.call(t):u.value}})(o,e,a||o)}function Q(o){return(Q=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function Z(o,e){return(Z=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a})(o,e)}function N(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function z(o,e,a){return e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}var st={fgColor:"#000",bgColor:"#FFF",scale:10,size:null},ct=function(o){function e(r){var t,i,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),i=this,t=!(u=Q(e).call(this,r,h))||$(u)!=="object"&&typeof u!="function"?N(i):u,z(N(N(t)),"fgColor",void 0),z(N(N(t)),"bgColor",void 0),z(N(N(t)),"scale",void 0),z(N(N(t)),"size",void 0),z(N(N(t)),"canvas",void 0),z(N(N(t)),"canvasContext",void 0);var p=function(b){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},B=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(E).filter(function(T){return Object.getOwnPropertyDescriptor(E,T).enumerable}))),B.forEach(function(T){z(b,T,E[T])})}return b}({},st,h);return t.fgColor=p.fgColor,t.bgColor=p.bgColor,t.scale=p.scale,t.size=p.size,t.canvas=document.createElement("canvas"),t.canvasContext=t.canvas.getContext("2d"),t.toDataURL=t.toDataUrl,t}var a,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&Z(r,t)}(e,H),a=e,(n=[{key:"_clearCache",value:function(){W(Q(e.prototype),"_clearCache",this).call(this),this.canvas.width=0}},{key:"_getCanvasSize",value:function(){var r=this.getDataSize();return r?this.size?this.size:this.scale?this.scale*r:r:null}},{key:"draw",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,t=this.getDataSize();if(!t)return null;var i=this.getData();if(!i)return null;var u=O.convertHexColorToBytes(this.fgColor),h=O.convertHexColorToBytes(this.bgColor),p=0,b=new Uint8ClampedArray(4*Math.pow(t,2));i.forEach(function(mt){mt.forEach(function(dt){dt?b.set(u,p):b.set(h,p),p+=4})});var P=new ImageData(b,t,t);this.canvas.width=t,this.canvas.height=t,this.canvasContext.putImageData(P,0,0);var E=this._getCanvasSize(),B=r||document.createElement("canvas");B.width=E,B.height=E;var T=B.getContext("2d");T.imageSmoothingEnabled=!1,T.drawImage(this.canvas,0,0,E,E);var at=this._drawImage(T,E/t);return at instanceof Promise?at.then(function(){return B}):B}},{key:"_getImageSource",value:function(r){var t=this,i=r.source;return typeof i=="string"?ut.load(i).then(function(u){return t.image.source=u,r.source=u,u}):i instanceof Image||i instanceof HTMLCanvasElement?i:null}},{key:"_drawImage",value:function(r,t){var i=this._getImageConfig();return i?i.source instanceof Promise?i.source.then(function(u){r.drawImage(u,i.x*t,i.y*t,i.width*t,i.height*t)}):(r.drawImage(i.source,i.x*t,i.y*t,i.width*t,i.height*t),!0):null}},{key:"getCanvas",value:function(){return this.draw()}},{key:"toDataUrl",value:function(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"image/png",t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.92,i=this.draw();return i?i instanceof Promise?i.then(function(u){return u.toDataURL(r,t)}):i.toDataURL(r,t):null}}])&&lt(a.prototype,n),e}();function tt(o){return(tt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function ft(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function et(o,e,a){return(et=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var i=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=X(h))!==null;);return h}(n,r);if(i){var u=Object.getOwnPropertyDescriptor(i,r);return u.get?u.get.call(t):u.value}})(o,e,a||o)}function X(o){return(X=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function rt(o,e){return(rt=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a})(o,e)}function U(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function V(o,e,a){return e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}var ht={fgColor:"#000",bgColor:"#FFF"},gt=function(o){function e(r){var t,i,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),i=this,t=!(u=X(e).call(this,r,h))||tt(u)!=="object"&&typeof u!="function"?U(i):u,V(U(U(t)),"fgColor",void 0),V(U(U(t)),"bgColor",void 0),V(U(U(t)),"qrCodeSVG",null),V(U(U(t)),"qrCodeDataUrl",null);var p=function(b){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},B=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(E).filter(function(T){return Object.getOwnPropertyDescriptor(E,T).enumerable}))),B.forEach(function(T){V(b,T,E[T])})}return b}({},ht,h);return t.fgColor=p.fgColor,t.bgColor=p.bgColor,t.toDataURL=t.toDataUrl,t}var a,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&rt(r,t)}(e,H),a=e,(n=[{key:"_clearCache",value:function(){et(X(e.prototype),"_clearCache",this).call(this),this.qrCodeSVG=null,this.qrCodeDataUrl=null}},{key:"_getDataInt",value:function(){var r=this.getData();return r?r.map(function(t){return t.map(function(i){return i?1:0})}):null}},{key:"_getRects",value:function(){var r=this._getDataInt();if(!r)return null;for(var t=[],i=r.length-1,u=0;u<=i;u+=1)for(var h=-1,p=0;p<=i;p+=1){var b=r[u][p]===1;if(b&&h===-1&&(h=p),h!==-1&&(p===i||!b)){var P=p-(b?0:1),E=this._processRect(r,h,P,u);E&&t.push(E),h=-1}}return t}},{key:"_processRect",value:function(r,t,i,u){for(var h=r.length-1,p=!1,b=!1,P=0,E=u;E<=h;E+=1){for(var B=t;B<=i;B+=1)if(r[E][B]===0){b=!0;break}if(b)break;for(var T=t;T<=i;T+=1)r[E][T]===1&&(p=!0,r[E][T]=2);P+=1}return p?{x:t,y:u,width:i-t+1,height:P}:null}},{key:"_getRelativeRects",value:function(){var r=this._getRects();if(!r)return null;var t=[],i={},u=0;return r.forEach(function(h){var p="".concat(h.width,":").concat(h.height);i[p]?(i[p].count+=1,i[p].id||(i[p].id="i".concat(u.toString(32)),u+=1)):i[p]={count:1,rect:h,relative:!1,id:null}}),r.forEach(function(h){var p="".concat(h.width,":").concat(h.height),b=i[p];b.relative?t.push({id:b.id,x:h.x-b.rect.x,y:h.y-b.rect.y}):(b.id&&(h.id=b.id,b.relative=!0),t.push(h))}),t}},{key:"_buildSVG",value:function(r){var t=this,i=this.getDataSize(),u=['<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" '+'shape-rendering="crispEdges" viewBox="0 0 '.concat(i," ").concat(i,'">')];this.bgColor&&u.push('<rect x="0" y="0" height="'.concat(i,'" width="').concat(i,'" fill="').concat(this.bgColor,'"/>')),r.forEach(function(p){if(p.width&&p.height){var b=p.id?'id="'.concat(p.id,'" '):"";u.push("<rect ".concat(b,'x="').concat(p.x,'" y="').concat(p.y,'" height="').concat(p.height,'" width="').concat(p.width,'" fill="').concat(t.fgColor,'"/>'))}else u.push('<use xlink:href="#'.concat(p.id,'" x="').concat(p.x,'" y="').concat(p.y,'"/>'))});var h=this._getImageConfig();return h&&h.width&&h.height&&u.push('<image xlink:href="'.concat(h.source,'" x="').concat(h.x,'" y="').concat(h.y,'" width="').concat(h.width,'" height="').concat(h.height,'"/>')),u.push("</svg>"),u.join("")}},{key:"toString",value:function(){if(!this.qrCodeSVG){if(!this.getDataSize())return null;var r=this._getRects();if(!r)return null;this.qrCodeSVG=this._buildSVG(r)}return this.qrCodeSVG}},{key:"toDataUrl",value:function(){if(!this.qrCodeDataUrl){if(!this.getDataSize())return null;var r=this._getRelativeRects();if(!r)return null;var t=this._buildSVG(r);this.qrCodeDataUrl="data:image/svg+xml;base64,".concat(btoa(t))}return this.qrCodeDataUrl}}])&&ft(a.prototype,n),e}();function nt(o){return(nt=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(o)}function pt(o,e){for(var a=0;a<e.length;a++){var n=e[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}function ot(o,e,a){return(ot=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(n,r,t){var i=function(h,p){for(;!Object.prototype.hasOwnProperty.call(h,p)&&(h=Y(h))!==null;);return h}(n,r);if(i){var u=Object.getOwnPropertyDescriptor(i,r);return u.get?u.get.call(t):u.value}})(o,e,a||o)}function Y(o){return(Y=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(o)}function it(o,e){return(it=Object.setPrototypeOf||function(a,n){return a.__proto__=n,a})(o,e)}function F(o){if(o===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}function J(o,e,a){return e in o?Object.defineProperty(o,e,{value:a,enumerable:!0,configurable:!0,writable:!0}):o[e]=a,o}var yt={blackSymbol:"▓▓",whiteSymbol:"  "},vt=function(o){function e(r){var t,i,u,h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(b,P){if(!(b instanceof P))throw new TypeError("Cannot call a class as a function")})(this,e),i=this,t=!(u=Y(e).call(this,r,h))||nt(u)!=="object"&&typeof u!="function"?F(i):u,J(F(F(t)),"blackSymbol",void 0),J(F(F(t)),"whiteSymbol",void 0),J(F(F(t)),"qrCodeText",null);var p=function(b){for(var P=1;P<arguments.length;P++){var E=arguments[P]!=null?arguments[P]:{},B=Object.keys(E);typeof Object.getOwnPropertySymbols=="function"&&(B=B.concat(Object.getOwnPropertySymbols(E).filter(function(T){return Object.getOwnPropertyDescriptor(E,T).enumerable}))),B.forEach(function(T){J(b,T,E[T])})}return b}({},yt,h);return t.blackSymbol=p.blackSymbol,t.whiteSymbol=p.whiteSymbol,t}var a,n;return function(r,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");r.prototype=Object.create(t&&t.prototype,{constructor:{value:r,writable:!0,configurable:!0}}),t&&it(r,t)}(e,f),a=e,(n=[{key:"_clearCache",value:function(){ot(Y(e.prototype),"_clearCache",this).call(this),this.qrCodeText=null}},{key:"toString",value:function(){if(this.qrCodeText)return this.qrCodeText;var r=this.getDataSize();if(!r)return null;for(var t=this.getData(),i=[],u=0;u<r;u+=1){for(var h=0;h<r;h+=1){var p=t[u][h];i.push(p?this.blackSymbol:this.whiteSymbol)}i.push(`
`)}return this.qrCodeText=i.join(""),this.qrCodeText}}])&&pt(a.prototype,n),e}();w.d(x,"QRCodeCanvas",function(){return ct}),w.d(x,"QRCodeRaw",function(){return f}),w.d(x,"QRCodeSVG",function(){return gt}),w.d(x,"QRCodeText",function(){return vt}),w.d(x,"AbstractQRCodeWithImage",function(){return H})}]);
